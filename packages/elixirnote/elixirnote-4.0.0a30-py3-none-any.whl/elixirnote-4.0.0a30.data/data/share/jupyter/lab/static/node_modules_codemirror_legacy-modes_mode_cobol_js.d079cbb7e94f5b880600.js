"use strict";
(self["webpackChunk_jupyterlab_application_top"] = self["webpackChunk_jupyterlab_application_top"] || []).push([["node_modules_codemirror_legacy-modes_mode_cobol_js"],{

/***/ "../../node_modules/@codemirror/legacy-modes/mode/cobol.js":
/*!*****************************************************************!*\
  !*** ../../node_modules/@codemirror/legacy-modes/mode/cobol.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "cobol": () => (/* binding */ cobol)
/* harmony export */ });
var BUILTIN = "builtin", COMMENT = "comment", STRING = "string",
    ATOM = "atom", NUMBER = "number", KEYWORD = "keyword", MODTAG = "header",
    COBOLLINENUM = "def", PERIOD = "link";
function makeKeywords(str) {
  var obj = {}, words = str.split(" ");
  for (var i = 0; i < words.length; ++i) obj[words[i]] = true;
  return obj;
}
var atoms = makeKeywords("TRUE FALSE ZEROES ZEROS ZERO SPACES SPACE LOW-VALUE LOW-VALUES ");
var keywords = makeKeywords(
  "ACCEPT ACCESS ACQUIRE ADD ADDRESS " +
    "ADVANCING AFTER ALIAS ALL ALPHABET " +
    "ALPHABETIC ALPHABETIC-LOWER ALPHABETIC-UPPER ALPHANUMERIC ALPHANUMERIC-EDITED " +
    "ALSO ALTER ALTERNATE AND ANY " +
    "ARE AREA AREAS ARITHMETIC ASCENDING " +
    "ASSIGN AT ATTRIBUTE AUTHOR AUTO " +
    "AUTO-SKIP AUTOMATIC B-AND B-EXOR B-LESS " +
    "B-NOT B-OR BACKGROUND-COLOR BACKGROUND-COLOUR BEEP " +
    "BEFORE BELL BINARY BIT BITS " +
    "BLANK BLINK BLOCK BOOLEAN BOTTOM " +
    "BY CALL CANCEL CD CF " +
    "CH CHARACTER CHARACTERS CLASS CLOCK-UNITS " +
    "CLOSE COBOL CODE CODE-SET COL " +
    "COLLATING COLUMN COMMA COMMIT COMMITMENT " +
    "COMMON COMMUNICATION COMP COMP-0 COMP-1 " +
    "COMP-2 COMP-3 COMP-4 COMP-5 COMP-6 " +
    "COMP-7 COMP-8 COMP-9 COMPUTATIONAL COMPUTATIONAL-0 " +
    "COMPUTATIONAL-1 COMPUTATIONAL-2 COMPUTATIONAL-3 COMPUTATIONAL-4 COMPUTATIONAL-5 " +
    "COMPUTATIONAL-6 COMPUTATIONAL-7 COMPUTATIONAL-8 COMPUTATIONAL-9 COMPUTE " +
    "CONFIGURATION CONNECT CONSOLE CONTAINED CONTAINS " +
    "CONTENT CONTINUE CONTROL CONTROL-AREA CONTROLS " +
    "CONVERTING COPY CORR CORRESPONDING COUNT " +
    "CRT CRT-UNDER CURRENCY CURRENT CURSOR " +
    "DATA DATE DATE-COMPILED DATE-WRITTEN DAY " +
    "DAY-OF-WEEK DB DB-ACCESS-CONTROL-KEY DB-DATA-NAME DB-EXCEPTION " +
    "DB-FORMAT-NAME DB-RECORD-NAME DB-SET-NAME DB-STATUS DBCS " +
    "DBCS-EDITED DE DEBUG-CONTENTS DEBUG-ITEM DEBUG-LINE " +
    "DEBUG-NAME DEBUG-SUB-1 DEBUG-SUB-2 DEBUG-SUB-3 DEBUGGING " +
    "DECIMAL-POINT DECLARATIVES DEFAULT DELETE DELIMITED " +
    "DELIMITER DEPENDING DESCENDING DESCRIBED DESTINATION " +
    "DETAIL DISABLE DISCONNECT DISPLAY DISPLAY-1 " +
    "DISPLAY-2 DISPLAY-3 DISPLAY-4 DISPLAY-5 DISPLAY-6 " +
    "DISPLAY-7 DISPLAY-8 DISPLAY-9 DIVIDE DIVISION " +
    "DOWN DROP DUPLICATE DUPLICATES DYNAMIC " +
    "EBCDIC EGI EJECT ELSE EMI " +
    "EMPTY EMPTY-CHECK ENABLE END END. END-ACCEPT END-ACCEPT. " +
    "END-ADD END-CALL END-COMPUTE END-DELETE END-DISPLAY " +
    "END-DIVIDE END-EVALUATE END-IF END-INVOKE END-MULTIPLY " +
    "END-OF-PAGE END-PERFORM END-READ END-RECEIVE END-RETURN " +
    "END-REWRITE END-SEARCH END-START END-STRING END-SUBTRACT " +
    "END-UNSTRING END-WRITE END-XML ENTER ENTRY " +
    "ENVIRONMENT EOP EQUAL EQUALS ERASE " +
    "ERROR ESI EVALUATE EVERY EXCEEDS " +
    "EXCEPTION EXCLUSIVE EXIT EXTEND EXTERNAL " +
    "EXTERNALLY-DESCRIBED-KEY FD FETCH FILE FILE-CONTROL " +
    "FILE-STREAM FILES FILLER FINAL FIND " +
    "FINISH FIRST FOOTING FOR FOREGROUND-COLOR " +
    "FOREGROUND-COLOUR FORMAT FREE FROM FULL " +
    "FUNCTION GENERATE GET GIVING GLOBAL " +
    "GO GOBACK GREATER GROUP HEADING " +
    "HIGH-VALUE HIGH-VALUES HIGHLIGHT I-O I-O-CONTROL " +
    "ID IDENTIFICATION IF IN INDEX " +
    "INDEX-1 INDEX-2 INDEX-3 INDEX-4 INDEX-5 " +
    "INDEX-6 INDEX-7 INDEX-8 INDEX-9 INDEXED " +
    "INDIC INDICATE INDICATOR INDICATORS INITIAL " +
    "INITIALIZE INITIATE INPUT INPUT-OUTPUT INSPECT " +
    "INSTALLATION INTO INVALID INVOKE IS " +
    "JUST JUSTIFIED KANJI KEEP KEY " +
    "LABEL LAST LD LEADING LEFT " +
    "LEFT-JUSTIFY LENGTH LENGTH-CHECK LESS LIBRARY " +
    "LIKE LIMIT LIMITS LINAGE LINAGE-COUNTER " +
    "LINE LINE-COUNTER LINES LINKAGE LOCAL-STORAGE " +
    "LOCALE LOCALLY LOCK " +
    "MEMBER MEMORY MERGE MESSAGE METACLASS " +
    "MODE MODIFIED MODIFY MODULES MOVE " +
    "MULTIPLE MULTIPLY NATIONAL NATIVE NEGATIVE " +
    "NEXT NO NO-ECHO NONE NOT " +
    "NULL NULL-KEY-MAP NULL-MAP NULLS NUMBER " +
    "NUMERIC NUMERIC-EDITED OBJECT OBJECT-COMPUTER OCCURS " +
    "OF OFF OMITTED ON ONLY " +
    "OPEN OPTIONAL OR ORDER ORGANIZATION " +
    "OTHER OUTPUT OVERFLOW OWNER PACKED-DECIMAL " +
    "PADDING PAGE PAGE-COUNTER PARSE PERFORM " +
    "PF PH PIC PICTURE PLUS " +
    "POINTER POSITION POSITIVE PREFIX PRESENT " +
    "PRINTING PRIOR PROCEDURE PROCEDURE-POINTER PROCEDURES " +
    "PROCEED PROCESS PROCESSING PROGRAM PROGRAM-ID " +
    "PROMPT PROTECTED PURGE QUEUE QUOTE " +
    "QUOTES RANDOM RD READ READY " +
    "REALM RECEIVE RECONNECT RECORD RECORD-NAME " +
    "RECORDS RECURSIVE REDEFINES REEL REFERENCE " +
    "REFERENCE-MONITOR REFERENCES RELATION RELATIVE RELEASE " +
    "REMAINDER REMOVAL RENAMES REPEATED REPLACE " +
    "REPLACING REPORT REPORTING REPORTS REPOSITORY " +
    "REQUIRED RERUN RESERVE RESET RETAINING " +
    "RETRIEVAL RETURN RETURN-CODE RETURNING REVERSE-VIDEO " +
    "REVERSED REWIND REWRITE RF RH " +
    "RIGHT RIGHT-JUSTIFY ROLLBACK ROLLING ROUNDED " +
    "RUN SAME SCREEN SD SEARCH " +
    "SECTION SECURE SECURITY SEGMENT SEGMENT-LIMIT " +
    "SELECT SEND SENTENCE SEPARATE SEQUENCE " +
    "SEQUENTIAL SET SHARED SIGN SIZE " +
    "SKIP1 SKIP2 SKIP3 SORT SORT-MERGE " +
    "SORT-RETURN SOURCE SOURCE-COMPUTER SPACE-FILL " +
    "SPECIAL-NAMES STANDARD STANDARD-1 STANDARD-2 " +
    "START STARTING STATUS STOP STORE " +
    "STRING SUB-QUEUE-1 SUB-QUEUE-2 SUB-QUEUE-3 SUB-SCHEMA " +
    "SUBFILE SUBSTITUTE SUBTRACT SUM SUPPRESS " +
    "SYMBOLIC SYNC SYNCHRONIZED SYSIN SYSOUT " +
    "TABLE TALLYING TAPE TENANT TERMINAL " +
    "TERMINATE TEST TEXT THAN THEN " +
    "THROUGH THRU TIME TIMES TITLE " +
    "TO TOP TRAILING TRAILING-SIGN TRANSACTION " +
    "TYPE TYPEDEF UNDERLINE UNEQUAL UNIT " +
    "UNSTRING UNTIL UP UPDATE UPON " +
    "USAGE USAGE-MODE USE USING VALID " +
    "VALIDATE VALUE VALUES VARYING VLR " +
    "WAIT WHEN WHEN-COMPILED WITH WITHIN " +
    "WORDS WORKING-STORAGE WRITE XML XML-CODE " +
    "XML-EVENT XML-NTEXT XML-TEXT ZERO ZERO-FILL " );

var builtins = makeKeywords("- * ** / + < <= = > >= ");
var tests = {
  digit: /\d/,
  digit_or_colon: /[\d:]/,
  hex: /[0-9a-f]/i,
  sign: /[+-]/,
  exponent: /e/i,
  keyword_char: /[^\s\(\[\;\)\]]/,
  symbol: /[\w*+\-]/
};
function isNumber(ch, stream){
  // hex
  if ( ch === '0' && stream.eat(/x/i) ) {
    stream.eatWhile(tests.hex);
    return true;
  }
  // leading sign
  if ( ( ch == '+' || ch == '-' ) && ( tests.digit.test(stream.peek()) ) ) {
    stream.eat(tests.sign);
    ch = stream.next();
  }
  if ( tests.digit.test(ch) ) {
    stream.eat(ch);
    stream.eatWhile(tests.digit);
    if ( '.' == stream.peek()) {
      stream.eat('.');
      stream.eatWhile(tests.digit);
    }
    if ( stream.eat(tests.exponent) ) {
      stream.eat(tests.sign);
      stream.eatWhile(tests.digit);
    }
    return true;
  }
  return false;
}
const cobol = {
  startState: function () {
    return {
      indentStack: null,
      indentation: 0,
      mode: false
    };
  },
  token: function (stream, state) {
    if (state.indentStack == null && stream.sol()) {
      // update indentation, but only if indentStack is empty
      state.indentation = 6 ; //stream.indentation();
    }
    // skip spaces
    if (stream.eatSpace()) {
      return null;
    }
    var returnType = null;
    switch(state.mode){
    case "string": // multi-line string parsing mode
      var next = false;
      while ((next = stream.next()) != null) {
        if ((next == "\"" || next == "\'") && !stream.match(/['"]/, false)) {
          state.mode = false;
          break;
        }
      }
      returnType = STRING; // continue on in string mode
      break;
    default: // default parsing mode
      var ch = stream.next();
      var col = stream.column();
      if (col >= 0 && col <= 5) {
        returnType = COBOLLINENUM;
      } else if (col >= 72 && col <= 79) {
        stream.skipToEnd();
        returnType = MODTAG;
      } else if (ch == "*" && col == 6) { // comment
        stream.skipToEnd(); // rest of the line is a comment
        returnType = COMMENT;
      } else if (ch == "\"" || ch == "\'") {
        state.mode = "string";
        returnType = STRING;
      } else if (ch == "'" && !( tests.digit_or_colon.test(stream.peek()) )) {
        returnType = ATOM;
      } else if (ch == ".") {
        returnType = PERIOD;
      } else if (isNumber(ch,stream)){
        returnType = NUMBER;
      } else {
        if (stream.current().match(tests.symbol)) {
          while (col < 71) {
            if (stream.eat(tests.symbol) === undefined) {
              break;
            } else {
              col++;
            }
          }
        }
        if (keywords && keywords.propertyIsEnumerable(stream.current().toUpperCase())) {
          returnType = KEYWORD;
        } else if (builtins && builtins.propertyIsEnumerable(stream.current().toUpperCase())) {
          returnType = BUILTIN;
        } else if (atoms && atoms.propertyIsEnumerable(stream.current().toUpperCase())) {
          returnType = ATOM;
        } else returnType = null;
      }
    }
    return returnType;
  },
  indent: function (state) {
    if (state.indentStack == null) return state.indentation;
    return state.indentStack.indent;
  }
};



/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2NvZGVtaXJyb3JfbGVnYWN5LW1vZGVzX21vZGVfY29ib2xfanMuZDA3OWNiYjdlOTRmNWI4ODA2MDAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkLGtCQUFrQixrQkFBa0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFFBQVEsa0NBQWtDO0FBQzFDLDRCQUE0QjtBQUM1QjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BqdXB5dGVybGFiL2FwcGxpY2F0aW9uLXRvcC8uLi8uLi9ub2RlX21vZHVsZXMvQGNvZGVtaXJyb3IvbGVnYWN5LW1vZGVzL21vZGUvY29ib2wuanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIEJVSUxUSU4gPSBcImJ1aWx0aW5cIiwgQ09NTUVOVCA9IFwiY29tbWVudFwiLCBTVFJJTkcgPSBcInN0cmluZ1wiLFxuICAgIEFUT00gPSBcImF0b21cIiwgTlVNQkVSID0gXCJudW1iZXJcIiwgS0VZV09SRCA9IFwia2V5d29yZFwiLCBNT0RUQUcgPSBcImhlYWRlclwiLFxuICAgIENPQk9MTElORU5VTSA9IFwiZGVmXCIsIFBFUklPRCA9IFwibGlua1wiO1xuZnVuY3Rpb24gbWFrZUtleXdvcmRzKHN0cikge1xuICB2YXIgb2JqID0ge30sIHdvcmRzID0gc3RyLnNwbGl0KFwiIFwiKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7ICsraSkgb2JqW3dvcmRzW2ldXSA9IHRydWU7XG4gIHJldHVybiBvYmo7XG59XG52YXIgYXRvbXMgPSBtYWtlS2V5d29yZHMoXCJUUlVFIEZBTFNFIFpFUk9FUyBaRVJPUyBaRVJPIFNQQUNFUyBTUEFDRSBMT1ctVkFMVUUgTE9XLVZBTFVFUyBcIik7XG52YXIga2V5d29yZHMgPSBtYWtlS2V5d29yZHMoXG4gIFwiQUNDRVBUIEFDQ0VTUyBBQ1FVSVJFIEFERCBBRERSRVNTIFwiICtcbiAgICBcIkFEVkFOQ0lORyBBRlRFUiBBTElBUyBBTEwgQUxQSEFCRVQgXCIgK1xuICAgIFwiQUxQSEFCRVRJQyBBTFBIQUJFVElDLUxPV0VSIEFMUEhBQkVUSUMtVVBQRVIgQUxQSEFOVU1FUklDIEFMUEhBTlVNRVJJQy1FRElURUQgXCIgK1xuICAgIFwiQUxTTyBBTFRFUiBBTFRFUk5BVEUgQU5EIEFOWSBcIiArXG4gICAgXCJBUkUgQVJFQSBBUkVBUyBBUklUSE1FVElDIEFTQ0VORElORyBcIiArXG4gICAgXCJBU1NJR04gQVQgQVRUUklCVVRFIEFVVEhPUiBBVVRPIFwiICtcbiAgICBcIkFVVE8tU0tJUCBBVVRPTUFUSUMgQi1BTkQgQi1FWE9SIEItTEVTUyBcIiArXG4gICAgXCJCLU5PVCBCLU9SIEJBQ0tHUk9VTkQtQ09MT1IgQkFDS0dST1VORC1DT0xPVVIgQkVFUCBcIiArXG4gICAgXCJCRUZPUkUgQkVMTCBCSU5BUlkgQklUIEJJVFMgXCIgK1xuICAgIFwiQkxBTksgQkxJTksgQkxPQ0sgQk9PTEVBTiBCT1RUT00gXCIgK1xuICAgIFwiQlkgQ0FMTCBDQU5DRUwgQ0QgQ0YgXCIgK1xuICAgIFwiQ0ggQ0hBUkFDVEVSIENIQVJBQ1RFUlMgQ0xBU1MgQ0xPQ0stVU5JVFMgXCIgK1xuICAgIFwiQ0xPU0UgQ09CT0wgQ09ERSBDT0RFLVNFVCBDT0wgXCIgK1xuICAgIFwiQ09MTEFUSU5HIENPTFVNTiBDT01NQSBDT01NSVQgQ09NTUlUTUVOVCBcIiArXG4gICAgXCJDT01NT04gQ09NTVVOSUNBVElPTiBDT01QIENPTVAtMCBDT01QLTEgXCIgK1xuICAgIFwiQ09NUC0yIENPTVAtMyBDT01QLTQgQ09NUC01IENPTVAtNiBcIiArXG4gICAgXCJDT01QLTcgQ09NUC04IENPTVAtOSBDT01QVVRBVElPTkFMIENPTVBVVEFUSU9OQUwtMCBcIiArXG4gICAgXCJDT01QVVRBVElPTkFMLTEgQ09NUFVUQVRJT05BTC0yIENPTVBVVEFUSU9OQUwtMyBDT01QVVRBVElPTkFMLTQgQ09NUFVUQVRJT05BTC01IFwiICtcbiAgICBcIkNPTVBVVEFUSU9OQUwtNiBDT01QVVRBVElPTkFMLTcgQ09NUFVUQVRJT05BTC04IENPTVBVVEFUSU9OQUwtOSBDT01QVVRFIFwiICtcbiAgICBcIkNPTkZJR1VSQVRJT04gQ09OTkVDVCBDT05TT0xFIENPTlRBSU5FRCBDT05UQUlOUyBcIiArXG4gICAgXCJDT05URU5UIENPTlRJTlVFIENPTlRST0wgQ09OVFJPTC1BUkVBIENPTlRST0xTIFwiICtcbiAgICBcIkNPTlZFUlRJTkcgQ09QWSBDT1JSIENPUlJFU1BPTkRJTkcgQ09VTlQgXCIgK1xuICAgIFwiQ1JUIENSVC1VTkRFUiBDVVJSRU5DWSBDVVJSRU5UIENVUlNPUiBcIiArXG4gICAgXCJEQVRBIERBVEUgREFURS1DT01QSUxFRCBEQVRFLVdSSVRURU4gREFZIFwiICtcbiAgICBcIkRBWS1PRi1XRUVLIERCIERCLUFDQ0VTUy1DT05UUk9MLUtFWSBEQi1EQVRBLU5BTUUgREItRVhDRVBUSU9OIFwiICtcbiAgICBcIkRCLUZPUk1BVC1OQU1FIERCLVJFQ09SRC1OQU1FIERCLVNFVC1OQU1FIERCLVNUQVRVUyBEQkNTIFwiICtcbiAgICBcIkRCQ1MtRURJVEVEIERFIERFQlVHLUNPTlRFTlRTIERFQlVHLUlURU0gREVCVUctTElORSBcIiArXG4gICAgXCJERUJVRy1OQU1FIERFQlVHLVNVQi0xIERFQlVHLVNVQi0yIERFQlVHLVNVQi0zIERFQlVHR0lORyBcIiArXG4gICAgXCJERUNJTUFMLVBPSU5UIERFQ0xBUkFUSVZFUyBERUZBVUxUIERFTEVURSBERUxJTUlURUQgXCIgK1xuICAgIFwiREVMSU1JVEVSIERFUEVORElORyBERVNDRU5ESU5HIERFU0NSSUJFRCBERVNUSU5BVElPTiBcIiArXG4gICAgXCJERVRBSUwgRElTQUJMRSBESVNDT05ORUNUIERJU1BMQVkgRElTUExBWS0xIFwiICtcbiAgICBcIkRJU1BMQVktMiBESVNQTEFZLTMgRElTUExBWS00IERJU1BMQVktNSBESVNQTEFZLTYgXCIgK1xuICAgIFwiRElTUExBWS03IERJU1BMQVktOCBESVNQTEFZLTkgRElWSURFIERJVklTSU9OIFwiICtcbiAgICBcIkRPV04gRFJPUCBEVVBMSUNBVEUgRFVQTElDQVRFUyBEWU5BTUlDIFwiICtcbiAgICBcIkVCQ0RJQyBFR0kgRUpFQ1QgRUxTRSBFTUkgXCIgK1xuICAgIFwiRU1QVFkgRU1QVFktQ0hFQ0sgRU5BQkxFIEVORCBFTkQuIEVORC1BQ0NFUFQgRU5ELUFDQ0VQVC4gXCIgK1xuICAgIFwiRU5ELUFERCBFTkQtQ0FMTCBFTkQtQ09NUFVURSBFTkQtREVMRVRFIEVORC1ESVNQTEFZIFwiICtcbiAgICBcIkVORC1ESVZJREUgRU5ELUVWQUxVQVRFIEVORC1JRiBFTkQtSU5WT0tFIEVORC1NVUxUSVBMWSBcIiArXG4gICAgXCJFTkQtT0YtUEFHRSBFTkQtUEVSRk9STSBFTkQtUkVBRCBFTkQtUkVDRUlWRSBFTkQtUkVUVVJOIFwiICtcbiAgICBcIkVORC1SRVdSSVRFIEVORC1TRUFSQ0ggRU5ELVNUQVJUIEVORC1TVFJJTkcgRU5ELVNVQlRSQUNUIFwiICtcbiAgICBcIkVORC1VTlNUUklORyBFTkQtV1JJVEUgRU5ELVhNTCBFTlRFUiBFTlRSWSBcIiArXG4gICAgXCJFTlZJUk9OTUVOVCBFT1AgRVFVQUwgRVFVQUxTIEVSQVNFIFwiICtcbiAgICBcIkVSUk9SIEVTSSBFVkFMVUFURSBFVkVSWSBFWENFRURTIFwiICtcbiAgICBcIkVYQ0VQVElPTiBFWENMVVNJVkUgRVhJVCBFWFRFTkQgRVhURVJOQUwgXCIgK1xuICAgIFwiRVhURVJOQUxMWS1ERVNDUklCRUQtS0VZIEZEIEZFVENIIEZJTEUgRklMRS1DT05UUk9MIFwiICtcbiAgICBcIkZJTEUtU1RSRUFNIEZJTEVTIEZJTExFUiBGSU5BTCBGSU5EIFwiICtcbiAgICBcIkZJTklTSCBGSVJTVCBGT09USU5HIEZPUiBGT1JFR1JPVU5ELUNPTE9SIFwiICtcbiAgICBcIkZPUkVHUk9VTkQtQ09MT1VSIEZPUk1BVCBGUkVFIEZST00gRlVMTCBcIiArXG4gICAgXCJGVU5DVElPTiBHRU5FUkFURSBHRVQgR0lWSU5HIEdMT0JBTCBcIiArXG4gICAgXCJHTyBHT0JBQ0sgR1JFQVRFUiBHUk9VUCBIRUFESU5HIFwiICtcbiAgICBcIkhJR0gtVkFMVUUgSElHSC1WQUxVRVMgSElHSExJR0hUIEktTyBJLU8tQ09OVFJPTCBcIiArXG4gICAgXCJJRCBJREVOVElGSUNBVElPTiBJRiBJTiBJTkRFWCBcIiArXG4gICAgXCJJTkRFWC0xIElOREVYLTIgSU5ERVgtMyBJTkRFWC00IElOREVYLTUgXCIgK1xuICAgIFwiSU5ERVgtNiBJTkRFWC03IElOREVYLTggSU5ERVgtOSBJTkRFWEVEIFwiICtcbiAgICBcIklORElDIElORElDQVRFIElORElDQVRPUiBJTkRJQ0FUT1JTIElOSVRJQUwgXCIgK1xuICAgIFwiSU5JVElBTElaRSBJTklUSUFURSBJTlBVVCBJTlBVVC1PVVRQVVQgSU5TUEVDVCBcIiArXG4gICAgXCJJTlNUQUxMQVRJT04gSU5UTyBJTlZBTElEIElOVk9LRSBJUyBcIiArXG4gICAgXCJKVVNUIEpVU1RJRklFRCBLQU5KSSBLRUVQIEtFWSBcIiArXG4gICAgXCJMQUJFTCBMQVNUIExEIExFQURJTkcgTEVGVCBcIiArXG4gICAgXCJMRUZULUpVU1RJRlkgTEVOR1RIIExFTkdUSC1DSEVDSyBMRVNTIExJQlJBUlkgXCIgK1xuICAgIFwiTElLRSBMSU1JVCBMSU1JVFMgTElOQUdFIExJTkFHRS1DT1VOVEVSIFwiICtcbiAgICBcIkxJTkUgTElORS1DT1VOVEVSIExJTkVTIExJTktBR0UgTE9DQUwtU1RPUkFHRSBcIiArXG4gICAgXCJMT0NBTEUgTE9DQUxMWSBMT0NLIFwiICtcbiAgICBcIk1FTUJFUiBNRU1PUlkgTUVSR0UgTUVTU0FHRSBNRVRBQ0xBU1MgXCIgK1xuICAgIFwiTU9ERSBNT0RJRklFRCBNT0RJRlkgTU9EVUxFUyBNT1ZFIFwiICtcbiAgICBcIk1VTFRJUExFIE1VTFRJUExZIE5BVElPTkFMIE5BVElWRSBORUdBVElWRSBcIiArXG4gICAgXCJORVhUIE5PIE5PLUVDSE8gTk9ORSBOT1QgXCIgK1xuICAgIFwiTlVMTCBOVUxMLUtFWS1NQVAgTlVMTC1NQVAgTlVMTFMgTlVNQkVSIFwiICtcbiAgICBcIk5VTUVSSUMgTlVNRVJJQy1FRElURUQgT0JKRUNUIE9CSkVDVC1DT01QVVRFUiBPQ0NVUlMgXCIgK1xuICAgIFwiT0YgT0ZGIE9NSVRURUQgT04gT05MWSBcIiArXG4gICAgXCJPUEVOIE9QVElPTkFMIE9SIE9SREVSIE9SR0FOSVpBVElPTiBcIiArXG4gICAgXCJPVEhFUiBPVVRQVVQgT1ZFUkZMT1cgT1dORVIgUEFDS0VELURFQ0lNQUwgXCIgK1xuICAgIFwiUEFERElORyBQQUdFIFBBR0UtQ09VTlRFUiBQQVJTRSBQRVJGT1JNIFwiICtcbiAgICBcIlBGIFBIIFBJQyBQSUNUVVJFIFBMVVMgXCIgK1xuICAgIFwiUE9JTlRFUiBQT1NJVElPTiBQT1NJVElWRSBQUkVGSVggUFJFU0VOVCBcIiArXG4gICAgXCJQUklOVElORyBQUklPUiBQUk9DRURVUkUgUFJPQ0VEVVJFLVBPSU5URVIgUFJPQ0VEVVJFUyBcIiArXG4gICAgXCJQUk9DRUVEIFBST0NFU1MgUFJPQ0VTU0lORyBQUk9HUkFNIFBST0dSQU0tSUQgXCIgK1xuICAgIFwiUFJPTVBUIFBST1RFQ1RFRCBQVVJHRSBRVUVVRSBRVU9URSBcIiArXG4gICAgXCJRVU9URVMgUkFORE9NIFJEIFJFQUQgUkVBRFkgXCIgK1xuICAgIFwiUkVBTE0gUkVDRUlWRSBSRUNPTk5FQ1QgUkVDT1JEIFJFQ09SRC1OQU1FIFwiICtcbiAgICBcIlJFQ09SRFMgUkVDVVJTSVZFIFJFREVGSU5FUyBSRUVMIFJFRkVSRU5DRSBcIiArXG4gICAgXCJSRUZFUkVOQ0UtTU9OSVRPUiBSRUZFUkVOQ0VTIFJFTEFUSU9OIFJFTEFUSVZFIFJFTEVBU0UgXCIgK1xuICAgIFwiUkVNQUlOREVSIFJFTU9WQUwgUkVOQU1FUyBSRVBFQVRFRCBSRVBMQUNFIFwiICtcbiAgICBcIlJFUExBQ0lORyBSRVBPUlQgUkVQT1JUSU5HIFJFUE9SVFMgUkVQT1NJVE9SWSBcIiArXG4gICAgXCJSRVFVSVJFRCBSRVJVTiBSRVNFUlZFIFJFU0VUIFJFVEFJTklORyBcIiArXG4gICAgXCJSRVRSSUVWQUwgUkVUVVJOIFJFVFVSTi1DT0RFIFJFVFVSTklORyBSRVZFUlNFLVZJREVPIFwiICtcbiAgICBcIlJFVkVSU0VEIFJFV0lORCBSRVdSSVRFIFJGIFJIIFwiICtcbiAgICBcIlJJR0hUIFJJR0hULUpVU1RJRlkgUk9MTEJBQ0sgUk9MTElORyBST1VOREVEIFwiICtcbiAgICBcIlJVTiBTQU1FIFNDUkVFTiBTRCBTRUFSQ0ggXCIgK1xuICAgIFwiU0VDVElPTiBTRUNVUkUgU0VDVVJJVFkgU0VHTUVOVCBTRUdNRU5ULUxJTUlUIFwiICtcbiAgICBcIlNFTEVDVCBTRU5EIFNFTlRFTkNFIFNFUEFSQVRFIFNFUVVFTkNFIFwiICtcbiAgICBcIlNFUVVFTlRJQUwgU0VUIFNIQVJFRCBTSUdOIFNJWkUgXCIgK1xuICAgIFwiU0tJUDEgU0tJUDIgU0tJUDMgU09SVCBTT1JULU1FUkdFIFwiICtcbiAgICBcIlNPUlQtUkVUVVJOIFNPVVJDRSBTT1VSQ0UtQ09NUFVURVIgU1BBQ0UtRklMTCBcIiArXG4gICAgXCJTUEVDSUFMLU5BTUVTIFNUQU5EQVJEIFNUQU5EQVJELTEgU1RBTkRBUkQtMiBcIiArXG4gICAgXCJTVEFSVCBTVEFSVElORyBTVEFUVVMgU1RPUCBTVE9SRSBcIiArXG4gICAgXCJTVFJJTkcgU1VCLVFVRVVFLTEgU1VCLVFVRVVFLTIgU1VCLVFVRVVFLTMgU1VCLVNDSEVNQSBcIiArXG4gICAgXCJTVUJGSUxFIFNVQlNUSVRVVEUgU1VCVFJBQ1QgU1VNIFNVUFBSRVNTIFwiICtcbiAgICBcIlNZTUJPTElDIFNZTkMgU1lOQ0hST05JWkVEIFNZU0lOIFNZU09VVCBcIiArXG4gICAgXCJUQUJMRSBUQUxMWUlORyBUQVBFIFRFTkFOVCBURVJNSU5BTCBcIiArXG4gICAgXCJURVJNSU5BVEUgVEVTVCBURVhUIFRIQU4gVEhFTiBcIiArXG4gICAgXCJUSFJPVUdIIFRIUlUgVElNRSBUSU1FUyBUSVRMRSBcIiArXG4gICAgXCJUTyBUT1AgVFJBSUxJTkcgVFJBSUxJTkctU0lHTiBUUkFOU0FDVElPTiBcIiArXG4gICAgXCJUWVBFIFRZUEVERUYgVU5ERVJMSU5FIFVORVFVQUwgVU5JVCBcIiArXG4gICAgXCJVTlNUUklORyBVTlRJTCBVUCBVUERBVEUgVVBPTiBcIiArXG4gICAgXCJVU0FHRSBVU0FHRS1NT0RFIFVTRSBVU0lORyBWQUxJRCBcIiArXG4gICAgXCJWQUxJREFURSBWQUxVRSBWQUxVRVMgVkFSWUlORyBWTFIgXCIgK1xuICAgIFwiV0FJVCBXSEVOIFdIRU4tQ09NUElMRUQgV0lUSCBXSVRISU4gXCIgK1xuICAgIFwiV09SRFMgV09SS0lORy1TVE9SQUdFIFdSSVRFIFhNTCBYTUwtQ09ERSBcIiArXG4gICAgXCJYTUwtRVZFTlQgWE1MLU5URVhUIFhNTC1URVhUIFpFUk8gWkVSTy1GSUxMIFwiICk7XG5cbnZhciBidWlsdGlucyA9IG1ha2VLZXl3b3JkcyhcIi0gKiAqKiAvICsgPCA8PSA9ID4gPj0gXCIpO1xudmFyIHRlc3RzID0ge1xuICBkaWdpdDogL1xcZC8sXG4gIGRpZ2l0X29yX2NvbG9uOiAvW1xcZDpdLyxcbiAgaGV4OiAvWzAtOWEtZl0vaSxcbiAgc2lnbjogL1srLV0vLFxuICBleHBvbmVudDogL2UvaSxcbiAga2V5d29yZF9jaGFyOiAvW15cXHNcXChcXFtcXDtcXClcXF1dLyxcbiAgc3ltYm9sOiAvW1xcdyorXFwtXS9cbn07XG5mdW5jdGlvbiBpc051bWJlcihjaCwgc3RyZWFtKXtcbiAgLy8gaGV4XG4gIGlmICggY2ggPT09ICcwJyAmJiBzdHJlYW0uZWF0KC94L2kpICkge1xuICAgIHN0cmVhbS5lYXRXaGlsZSh0ZXN0cy5oZXgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIC8vIGxlYWRpbmcgc2lnblxuICBpZiAoICggY2ggPT0gJysnIHx8IGNoID09ICctJyApICYmICggdGVzdHMuZGlnaXQudGVzdChzdHJlYW0ucGVlaygpKSApICkge1xuICAgIHN0cmVhbS5lYXQodGVzdHMuc2lnbik7XG4gICAgY2ggPSBzdHJlYW0ubmV4dCgpO1xuICB9XG4gIGlmICggdGVzdHMuZGlnaXQudGVzdChjaCkgKSB7XG4gICAgc3RyZWFtLmVhdChjaCk7XG4gICAgc3RyZWFtLmVhdFdoaWxlKHRlc3RzLmRpZ2l0KTtcbiAgICBpZiAoICcuJyA9PSBzdHJlYW0ucGVlaygpKSB7XG4gICAgICBzdHJlYW0uZWF0KCcuJyk7XG4gICAgICBzdHJlYW0uZWF0V2hpbGUodGVzdHMuZGlnaXQpO1xuICAgIH1cbiAgICBpZiAoIHN0cmVhbS5lYXQodGVzdHMuZXhwb25lbnQpICkge1xuICAgICAgc3RyZWFtLmVhdCh0ZXN0cy5zaWduKTtcbiAgICAgIHN0cmVhbS5lYXRXaGlsZSh0ZXN0cy5kaWdpdCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCBjb25zdCBjb2JvbCA9IHtcbiAgc3RhcnRTdGF0ZTogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpbmRlbnRTdGFjazogbnVsbCxcbiAgICAgIGluZGVudGF0aW9uOiAwLFxuICAgICAgbW9kZTogZmFsc2VcbiAgICB9O1xuICB9LFxuICB0b2tlbjogZnVuY3Rpb24gKHN0cmVhbSwgc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUuaW5kZW50U3RhY2sgPT0gbnVsbCAmJiBzdHJlYW0uc29sKCkpIHtcbiAgICAgIC8vIHVwZGF0ZSBpbmRlbnRhdGlvbiwgYnV0IG9ubHkgaWYgaW5kZW50U3RhY2sgaXMgZW1wdHlcbiAgICAgIHN0YXRlLmluZGVudGF0aW9uID0gNiA7IC8vc3RyZWFtLmluZGVudGF0aW9uKCk7XG4gICAgfVxuICAgIC8vIHNraXAgc3BhY2VzXG4gICAgaWYgKHN0cmVhbS5lYXRTcGFjZSgpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIHJldHVyblR5cGUgPSBudWxsO1xuICAgIHN3aXRjaChzdGF0ZS5tb2RlKXtcbiAgICBjYXNlIFwic3RyaW5nXCI6IC8vIG11bHRpLWxpbmUgc3RyaW5nIHBhcnNpbmcgbW9kZVxuICAgICAgdmFyIG5leHQgPSBmYWxzZTtcbiAgICAgIHdoaWxlICgobmV4dCA9IHN0cmVhbS5uZXh0KCkpICE9IG51bGwpIHtcbiAgICAgICAgaWYgKChuZXh0ID09IFwiXFxcIlwiIHx8IG5leHQgPT0gXCJcXCdcIikgJiYgIXN0cmVhbS5tYXRjaCgvWydcIl0vLCBmYWxzZSkpIHtcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVyblR5cGUgPSBTVFJJTkc7IC8vIGNvbnRpbnVlIG9uIGluIHN0cmluZyBtb2RlXG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OiAvLyBkZWZhdWx0IHBhcnNpbmcgbW9kZVxuICAgICAgdmFyIGNoID0gc3RyZWFtLm5leHQoKTtcbiAgICAgIHZhciBjb2wgPSBzdHJlYW0uY29sdW1uKCk7XG4gICAgICBpZiAoY29sID49IDAgJiYgY29sIDw9IDUpIHtcbiAgICAgICAgcmV0dXJuVHlwZSA9IENPQk9MTElORU5VTTtcbiAgICAgIH0gZWxzZSBpZiAoY29sID49IDcyICYmIGNvbCA8PSA3OSkge1xuICAgICAgICBzdHJlYW0uc2tpcFRvRW5kKCk7XG4gICAgICAgIHJldHVyblR5cGUgPSBNT0RUQUc7XG4gICAgICB9IGVsc2UgaWYgKGNoID09IFwiKlwiICYmIGNvbCA9PSA2KSB7IC8vIGNvbW1lbnRcbiAgICAgICAgc3RyZWFtLnNraXBUb0VuZCgpOyAvLyByZXN0IG9mIHRoZSBsaW5lIGlzIGEgY29tbWVudFxuICAgICAgICByZXR1cm5UeXBlID0gQ09NTUVOVDtcbiAgICAgIH0gZWxzZSBpZiAoY2ggPT0gXCJcXFwiXCIgfHwgY2ggPT0gXCJcXCdcIikge1xuICAgICAgICBzdGF0ZS5tb2RlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgcmV0dXJuVHlwZSA9IFNUUklORztcbiAgICAgIH0gZWxzZSBpZiAoY2ggPT0gXCInXCIgJiYgISggdGVzdHMuZGlnaXRfb3JfY29sb24udGVzdChzdHJlYW0ucGVlaygpKSApKSB7XG4gICAgICAgIHJldHVyblR5cGUgPSBBVE9NO1xuICAgICAgfSBlbHNlIGlmIChjaCA9PSBcIi5cIikge1xuICAgICAgICByZXR1cm5UeXBlID0gUEVSSU9EO1xuICAgICAgfSBlbHNlIGlmIChpc051bWJlcihjaCxzdHJlYW0pKXtcbiAgICAgICAgcmV0dXJuVHlwZSA9IE5VTUJFUjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzdHJlYW0uY3VycmVudCgpLm1hdGNoKHRlc3RzLnN5bWJvbCkpIHtcbiAgICAgICAgICB3aGlsZSAoY29sIDwgNzEpIHtcbiAgICAgICAgICAgIGlmIChzdHJlYW0uZWF0KHRlc3RzLnN5bWJvbCkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5d29yZHMgJiYga2V5d29yZHMucHJvcGVydHlJc0VudW1lcmFibGUoc3RyZWFtLmN1cnJlbnQoKS50b1VwcGVyQ2FzZSgpKSkge1xuICAgICAgICAgIHJldHVyblR5cGUgPSBLRVlXT1JEO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1aWx0aW5zICYmIGJ1aWx0aW5zLnByb3BlcnR5SXNFbnVtZXJhYmxlKHN0cmVhbS5jdXJyZW50KCkudG9VcHBlckNhc2UoKSkpIHtcbiAgICAgICAgICByZXR1cm5UeXBlID0gQlVJTFRJTjtcbiAgICAgICAgfSBlbHNlIGlmIChhdG9tcyAmJiBhdG9tcy5wcm9wZXJ0eUlzRW51bWVyYWJsZShzdHJlYW0uY3VycmVudCgpLnRvVXBwZXJDYXNlKCkpKSB7XG4gICAgICAgICAgcmV0dXJuVHlwZSA9IEFUT007XG4gICAgICAgIH0gZWxzZSByZXR1cm5UeXBlID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJldHVyblR5cGU7XG4gIH0sXG4gIGluZGVudDogZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlLmluZGVudFN0YWNrID09IG51bGwpIHJldHVybiBzdGF0ZS5pbmRlbnRhdGlvbjtcbiAgICByZXR1cm4gc3RhdGUuaW5kZW50U3RhY2suaW5kZW50O1xuICB9XG59O1xuXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=