"use strict";
(self["webpackChunk_jupyterlab_application_top"] = self["webpackChunk_jupyterlab_application_top"] || []).push([["node_modules_codemirror_legacy-modes_mode_asterisk_js"],{

/***/ "../../node_modules/@codemirror/legacy-modes/mode/asterisk.js":
/*!********************************************************************!*\
  !*** ../../node_modules/@codemirror/legacy-modes/mode/asterisk.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "asterisk": () => (/* binding */ asterisk)
/* harmony export */ });
var atoms    = ["exten", "same", "include","ignorepat","switch"],
    dpcmd    = ["#include","#exec"],
    apps     = [
      "addqueuemember","adsiprog","aelsub","agentlogin","agentmonitoroutgoing","agi",
      "alarmreceiver","amd","answer","authenticate","background","backgrounddetect",
      "bridge","busy","callcompletioncancel","callcompletionrequest","celgenuserevent",
      "changemonitor","chanisavail","channelredirect","chanspy","clearhash","confbridge",
      "congestion","continuewhile","controlplayback","dahdiacceptr2call","dahdibarge",
      "dahdiras","dahdiscan","dahdisendcallreroutingfacility","dahdisendkeypadfacility",
      "datetime","dbdel","dbdeltree","deadagi","dial","dictate","directory","disa",
      "dumpchan","eagi","echo","endwhile","exec","execif","execiftime","exitwhile","extenspy",
      "externalivr","festival","flash","followme","forkcdr","getcpeid","gosub","gosubif",
      "goto","gotoif","gotoiftime","hangup","iax2provision","ices","importvar","incomplete",
      "ivrdemo","jabberjoin","jabberleave","jabbersend","jabbersendgroup","jabberstatus",
      "jack","log","macro","macroexclusive","macroexit","macroif","mailboxexists","meetme",
      "meetmeadmin","meetmechanneladmin","meetmecount","milliwatt","minivmaccmess","minivmdelete",
      "minivmgreet","minivmmwi","minivmnotify","minivmrecord","mixmonitor","monitor","morsecode",
      "mp3player","mset","musiconhold","nbscat","nocdr","noop","odbc","odbc","odbcfinish",
      "originate","ospauth","ospfinish","osplookup","ospnext","page","park","parkandannounce",
      "parkedcall","pausemonitor","pausequeuemember","pickup","pickupchan","playback","playtones",
      "privacymanager","proceeding","progress","queue","queuelog","raiseexception","read","readexten",
      "readfile","receivefax","receivefax","receivefax","record","removequeuemember",
      "resetcdr","retrydial","return","ringing","sayalpha","saycountedadj","saycountednoun",
      "saycountpl","saydigits","saynumber","sayphonetic","sayunixtime","senddtmf","sendfax",
      "sendfax","sendfax","sendimage","sendtext","sendurl","set","setamaflags",
      "setcallerpres","setmusiconhold","sipaddheader","sipdtmfmode","sipremoveheader","skel",
      "slastation","slatrunk","sms","softhangup","speechactivategrammar","speechbackground",
      "speechcreate","speechdeactivategrammar","speechdestroy","speechloadgrammar","speechprocessingsound",
      "speechstart","speechunloadgrammar","stackpop","startmusiconhold","stopmixmonitor","stopmonitor",
      "stopmusiconhold","stopplaytones","system","testclient","testserver","transfer","tryexec",
      "trysystem","unpausemonitor","unpausequeuemember","userevent","verbose","vmauthenticate",
      "vmsayname","voicemail","voicemailmain","wait","waitexten","waitfornoise","waitforring",
      "waitforsilence","waitmusiconhold","waituntil","while","zapateller"
    ];

function basicToken(stream,state){
  var cur = '';
  var ch = stream.next();
  // comment
  if (state.blockComment) {
    if (ch == "-" && stream.match("-;", true)) {
      state.blockComment = false;
    } else if (stream.skipTo("--;")) {
      stream.next();
      stream.next();
      stream.next();
      state.blockComment = false;
    } else {
      stream.skipToEnd();
    }
    return "comment";
  }
  if(ch == ";") {
    if (stream.match("--", true)) {
      if (!stream.match("-", false)) {  // Except ;--- is not a block comment
        state.blockComment = true;
        return "comment";
      }
    }
    stream.skipToEnd();
    return "comment";
  }
  // context
  if(ch == '[') {
    stream.skipTo(']');
    stream.eat(']');
    return "header";
  }
  // string
  if(ch == '"') {
    stream.skipTo('"');
    return "string";
  }
  if(ch == "'") {
    stream.skipTo("'");
    return "string.special";
  }
  // dialplan commands
  if(ch == '#') {
    stream.eatWhile(/\w/);
    cur = stream.current();
    if(dpcmd.indexOf(cur) !== -1) {
      stream.skipToEnd();
      return "strong";
    }
  }
  // application args
  if(ch == '$'){
    var ch1 = stream.peek();
    if(ch1 == '{'){
      stream.skipTo('}');
      stream.eat('}');
      return "variableName.special";
    }
  }
  // extension
  stream.eatWhile(/\w/);
  cur = stream.current();
  if(atoms.indexOf(cur) !== -1) {
    state.extenStart = true;
    switch(cur) {
    case 'same': state.extenSame = true; break;
    case 'include':
    case 'switch':
    case 'ignorepat':
      state.extenInclude = true;break;
    default:break;
    }
    return "atom";
  }
}

const asterisk = {
  startState: function() {
    return {
      blockComment: false,
      extenStart: false,
      extenSame:  false,
      extenInclude: false,
      extenExten: false,
      extenPriority: false,
      extenApplication: false
    };
  },
  token: function(stream, state) {

    var cur = '';
    if(stream.eatSpace()) return null;
    // extension started
    if(state.extenStart){
      stream.eatWhile(/[^\s]/);
      cur = stream.current();
      if(/^=>?$/.test(cur)){
        state.extenExten = true;
        state.extenStart = false;
        return "strong";
      } else {
        state.extenStart = false;
        stream.skipToEnd();
        return "error";
      }
    } else if(state.extenExten) {
      // set exten and priority
      state.extenExten = false;
      state.extenPriority = true;
      stream.eatWhile(/[^,]/);
      if(state.extenInclude) {
        stream.skipToEnd();
        state.extenPriority = false;
        state.extenInclude = false;
      }
      if(state.extenSame) {
        state.extenPriority = false;
        state.extenSame = false;
        state.extenApplication = true;
      }
      return "tag";
    } else if(state.extenPriority) {
      state.extenPriority = false;
      state.extenApplication = true;
      stream.next(); // get comma
      if(state.extenSame) return null;
      stream.eatWhile(/[^,]/);
      return "number";
    } else if(state.extenApplication) {
      stream.eatWhile(/,/);
      cur = stream.current();
      if(cur === ',') return null;
      stream.eatWhile(/\w/);
      cur = stream.current().toLowerCase();
      state.extenApplication = false;
      if(apps.indexOf(cur) !== -1){
        return "def";
      }
    } else{
      return basicToken(stream,state);
    }

    return null;
  },

  languageData: {
    commentTokens: {line: ";", block: {open: ";--", close: "--;"}}
  }
};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2NvZGVtaXJyb3JfbGVnYWN5LW1vZGVzX21vZGVfYXN0ZXJpc2tfanMuNzM2YzAwMzBmZTBjMGU4NDIzMDYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQSxNQUFNLDJCQUEyQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLHdDQUF3QyxXQUFXO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCLHNCQUFzQjtBQUN0QixtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLG9CQUFvQixRQUFRLFdBQVcsUUFBUSxnQkFBZ0I7QUFDL0Q7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BqdXB5dGVybGFiL2FwcGxpY2F0aW9uLXRvcC8uLi8uLi9ub2RlX21vZHVsZXMvQGNvZGVtaXJyb3IvbGVnYWN5LW1vZGVzL21vZGUvYXN0ZXJpc2suanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGF0b21zICAgID0gW1wiZXh0ZW5cIiwgXCJzYW1lXCIsIFwiaW5jbHVkZVwiLFwiaWdub3JlcGF0XCIsXCJzd2l0Y2hcIl0sXG4gICAgZHBjbWQgICAgPSBbXCIjaW5jbHVkZVwiLFwiI2V4ZWNcIl0sXG4gICAgYXBwcyAgICAgPSBbXG4gICAgICBcImFkZHF1ZXVlbWVtYmVyXCIsXCJhZHNpcHJvZ1wiLFwiYWVsc3ViXCIsXCJhZ2VudGxvZ2luXCIsXCJhZ2VudG1vbml0b3JvdXRnb2luZ1wiLFwiYWdpXCIsXG4gICAgICBcImFsYXJtcmVjZWl2ZXJcIixcImFtZFwiLFwiYW5zd2VyXCIsXCJhdXRoZW50aWNhdGVcIixcImJhY2tncm91bmRcIixcImJhY2tncm91bmRkZXRlY3RcIixcbiAgICAgIFwiYnJpZGdlXCIsXCJidXN5XCIsXCJjYWxsY29tcGxldGlvbmNhbmNlbFwiLFwiY2FsbGNvbXBsZXRpb25yZXF1ZXN0XCIsXCJjZWxnZW51c2VyZXZlbnRcIixcbiAgICAgIFwiY2hhbmdlbW9uaXRvclwiLFwiY2hhbmlzYXZhaWxcIixcImNoYW5uZWxyZWRpcmVjdFwiLFwiY2hhbnNweVwiLFwiY2xlYXJoYXNoXCIsXCJjb25mYnJpZGdlXCIsXG4gICAgICBcImNvbmdlc3Rpb25cIixcImNvbnRpbnVld2hpbGVcIixcImNvbnRyb2xwbGF5YmFja1wiLFwiZGFoZGlhY2NlcHRyMmNhbGxcIixcImRhaGRpYmFyZ2VcIixcbiAgICAgIFwiZGFoZGlyYXNcIixcImRhaGRpc2NhblwiLFwiZGFoZGlzZW5kY2FsbHJlcm91dGluZ2ZhY2lsaXR5XCIsXCJkYWhkaXNlbmRrZXlwYWRmYWNpbGl0eVwiLFxuICAgICAgXCJkYXRldGltZVwiLFwiZGJkZWxcIixcImRiZGVsdHJlZVwiLFwiZGVhZGFnaVwiLFwiZGlhbFwiLFwiZGljdGF0ZVwiLFwiZGlyZWN0b3J5XCIsXCJkaXNhXCIsXG4gICAgICBcImR1bXBjaGFuXCIsXCJlYWdpXCIsXCJlY2hvXCIsXCJlbmR3aGlsZVwiLFwiZXhlY1wiLFwiZXhlY2lmXCIsXCJleGVjaWZ0aW1lXCIsXCJleGl0d2hpbGVcIixcImV4dGVuc3B5XCIsXG4gICAgICBcImV4dGVybmFsaXZyXCIsXCJmZXN0aXZhbFwiLFwiZmxhc2hcIixcImZvbGxvd21lXCIsXCJmb3JrY2RyXCIsXCJnZXRjcGVpZFwiLFwiZ29zdWJcIixcImdvc3ViaWZcIixcbiAgICAgIFwiZ290b1wiLFwiZ290b2lmXCIsXCJnb3RvaWZ0aW1lXCIsXCJoYW5ndXBcIixcImlheDJwcm92aXNpb25cIixcImljZXNcIixcImltcG9ydHZhclwiLFwiaW5jb21wbGV0ZVwiLFxuICAgICAgXCJpdnJkZW1vXCIsXCJqYWJiZXJqb2luXCIsXCJqYWJiZXJsZWF2ZVwiLFwiamFiYmVyc2VuZFwiLFwiamFiYmVyc2VuZGdyb3VwXCIsXCJqYWJiZXJzdGF0dXNcIixcbiAgICAgIFwiamFja1wiLFwibG9nXCIsXCJtYWNyb1wiLFwibWFjcm9leGNsdXNpdmVcIixcIm1hY3JvZXhpdFwiLFwibWFjcm9pZlwiLFwibWFpbGJveGV4aXN0c1wiLFwibWVldG1lXCIsXG4gICAgICBcIm1lZXRtZWFkbWluXCIsXCJtZWV0bWVjaGFubmVsYWRtaW5cIixcIm1lZXRtZWNvdW50XCIsXCJtaWxsaXdhdHRcIixcIm1pbml2bWFjY21lc3NcIixcIm1pbml2bWRlbGV0ZVwiLFxuICAgICAgXCJtaW5pdm1ncmVldFwiLFwibWluaXZtbXdpXCIsXCJtaW5pdm1ub3RpZnlcIixcIm1pbml2bXJlY29yZFwiLFwibWl4bW9uaXRvclwiLFwibW9uaXRvclwiLFwibW9yc2Vjb2RlXCIsXG4gICAgICBcIm1wM3BsYXllclwiLFwibXNldFwiLFwibXVzaWNvbmhvbGRcIixcIm5ic2NhdFwiLFwibm9jZHJcIixcIm5vb3BcIixcIm9kYmNcIixcIm9kYmNcIixcIm9kYmNmaW5pc2hcIixcbiAgICAgIFwib3JpZ2luYXRlXCIsXCJvc3BhdXRoXCIsXCJvc3BmaW5pc2hcIixcIm9zcGxvb2t1cFwiLFwib3NwbmV4dFwiLFwicGFnZVwiLFwicGFya1wiLFwicGFya2FuZGFubm91bmNlXCIsXG4gICAgICBcInBhcmtlZGNhbGxcIixcInBhdXNlbW9uaXRvclwiLFwicGF1c2VxdWV1ZW1lbWJlclwiLFwicGlja3VwXCIsXCJwaWNrdXBjaGFuXCIsXCJwbGF5YmFja1wiLFwicGxheXRvbmVzXCIsXG4gICAgICBcInByaXZhY3ltYW5hZ2VyXCIsXCJwcm9jZWVkaW5nXCIsXCJwcm9ncmVzc1wiLFwicXVldWVcIixcInF1ZXVlbG9nXCIsXCJyYWlzZWV4Y2VwdGlvblwiLFwicmVhZFwiLFwicmVhZGV4dGVuXCIsXG4gICAgICBcInJlYWRmaWxlXCIsXCJyZWNlaXZlZmF4XCIsXCJyZWNlaXZlZmF4XCIsXCJyZWNlaXZlZmF4XCIsXCJyZWNvcmRcIixcInJlbW92ZXF1ZXVlbWVtYmVyXCIsXG4gICAgICBcInJlc2V0Y2RyXCIsXCJyZXRyeWRpYWxcIixcInJldHVyblwiLFwicmluZ2luZ1wiLFwic2F5YWxwaGFcIixcInNheWNvdW50ZWRhZGpcIixcInNheWNvdW50ZWRub3VuXCIsXG4gICAgICBcInNheWNvdW50cGxcIixcInNheWRpZ2l0c1wiLFwic2F5bnVtYmVyXCIsXCJzYXlwaG9uZXRpY1wiLFwic2F5dW5peHRpbWVcIixcInNlbmRkdG1mXCIsXCJzZW5kZmF4XCIsXG4gICAgICBcInNlbmRmYXhcIixcInNlbmRmYXhcIixcInNlbmRpbWFnZVwiLFwic2VuZHRleHRcIixcInNlbmR1cmxcIixcInNldFwiLFwic2V0YW1hZmxhZ3NcIixcbiAgICAgIFwic2V0Y2FsbGVycHJlc1wiLFwic2V0bXVzaWNvbmhvbGRcIixcInNpcGFkZGhlYWRlclwiLFwic2lwZHRtZm1vZGVcIixcInNpcHJlbW92ZWhlYWRlclwiLFwic2tlbFwiLFxuICAgICAgXCJzbGFzdGF0aW9uXCIsXCJzbGF0cnVua1wiLFwic21zXCIsXCJzb2Z0aGFuZ3VwXCIsXCJzcGVlY2hhY3RpdmF0ZWdyYW1tYXJcIixcInNwZWVjaGJhY2tncm91bmRcIixcbiAgICAgIFwic3BlZWNoY3JlYXRlXCIsXCJzcGVlY2hkZWFjdGl2YXRlZ3JhbW1hclwiLFwic3BlZWNoZGVzdHJveVwiLFwic3BlZWNobG9hZGdyYW1tYXJcIixcInNwZWVjaHByb2Nlc3Npbmdzb3VuZFwiLFxuICAgICAgXCJzcGVlY2hzdGFydFwiLFwic3BlZWNodW5sb2FkZ3JhbW1hclwiLFwic3RhY2twb3BcIixcInN0YXJ0bXVzaWNvbmhvbGRcIixcInN0b3BtaXhtb25pdG9yXCIsXCJzdG9wbW9uaXRvclwiLFxuICAgICAgXCJzdG9wbXVzaWNvbmhvbGRcIixcInN0b3BwbGF5dG9uZXNcIixcInN5c3RlbVwiLFwidGVzdGNsaWVudFwiLFwidGVzdHNlcnZlclwiLFwidHJhbnNmZXJcIixcInRyeWV4ZWNcIixcbiAgICAgIFwidHJ5c3lzdGVtXCIsXCJ1bnBhdXNlbW9uaXRvclwiLFwidW5wYXVzZXF1ZXVlbWVtYmVyXCIsXCJ1c2VyZXZlbnRcIixcInZlcmJvc2VcIixcInZtYXV0aGVudGljYXRlXCIsXG4gICAgICBcInZtc2F5bmFtZVwiLFwidm9pY2VtYWlsXCIsXCJ2b2ljZW1haWxtYWluXCIsXCJ3YWl0XCIsXCJ3YWl0ZXh0ZW5cIixcIndhaXRmb3Jub2lzZVwiLFwid2FpdGZvcnJpbmdcIixcbiAgICAgIFwid2FpdGZvcnNpbGVuY2VcIixcIndhaXRtdXNpY29uaG9sZFwiLFwid2FpdHVudGlsXCIsXCJ3aGlsZVwiLFwiemFwYXRlbGxlclwiXG4gICAgXTtcblxuZnVuY3Rpb24gYmFzaWNUb2tlbihzdHJlYW0sc3RhdGUpe1xuICB2YXIgY3VyID0gJyc7XG4gIHZhciBjaCA9IHN0cmVhbS5uZXh0KCk7XG4gIC8vIGNvbW1lbnRcbiAgaWYgKHN0YXRlLmJsb2NrQ29tbWVudCkge1xuICAgIGlmIChjaCA9PSBcIi1cIiAmJiBzdHJlYW0ubWF0Y2goXCItO1wiLCB0cnVlKSkge1xuICAgICAgc3RhdGUuYmxvY2tDb21tZW50ID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChzdHJlYW0uc2tpcFRvKFwiLS07XCIpKSB7XG4gICAgICBzdHJlYW0ubmV4dCgpO1xuICAgICAgc3RyZWFtLm5leHQoKTtcbiAgICAgIHN0cmVhbS5uZXh0KCk7XG4gICAgICBzdGF0ZS5ibG9ja0NvbW1lbnQgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyZWFtLnNraXBUb0VuZCgpO1xuICAgIH1cbiAgICByZXR1cm4gXCJjb21tZW50XCI7XG4gIH1cbiAgaWYoY2ggPT0gXCI7XCIpIHtcbiAgICBpZiAoc3RyZWFtLm1hdGNoKFwiLS1cIiwgdHJ1ZSkpIHtcbiAgICAgIGlmICghc3RyZWFtLm1hdGNoKFwiLVwiLCBmYWxzZSkpIHsgIC8vIEV4Y2VwdCA7LS0tIGlzIG5vdCBhIGJsb2NrIGNvbW1lbnRcbiAgICAgICAgc3RhdGUuYmxvY2tDb21tZW50ID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIFwiY29tbWVudFwiO1xuICAgICAgfVxuICAgIH1cbiAgICBzdHJlYW0uc2tpcFRvRW5kKCk7XG4gICAgcmV0dXJuIFwiY29tbWVudFwiO1xuICB9XG4gIC8vIGNvbnRleHRcbiAgaWYoY2ggPT0gJ1snKSB7XG4gICAgc3RyZWFtLnNraXBUbygnXScpO1xuICAgIHN0cmVhbS5lYXQoJ10nKTtcbiAgICByZXR1cm4gXCJoZWFkZXJcIjtcbiAgfVxuICAvLyBzdHJpbmdcbiAgaWYoY2ggPT0gJ1wiJykge1xuICAgIHN0cmVhbS5za2lwVG8oJ1wiJyk7XG4gICAgcmV0dXJuIFwic3RyaW5nXCI7XG4gIH1cbiAgaWYoY2ggPT0gXCInXCIpIHtcbiAgICBzdHJlYW0uc2tpcFRvKFwiJ1wiKTtcbiAgICByZXR1cm4gXCJzdHJpbmcuc3BlY2lhbFwiO1xuICB9XG4gIC8vIGRpYWxwbGFuIGNvbW1hbmRzXG4gIGlmKGNoID09ICcjJykge1xuICAgIHN0cmVhbS5lYXRXaGlsZSgvXFx3Lyk7XG4gICAgY3VyID0gc3RyZWFtLmN1cnJlbnQoKTtcbiAgICBpZihkcGNtZC5pbmRleE9mKGN1cikgIT09IC0xKSB7XG4gICAgICBzdHJlYW0uc2tpcFRvRW5kKCk7XG4gICAgICByZXR1cm4gXCJzdHJvbmdcIjtcbiAgICB9XG4gIH1cbiAgLy8gYXBwbGljYXRpb24gYXJnc1xuICBpZihjaCA9PSAnJCcpe1xuICAgIHZhciBjaDEgPSBzdHJlYW0ucGVlaygpO1xuICAgIGlmKGNoMSA9PSAneycpe1xuICAgICAgc3RyZWFtLnNraXBUbygnfScpO1xuICAgICAgc3RyZWFtLmVhdCgnfScpO1xuICAgICAgcmV0dXJuIFwidmFyaWFibGVOYW1lLnNwZWNpYWxcIjtcbiAgICB9XG4gIH1cbiAgLy8gZXh0ZW5zaW9uXG4gIHN0cmVhbS5lYXRXaGlsZSgvXFx3Lyk7XG4gIGN1ciA9IHN0cmVhbS5jdXJyZW50KCk7XG4gIGlmKGF0b21zLmluZGV4T2YoY3VyKSAhPT0gLTEpIHtcbiAgICBzdGF0ZS5leHRlblN0YXJ0ID0gdHJ1ZTtcbiAgICBzd2l0Y2goY3VyKSB7XG4gICAgY2FzZSAnc2FtZSc6IHN0YXRlLmV4dGVuU2FtZSA9IHRydWU7IGJyZWFrO1xuICAgIGNhc2UgJ2luY2x1ZGUnOlxuICAgIGNhc2UgJ3N3aXRjaCc6XG4gICAgY2FzZSAnaWdub3JlcGF0JzpcbiAgICAgIHN0YXRlLmV4dGVuSW5jbHVkZSA9IHRydWU7YnJlYWs7XG4gICAgZGVmYXVsdDpicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIFwiYXRvbVwiO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBhc3RlcmlzayA9IHtcbiAgc3RhcnRTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJsb2NrQ29tbWVudDogZmFsc2UsXG4gICAgICBleHRlblN0YXJ0OiBmYWxzZSxcbiAgICAgIGV4dGVuU2FtZTogIGZhbHNlLFxuICAgICAgZXh0ZW5JbmNsdWRlOiBmYWxzZSxcbiAgICAgIGV4dGVuRXh0ZW46IGZhbHNlLFxuICAgICAgZXh0ZW5Qcmlvcml0eTogZmFsc2UsXG4gICAgICBleHRlbkFwcGxpY2F0aW9uOiBmYWxzZVxuICAgIH07XG4gIH0sXG4gIHRva2VuOiBmdW5jdGlvbihzdHJlYW0sIHN0YXRlKSB7XG5cbiAgICB2YXIgY3VyID0gJyc7XG4gICAgaWYoc3RyZWFtLmVhdFNwYWNlKCkpIHJldHVybiBudWxsO1xuICAgIC8vIGV4dGVuc2lvbiBzdGFydGVkXG4gICAgaWYoc3RhdGUuZXh0ZW5TdGFydCl7XG4gICAgICBzdHJlYW0uZWF0V2hpbGUoL1teXFxzXS8pO1xuICAgICAgY3VyID0gc3RyZWFtLmN1cnJlbnQoKTtcbiAgICAgIGlmKC9ePT4/JC8udGVzdChjdXIpKXtcbiAgICAgICAgc3RhdGUuZXh0ZW5FeHRlbiA9IHRydWU7XG4gICAgICAgIHN0YXRlLmV4dGVuU3RhcnQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIFwic3Ryb25nXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS5leHRlblN0YXJ0ID0gZmFsc2U7XG4gICAgICAgIHN0cmVhbS5za2lwVG9FbmQoKTtcbiAgICAgICAgcmV0dXJuIFwiZXJyb3JcIjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYoc3RhdGUuZXh0ZW5FeHRlbikge1xuICAgICAgLy8gc2V0IGV4dGVuIGFuZCBwcmlvcml0eVxuICAgICAgc3RhdGUuZXh0ZW5FeHRlbiA9IGZhbHNlO1xuICAgICAgc3RhdGUuZXh0ZW5Qcmlvcml0eSA9IHRydWU7XG4gICAgICBzdHJlYW0uZWF0V2hpbGUoL1teLF0vKTtcbiAgICAgIGlmKHN0YXRlLmV4dGVuSW5jbHVkZSkge1xuICAgICAgICBzdHJlYW0uc2tpcFRvRW5kKCk7XG4gICAgICAgIHN0YXRlLmV4dGVuUHJpb3JpdHkgPSBmYWxzZTtcbiAgICAgICAgc3RhdGUuZXh0ZW5JbmNsdWRlID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZihzdGF0ZS5leHRlblNhbWUpIHtcbiAgICAgICAgc3RhdGUuZXh0ZW5Qcmlvcml0eSA9IGZhbHNlO1xuICAgICAgICBzdGF0ZS5leHRlblNhbWUgPSBmYWxzZTtcbiAgICAgICAgc3RhdGUuZXh0ZW5BcHBsaWNhdGlvbiA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gXCJ0YWdcIjtcbiAgICB9IGVsc2UgaWYoc3RhdGUuZXh0ZW5Qcmlvcml0eSkge1xuICAgICAgc3RhdGUuZXh0ZW5Qcmlvcml0eSA9IGZhbHNlO1xuICAgICAgc3RhdGUuZXh0ZW5BcHBsaWNhdGlvbiA9IHRydWU7XG4gICAgICBzdHJlYW0ubmV4dCgpOyAvLyBnZXQgY29tbWFcbiAgICAgIGlmKHN0YXRlLmV4dGVuU2FtZSkgcmV0dXJuIG51bGw7XG4gICAgICBzdHJlYW0uZWF0V2hpbGUoL1teLF0vKTtcbiAgICAgIHJldHVybiBcIm51bWJlclwiO1xuICAgIH0gZWxzZSBpZihzdGF0ZS5leHRlbkFwcGxpY2F0aW9uKSB7XG4gICAgICBzdHJlYW0uZWF0V2hpbGUoLywvKTtcbiAgICAgIGN1ciA9IHN0cmVhbS5jdXJyZW50KCk7XG4gICAgICBpZihjdXIgPT09ICcsJykgcmV0dXJuIG51bGw7XG4gICAgICBzdHJlYW0uZWF0V2hpbGUoL1xcdy8pO1xuICAgICAgY3VyID0gc3RyZWFtLmN1cnJlbnQoKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgc3RhdGUuZXh0ZW5BcHBsaWNhdGlvbiA9IGZhbHNlO1xuICAgICAgaWYoYXBwcy5pbmRleE9mKGN1cikgIT09IC0xKXtcbiAgICAgICAgcmV0dXJuIFwiZGVmXCI7XG4gICAgICB9XG4gICAgfSBlbHNle1xuICAgICAgcmV0dXJuIGJhc2ljVG9rZW4oc3RyZWFtLHN0YXRlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcblxuICBsYW5ndWFnZURhdGE6IHtcbiAgICBjb21tZW50VG9rZW5zOiB7bGluZTogXCI7XCIsIGJsb2NrOiB7b3BlbjogXCI7LS1cIiwgY2xvc2U6IFwiLS07XCJ9fVxuICB9XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9