"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[196],{34439:(e,t,a)=>{var n,r;a(82772),a(69826),a(41539);var i,o=a(73819),s=(i=a(96486))&&i.__esModule?i:{default:i};n=[a(91669),a(55112),a(61329),a(67507)],void 0===(r=function(e,t,a){var n=t.Browser=t.Browser||{};return n.Collection||(n.Collection=function(){},s.default.extend(n.Collection,s.default.clone(n.Node),{Init:function(){this.node_initialized||(this.node_initialized=!0,t.Browser.add_menus([{name:"refresh",node:this.type,module:this,applies:["object","context"],callback:"refresh",priority:2,label:e("Refresh")}]),t.unsupported_nodes&&-1==s.default.indexOf(t.unsupported_nodes,this.type)&&("database"==this.type&&this.allowConn||"database"!=this.type)&&(t.Browser.add_menus([{name:"show_query_tool",node:this.type,module:this,applies:["context"],callback:"show_query_tool",priority:998,label:e("Query Tool")}]),t.Browser.add_menus([{name:"search_objects",node:this.type,module:this,applies:["context"],callback:"show_search_objects",priority:997,label:e("Search Objects...")}]),t.enable_psql&&t.Browser.add_menus([{name:"show_psql_tool",node:this.type,module:this,applies:["context"],callback:"show_psql_tool",priority:998,label:e("PSQL Tool")}])))},hasId:!1,is_collection:!0,collection_node:!0,hasCollectiveStatistics:!0,canDrop:!0,canDropCascade:!0,selectParentNodeOnDelete:!1,showProperties:function(e,t,a){var r=a.$container.find(".obj_properties").first();(0,o.getPanelView)(n.tree,r[0],n,a._type)},generate_url:function(e,r){var i={properties:"obj",children:"nodes",drop:"obj"},o=this,s=n.tree.getTreeNodeHierarchy(e),l=r in i?i[r]:r;return a.generate_url(t.Browser.URL,s,l,o.node,(function(e,t){return t!=o.type}))},show_query_tool:function(){t.Tools.SQLEditor&&t.Tools.SQLEditor.showQueryTool("",t.Browser.tree.selected())},show_search_objects:function(){t.Tools.SearchObjects&&t.Tools.SearchObjects.show_search_objects("",t.Browser.tree.selected())},show_psql_tool:function(e){var t=e||{},a=n.tree,r=t.item||a.selected(),i=r?a.itemData(r):void 0;n.psql.psql_tool(i,r,!0)}})),n.Collection}.apply(t,n))||(e.exports=r)},89021:(e,t,a)=>{var n,r,i=s(a(55958)),o=s(a(96486));function s(e){return e&&e.__esModule?e:{default:e}}n=[a(91669),a(55112)],void 0===(r=function(e,t){return t.Browser=t.Browser||{},o.default.extend(t.Browser,{report_error:function(t,a,n,r){t=o.default.escape(t),a=o.default.escape(a),n=o.default.escape(n);var s='<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true"><div class="panel panel-default"><div class="panel-heading" role="tab" id="headingOne"><h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">'+e("Error message")+'</a></h4></div><div id="collapseOne" class="panel-collapse collapse show" role="tabpanel" aria-labelledby="headingOne"><div class="panel-body" style="overflow: auto;">'+a+"</div></div></div>";null!=n&&""!=n&&(s+='<div class="panel panel-default"><div class="panel-heading" role="tab" id="headingTwo"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">'+e("Additional info")+'</a></h4></div><div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo"><div class="panel-body" style="overflow: auto;">'+n+"</div></div></div></div>"),s+="</div>",i.default.alert(o.default.unescape(t),s,(function(){r&&r()}))}}),t.Browser.report_error}.apply(t,n))||(e.exports=r)},25260:(e,t,a)=>{a(69070),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a(18237)),r=i(a(55112));function i(e){return e&&e.__esModule?e:{default:e}}var o=r.default.Browser=r.default.Browser||{};o.Events=new n.default;var s=o;t.default=s},14497:(e,t,a)=>{var n,r;a(68309),a(32564),a(24812);var i,o=(i=a(96486))&&i.__esModule?i:{default:i};n=[a(55112),a(19755),a(35816)],void 0===(r=function(e,t){var a=e.Browser=e.Browser||{},n=window.wcDocker,r=window.wcIFrame;return e.Browser.Frame=function(e){o.default.extend(this,o.default.pick(e,["name","title","width","height","showTitle","isCloseable","isPrivate","url","icon","onCreate","isLayoutMember","isRenamable"]))},o.default.extend(e.Browser.Frame.prototype,{name:"",title:"",width:300,height:600,showTitle:!0,isClosable:!0,isRenamable:!1,isPrivate:!1,isLayoutMember:!1,url:"",icon:"",panel:null,frame:null,onCreate:null,load:function(e){var i=this;i.panel||e.registerPanelType(this.name,{title:i.title,isPrivate:i.isPrivate,isLayoutMember:i.isLayoutMember,onCreate:function(e){var s;t(e).data("pgAdminName",i.name),e.initSize(i.width,i.height),null===(s=e.showTitle)||void 0===s||s||e.title(!1),e.icon(i.icon),e.closeable(!!i.isCloseable),e.renamable(i.isRenamable);var l=t('<div style="position:absolute;top:0 !important;width:100%;height:100%;display:table;z-index:0;">');e.layout().addItem(l),i.panel=e;var d=new r(l,e);t(e).data("frameInitialized",!1),t(e).data("embeddedFrame",d),""!=i.url&&"about:blank"!=i.url?setTimeout((function(){d.openURL(i.url),t(e).data("frameInitialized",!0),a.Events.trigger("pgadmin-browser:frame:urlloaded:"+i.name,d,i.url,self)}),50):(d.openURL("about:blank"),t(e).data("frameInitialized",!0),a.Events.trigger("pgadmin-browser:frame:urlloaded:"+i.name,d,i.url,self)),i.events&&o.default.isObject(i.events)&&o.default.each(i.events,(function(t,a){t&&o.default.isFunction(t)&&e.on(a,t)})),o.default.each([n.EVENT.UPDATED,n.EVENT.VISIBILITY_CHANGED,n.EVENT.BEGIN_DOCK,n.EVENT.END_DOCK,n.EVENT.GAIN_FOCUS,n.EVENT.LOST_FOCUS,n.EVENT.CLOSED,n.EVENT.BUTTON,n.EVENT.ATTACHED,n.EVENT.DETACHED,n.EVENT.MOVE_STARTED,n.EVENT.MOVE_ENDED,n.EVENT.MOVED,n.EVENT.RESIZE_STARTED,n.EVENT.RESIZE_ENDED,n.EVENT.RESIZED,n.EVENT.SCROLLED],(function(t){e.on(t,i.eventFunc.bind(e,t))})),i.onCreate&&o.default.isFunction(i.onCreate)&&i.onCreate.apply(i,[e,d])}})},eventFunc:function(e){var n=t(this).data("pgAdminName");try{a.Events.trigger("pgadmin-browser:frame",e,this,arguments),a.Events.trigger("pgadmin-browser:frame:"+e,this,arguments),n&&(a.Events.trigger("pgadmin-browser:frame-"+n,e,this,arguments),a.Events.trigger("pgadmin-browser:frame-"+n+":"+e,this,arguments))}catch(e){console.warn(e.stack||e)}}}),e.Browser.Frame}.apply(t,n))||(e.exports=r)},62723:(e,t,a)=>{var n,r;a(82526),a(41817),a(32165),a(66992),a(78783),a(33948),a(24812),a(68309),a(69826),a(41539),a(82772),a(69600),a(2707),a(74916);var i,o=(i=a(96486))&&i.__esModule?i:{default:i},s=a(11738);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}n=[a(55112),a(19755),a(44092),a(91669)],void 0===(r=function(e,t,a,n){e.Browser=e.Browser||{};var r=e.Browser.MenuItem=function(e){o.default.extend(this,{url:"#",target:"_self",enable:!0},o.default.pick(e,["name","label","priority","module","callback","data","enable","category","target","url","node","checked","below","menu_items"]))};o.default.extend(e.Browser.MenuItem.prototype,{$el:null,generate:function(e,t){return this.create_el(e,t),this.context={name:this.label,disabled:this.is_disabled,callback:this.context_menu_callback.bind(this,t)},this.$el},create_el:function(a,n){if(this.menu_items){o.default.each(this.menu_items,(function(e){e.generate(a,n)}));var r=e.Browser.MenuGroup({label:this.label,id:this.name},this.menu_items);this.$el=r.$el}else{var i=null;null!=this.data&&null!=this.data.data_disabled&&(i=this.data.data_disabled);var s=t("<a></a>",{id:this.name,href:this.url,target:this.target,"data-toggle":"pg-menu",role:"menuitem","data-disabled":i}).data("pgMenu",{module:this.module||e.Browser,cb:this.callback,data:this.data}).addClass("dropdown-item");this.is_disabled=this.disabled(a,n),this.icon?s.append(t("<i></i>",{class:this.icon})):o.default.isUndefined(this.checked)||s.append(t("<i></i>",{class:"fa fa-check "+(this.checked?"":"visibility-hidden")})),s.addClass(this.is_disabled?" disabled":"");var l=t('<span data-test="menu-item-text"></span>').text("  "+this.label);s.append(l);var d=t("<li/>").append(s);o.default.isUndefined(this.below)||!0!==this.below||d.append('<li class="dropdown-divider"></li>'),this.$el=d}},update:function(e,t){this.$el&&!this.$el.find(".dropdown-item").hasClass("disabled")&&this.$el.find(".dropdown-item").addClass("disabled"),this.is_disabled=this.disabled(e,t),this.$el&&!this.is_disabled&&this.$el.find(".dropdown-item").removeClass("disabled"),this.context={name:this.label,disabled:this.is_disabled,callback:this.context_menu_callback.bind(this,t)}},context_menu_callback:function(t){var n,r=this;r.module.callbacks&&r.callback in r.module.callbacks?n=r.module.callbacks[r.callback]:r.callback in r.module&&(n=r.module[r.callback]),n?n.apply(r.module,[r.data,t]):e.Browser.report_error(a.sprintf('Developer Warning: Callback - "%s" not found!',r.cb))},disabled:function(e,t){if(null==this.enable)return!1;if(this.node){if(!e)return!0;if(o.default.isArray(this.node)?-1==o.default.indexOf(this.node,e):this.node!=e._type)return!0}return o.default.isBoolean(this.enable)?!this.enable:o.default.isFunction(this.enable)?!this.enable.apply(this.module,[e,t,this.data]):this.module&&o.default.isBoolean(this.module[this.enable])?!this.module[this.enable]:!(!this.module||!o.default.isFunction(this.module[this.enable]))&&!this.module[this.enable].apply(this.module,[e,t,this.data])},change_checked:function(e){o.default.isUndefined(this.checked)||(this.checked=e,this.checked?this.$el.find(".fa-check").removeClass("visibility-hidden"):this.$el.find(".fa-check").addClass("visibility-hidden"))}}),e.Browser.MenuGroup=function(e,a,n,r){var i,s=o.default.template(['<% if (above) { %><li class="dropdown-divider"></li><% } %>','<li class="dropdown-submenu" role="menuitem">',' <a href="#" class="dropdown-item">','  <% if (icon) { %><i class="<%= icon %>"></i><% } %>',"  <span><%= label %></span>"," </a>",' <ul class="dropdown-menu">'," </ul>","</li>",'<% if (below) { %><li class="dropdown-divider"></li><% } %>'].join("\n")),l={label:e.label,icon:e.icon,above:e.above&&!n,below:e.below},d=t(s(l)),c=d.find(".dropdown-menu"),u={},p=1;for(var f in r=o.default.uniqueId(r+"_sub_"),a.sort((function(e,t){return e.label.localeCompare(t.label)})),a.sort((function(e,t){return e.priority-t.priority})),a)i=a[f],c.append(i.$el),i.is_disabled||(u[r+p]=i.context),p++;var h=0==o.default.size(u);return{$el:d,priority:e.priority||10,label:e.label,above:l.above,below:e.below,is_disabled:h,context:{name:e.label,icon:e.icon,items:u,disabled:h}}},e.Browser.MenuCreator=function(t,a,i,l,d,c,u){var p=!0;if(d&&t[d._type]&&!o.default.isUndefined(t[d._type].showMenu)&&(p=t[d._type].showMenu(d,c)),p){var f,h={common:[]},b=0,m=o.default.uniqueId("ctx_"),v=function e(t){if(t instanceof r)t.$el&&(t.$el.remove(),delete t.$el),t.generate(d,c),(h[t.category||"common"]=h[t.category||"common"]||[]).push(t);else if(t instanceof s.MenuItem){t.$el&&(t.$el.remove(),delete t.$el),t.generate(this,self,this.context_menu_callback,c),(h[t.category||"common"]=h[t.category||"common"]||[]).push(t)}else for(var a in t)e(t[a])},_=1;for(b in i)v(i[b]);u=u||{},f=h.common,delete h.common;var y=!0;for(var w in h){var g=h[w],E=l[w]||{label:w,single:!1},T=e.Browser.MenuGroup(E,g,y,m);if(g.length<=1&&!E.single)for(b in y=!1,g)f.push(g[b]);else y=g.below,f.push(T)}f.sort((function(e,t){return e.label.localeCompare(t.label)})),f.sort((function(e,t){return e.priority-t.priority}));var C=o.default.size(f);for(b in f){(c=f[b]).priority=c.priority||10,a.append(c.$el);var D=m+"_"+c.priority+"_"+_;1!=_&&c.above&&!c.is_disabled&&(u[D+"_ma"]="----"),c.is_disabled||(u[D+"_ms"]=c.context),m!=C&&c.below&&!c.is_disabled&&(u[D+"_mz"]="----"),_++}return C>0}(u=u||{})[o.default.uniqueId("ctx_")+"1_1_ms"]={disabled:!0,name:n("No menu available for this object.")}};var i=function e(a,n){this.$element=t(a),this.options=t.extend({},e.DEFAULTS,n),this.isLoading=!1};function d(e,a){return this.each((function(){var n=t(this),r=n.data("pg.menu"),o="object"==l(e)&&e;r||n.data("pg.menu",r=new i(this,o)),r.toggle(a)}))}i.DEFAULTS={},i.prototype.toggle=function(t){if(this.$element.closest(".dropdown-item").hasClass("disabled"))return t.preventDefault(),!1;var a=this.$element.data("pgMenu");if(a.cb){var n=a.module&&a.module.callbacks&&a.module.callbacks[a.cb]||a.module&&a.module[a.cb];(n=n||a.cb)?(n.apply(a.module,[a.data,e.Browser.tree.selected()]),t.preventDefault()):e.Browser.report_error('Developer Warning: Callback - "'+a.cb+'" not found!')}};var c=t.fn.button;return t.fn.pgmenu=d,t.fn.pgmenu.Constructor=i,t.fn.pgmenu.noConflict=function(){return t.fn.pgmenu=c,this},t(document).on("click.pg.menu.data-api",'[data-toggle^="pg-menu"]',(function(e){var a=t(e.target);a.hasClass("dropdown-item")||(a=a.closest(".dropdown-item")),d.call(a,"toggle",e)})).on("focus.pg.menu.data-api blur.pg.menu.data-api",'[data-toggle^="pg-menu"]',(function(e){t(e.target).closest(".menu").toggleClass("focus",/^focus(in)?$/.test(e.type))})).on("mouseenter",".dropdown-submenu",(function(e){t(e.currentTarget).removeClass("dropdown-submenu-visible").addClass("dropdown-submenu-visible"),t(e.currentTarget).find(".dropdown-menu").first().addClass("show")})).on("mouseleave",".dropdown-submenu",(function(e){t(e.currentTarget).removeClass("dropdown-submenu-visible"),t(e.currentTarget).find(".dropdown-menu").first().removeClass("show")})).on("hidden.bs.dropdown",(function(e){t(e.target).find(".dropdown-submenu.dropdown-submenu-visible").removeClass("dropdown-submenu-visible").find(".dropdown-menu.show").removeClass("show")})),e.Browser.MenuItem}.apply(t,n))||(e.exports=r)},67507:(e,t,a)=>{var n,r;a(47042),a(68309),a(91038),a(78783),a(74916),a(82526),a(41817),a(32165),a(79753),a(69070),a(47941),a(57327),a(38880),a(89554),a(54747),a(49337),a(33321),a(24812),a(66992),a(41539),a(33948),a(82772),a(32564),a(26699),a(32023),a(69826),a(3843),a(83710);var i=a(92705),o=l(a(55958)),s=l(a(96486));function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function u(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(s)throw i}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}n=[a(91669),a(19755),a(55112),a(61329),a(44092),a(7027),a(25260)],void 0===(r=function(e,t,a,n,r){var l=window.wcDocker,p=a.Browser=a.Browser||{};return p.Node?p.Node:(p.Nodes=p.Nodes||{},p.Node=function(){},p.Node.extend=function(e,t){var a,n=this;if(a=function(){return n.apply(this,arguments)},s.default.extend(a,n,s.default.omit(e,"callbacks")),a.callbacks=s.default.extend({},n.callbacks,e.callbacks),null!=t&&!t)return a;var r,i,o=u(s.default.keys(a.callbacks));try{for(o.s();!(r=o.n()).done;){var l=r.value;"function"==typeof a.callbacks[i=l]&&(a.callbacks[i]=a.callbacks[i].bind(a))}}catch(e){o.e(e)}finally{o.f()}return a.Init.apply(a),this.Init.apply(a),a},s.default.extend(a.Browser.Node,{type:void 0,label:"",sqlAlterHelp:"",sqlCreateHelp:"",dialogHelp:"",epasHelp:!1,title:function(e,t){return e.label+(t?" - "+t.label:"")},hasId:!0,Init:function(){var t=this;if(!t.node_initialized){if(t.node_initialized=!0,a.Browser.add_menus([{name:"refresh",node:t.type,module:t,applies:["object","context"],callback:"refresh",priority:2,label:e("Refresh..."),enable:!0}]),t.canEdit&&a.Browser.add_menus([{name:"show_obj_properties",node:t.type,module:t,applies:["object","context"],callback:"show_obj_properties",priority:999,label:e("Properties..."),data:{action:"edit"},enable:s.default.isFunction(t.canEdit)?function(){return!!t.canEdit.apply(t,arguments)}:!!t.canEdit}]),t.canDrop&&(a.Browser.add_menus([{name:"delete_object",node:t.type,module:t,applies:["object","context"],callback:"delete_obj",priority:t.dropPriority,label:t.dropAsRemove?e("Remove %s",t.label):e("Delete/Drop"),data:{url:"drop",data_disabled:e("The selected tree node does not support this option.")},enable:s.default.isFunction(t.canDrop)?function(){return!!t.canDrop.apply(t,arguments)}:!!t.canDrop}]),t.canDropCascade&&a.Browser.add_menus([{name:"delete_object_cascade",node:t.type,module:t,applies:["object","context"],callback:"delete_obj",priority:3,label:e("Drop Cascade"),data:{url:"delete"},enable:s.default.isFunction(t.canDropCascade)?function(){return t.canDropCascade.apply(t,arguments)}:!!t.canDropCascade}])),-1==s.default.indexOf(a.unsupported_nodes,t.type)){var n=function(e){return!("database"!=e._type||!e.allowConn)||"database"!=e._type};a.Browser.add_menus([{name:"show_query_tool",node:t.type,module:t,applies:["context"],callback:"show_query_tool",priority:998,label:e("Query Tool"),enable:n}]),a.Browser.add_menus([{name:"search_objects",node:t.type,module:a.Tools.SearchObjects,applies:["context"],callback:"show_search_objects",priority:997,label:e("Search Objects..."),icon:"fa fa-search",enable:n}]),a.enable_psql&&a.Browser.add_menus([{name:"show_psql_tool",node:this.type,module:this,applies:["context"],callback:"show_psql_tool",priority:998,label:e("PSQL Tool")}])}t.hasScriptTypes&&s.default.isArray(t.hasScriptTypes)&&t.hasScriptTypes.length>0&&s.default.each(t.hasScriptTypes,(function(n){var r=e("%s Script",n.toUpperCase());n=n.toLowerCase(),a.Browser.add_menus([{name:"show_script_"+n,node:t.type,module:t,applies:["object","context"],callback:"show_script",priority:4,label:r,category:e("Scripts"),data:{script:n,data_disabled:e("The selected tree node does not support this option.")},enable:t.check_user_permission}])}))}},check_user_permission:function(e,t,a){if("server_group"==e._type||"server"==e._type)return!1;if("database"==e._type&&!e.allowConn)return!1;var n=p.tree.getTreeNodeHierarchy(t);return-1==s.default.indexOf(["create","insert","update","delete"],a.script)||(!("role"!=e.type||!n.server.user.can_create_role)||!!(n.server&&(n.server.user.is_superuser||n.server.user.can_create_db)||n.schema&&n.schema.can_create))},addUtilityPanel:function(e,t,a){var n=window.document.body,r=document.createElement("div"),i=a||p.docker;n.insertBefore(r,n.firstChild);var o=screen.width<700?.95*screen.width:.5*screen.width,l=screen.height<500?.95*screen.height:.4*screen.height;s.default.isUndefined(e)||s.default.isNull(e)||(o=e),s.default.isUndefined(t)||s.default.isNull(t)||(l=t);var d=(n.offsetWidth-o)/2,c=(n.offsetHeight-l)/4,u=i.addPanel("utility_props",window.wcDocker.DOCK.FLOAT,void 0,{w:o,h:l,x:d,y:c});return setTimeout((function(){u.moveable(!1)}),0),n.removeChild(r),u},registerDockerPanel:function(e,t,a){var n=e||p.docker,r=n.findPanels(t);r&&1==r.length||(r=new p.Panel(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){c(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({name:t,showTitle:!0,isCloseable:!0,isPrivate:!0,isLayoutMember:!1,canMaximise:!0,content:'<div class="obj_properties container-fluid h-100"></div>'},a)),r.load(n))},registerUtilityPanel:function(t){var a=t||p.docker,n=a.findPanels("utility_props");if(!n||1!=n.length){(n=new p.Panel({name:"utility_props",showTitle:!0,isCloseable:!0,isPrivate:!0,isLayoutMember:!1,canMaximise:!0,elContainer:!0,content:'<div class="obj_properties container-fluid h-100"><div role="status" class="pg-panel-message">'+e("Please wait while we fetch information ...")+"</div></div>",onCreate:function(e,t){t.addClass("pg-no-overflow")},events:{}})).load(a)}},register_node_panel:function(){var t=p.docker.findPanels("node_props");if(!t||1!=t.length){(t=new p.Panel({name:"node_props",showTitle:!0,isCloseable:!0,isPrivate:!0,isLayoutMember:!1,canMaximise:!0,elContainer:!0,content:'<div class="obj_properties container-fluid h-100"><div role="status" class="pg-panel-message">'+e("Please wait while we fetch information about the node from the server...")+"</div></div>",onCreate:function(e,t){t.addClass("pg-no-overflow")},events:{}})).load(p.docker)}},hasScriptTypes:["create"],canEdit:!0,canDrop:!1,canDropCascade:!1,dropAsRemove:!1,dropPriority:2,selectParentNodeOnDelete:!1,callbacks:{show_obj_properties:function(t,n){var i,d=p.tree,c=t&&t.item||n||d.selected(),u=c?d.itemData(c):void 0,f=this,h=f.title.apply(this,[u]);if(p.Node.register_node_panel(),u){var b=this,m=s.default.isArray(this.parent_type)?function(e){return-1!=s.default.indexOf(b.parent_type,e._type)}:function(e){return b.parent_type==e._type},v=function(){var e,t,n,r,i=window.document.body,o=document.createElement("div");i.insertBefore(o,i.firstChild),e=screen.width<800?a.toPx(o,"95%","width",!0):(e=a.toPx(o,b.width||p.stdW.default+"px","width",!0))<=p.stdW.sm?p.stdW.sm:e<=p.stdW.md?p.stdW.md:p.stdW.lg,t=screen.height<600?a.toPx(o,"95%","height",!0):(t=a.toPx(o,b.height||p.stdH.default+"px","height",!0))<=p.stdH.sm?p.stdH.sm:t<=p.stdH.md?p.stdH.md:p.stdH.lg,n=(i.offsetWidth-e)/2,r=(i.offsetHeight-t)/4,e>window.innerWidth&&(n=0,e=window.innerWidth),t>window.innerHeight&&(r=0,t=window.innerHeight);var s=p.docker.addPanel("node_props",l.DOCK.FLOAT,void 0,{w:e+"px",h:t+"px",x:n+"px",y:r+"px"});return i.removeChild(o),s};if("create"==t.action){if(b.parent_type&&!m(u))for(;c&&d.hasParent(c);){c=d.parent(c);var _=d.itemData(c);if(m(_)){u=_;break}}if(!u||null!=this.parent_type&&!m(u))return;h=e("Create - %s",this.label),"server"==this.type&&(h=e("Register - %s",this.label)),i=v(),setTimeout((function(){f.showProperties(c,u,i,t.action)}),10)}else{if(p.Node.panels&&p.Node.panels[u.id]&&p.Node.panels[u.id].$container)if((i=p.Node.panels[u.id]).$container.attr("action-mode")){var y=e('Are you sure want to stop editing the properties of %s "%s"?');"edit"==t.action&&(y=e('Are you sure want to reset the current changes and re-open the panel for %s "%s"?')),o.default.confirm(e("Edit in progress?"),r.sprintf(y,f.label.toLowerCase(),u.label),(function(){setTimeout((function(){f.showProperties(c,u,i,t.action)}),10)}),null).show()}else setTimeout((function(){f.showProperties(c,u,i,t.action)}),10);else p.Node.panels=p.Node.panels||{},i=p.Node.panels[u.id]=v(),setTimeout((function(){f.showProperties(c,u,i,t.action)}),10)}i.title(h),i.icon("icon-"+this.type),i.focus()}},delete_obj:function(a,n){var r=a||{url:"drop"},i=this,l=p.tree,d=r.item||n||l.selected(),c=d?l.itemData(d):void 0;if(c){i=p.Nodes[c._type];var u,f,h=s.default.unescape(c.label);if("delete"==r.url){if(u=e('Are you sure you want to drop %s "%s" and all the objects that depend on it?',i.label.toLowerCase(),c.label),f=e("DROP CASCADE %s?",i.label),!(s.default.isFunction(i.canDropCascade)?i.canDropCascade.apply(i,[c,d]):i.canDropCascade))return void o.default.error(e('The %s "%s" cannot be dropped.',i.label,c.label),1e4)}else if(i.dropAsRemove?(u=e('Are you sure you want to remove %s "%s"?',i.label.toLowerCase(),c.label),f=e("Remove %s?",i.label)):(u=e('Are you sure you want to drop %s "%s"?',i.label.toLowerCase(),c.label),f=e("Drop %s?",i.label)),!(s.default.isFunction(i.canDrop)?i.canDrop.apply(i,[c,d]):i.canDrop))return void o.default.error(e('The %s "%s" cannot be dropped/removed.',i.label,c.label),1e4);o.default.confirm(f,u,(function(){t.ajax({url:i.generate_url(d,r.url,c,!0),type:"DELETE"}).done((function(e){if(2!=e.success){if(0==e.success)p.report_error(e.errormsg,e.info);else{var t=!0;if(i.selectParentNodeOnDelete){var a=l.parent(d);setTimeout((function(){l.select(a)}),10),t=!1}p.removeTreeNode(d,t)}return!0}o.default.error(e.info,null)})).fail((function(t){var a=t.responseText;if(417==t.status||410==t.status||500==t.status)try{var n=JSON.parse(t.responseText);a=n.info||n.errormsg}catch(e){console.warn(e.stack||e)}p.report_error(e('Error dropping/removing %s: "%s"',i.label,h),a)}))}))}},show_script:function(e,t){var n,r,i=e.script,o=p.tree,s=t||o.selected(),l=s?o.itemData(s):void 0;l&&(n=p.Nodes[l._type],r="insert"==i?"insert_sql":"update"==i?"update_sql":"delete"==i?"delete_sql":"select"==i?"select_sql":"exec"==i?"exec_sql":"sql",a.Tools.SQLEditor.showQueryTool(n.generate_url(s,r,l,!0),s,i))},show_query_tool:function(t,n){var r=p.get_preference("sqleditor","copy_sql_to_query_tool"),i=p.tree,o=n||i.selected(),s=o?i.itemData(o):void 0;if(s)if(r.value&&!s._type.includes("coll-")){var l={script:s._type.toLowerCase(),data_disabled:e("The selected tree node does not support this option.")};p.Node.callbacks.show_script(l)}else a.Tools.SQLEditor.showQueryTool("",o)},show_psql_tool:function(e){var t=e||{},a=p.tree,n=t.item||a.selected(),r=n?a.itemData(n):void 0;p.psql.psql_tool(r,n,!0)},change_server_background:function(e,a){if(e&&a){var n=p.tree.getTreeNodeHierarchy(e).server;if(n)if(-1!==e.path.indexOf(n.id)){var r=n.icon.split(" ")[1]||null,i=n.icon.split(" ")[2]||"";if(r){var o,s="pga_server_"+n._id+"_bgcolor";o="<style id="+s+" type='text/css'> \n",o+="."+s+" .file-label {",o+=" border-radius: 3px; margin-bottom: 2px;",o+=" background: "+r+" !important;} \n",i&&(o+="."+s+" span.file-name {",o+=" color: "+i+" !important;} \n"),o+="</style>",t("#"+s).remove(),t(o).appendTo("head"),p.tree.addCssClass(e,s)}}}},added:function(e,t){-1!==p.tree.getData(e)._type.indexOf("coll-")&&setTimeout((function(){var t=a.Browser.Nodes[p.tree.getData(e).nodes[0]];t.clear_cache.apply(t)}),0),p.Events.trigger("pgadmin:browser:tree:expand-from-previous-tree-state",e),p.Node.callbacks.change_server_background(e,t)},selected:function(e,t,n){var r=n||p,i=r.tree,o=t||i.itemData(e);return a.Browser.enable_disable_menus.apply(r,[e]),o&&r&&"properties"in r.panels&&r.panels.properties&&r.panels.properties.panel&&r.panels.properties.panel.isVisible()&&this.showProperties(e,o,r.panels.properties.panel),p.Events.trigger("pgadmin:browser:tree:update-tree-state",e),!0},removed:function(e){var t=this;setTimeout((function(){t.clear_cache.apply(t,e)}),0)},refresh:function(e,a){var n=this,r=p.tree,i=a&&r.itemData(a);t(p.panels.properties.panel).removeData("node-prop"),p.Events.trigger("pgadmin:browser:tree:refresh",a||p.tree.selected(),{success:function(){n.callbacks.selected.apply(n,[a,i,p])}})},opened:function(e){var t=p.tree,a=p.get_preference("browser","auto_expand_sole_children");if(a&&a.value&&1==t.children(e).length){var n=t.first(e);if(n._loaded)t.open(n);else var r=setInterval((function(){n._loaded&&(t.open(n),i())}),200),i=function(){clearInterval(r)}}p.Events.trigger("pgadmin:browser:tree:update-tree-state",e)},closed:function(e){p.Events.trigger("pgadmin:browser:tree:remove-from-tree-state",e)}},showProperties:function(t,a,n,r){var l=this,d=n.$container.find(".obj_properties").first(),c=function(){var e=p.tree.getTreeNodeHierarchy(t);(0,i.getNodeView)(l.type,e,"properties",a,"tab",d[0],this,b)}.bind(n),u=function(){r&&"properties"==r&&(r="edit"),this.$container.attr("action-mode",r),this.icon(s.default.isFunction(l.node_image)?l.node_image.apply(l,[a]):l.node_image||"icon-"+l.type),(0,i.removeNodeView)(d[0]);var n=p.tree.getTreeNodeHierarchy(t);(0,i.getNodeView)(l.type,n,r,a,"dialog",d[0],this,b,(function(t){t.node&&(h(t.node,n),0===t.success&&o.default.alert(e("Error"),e(t.errormsg)))}))}.bind(n),f=function(e,a,n){setTimeout((function(){e.clear_cache.apply(e,t)}),0);try{p.Events.trigger("pgadmin:browser:tree:add",s.default.clone(a),s.default.clone(n))}catch(e){console.warn(e.stack||e)}this.close()}.bind(n,l),h=function(e,n,r){var i=a,o=n,s=r;setTimeout((function(){e.clear_cache.apply(e,t)}),0),p.Events.trigger("pgadmin:browser:tree:update",i,o,s,{success:function(e,t,a){p.Events.trigger("pgadmin:browser:node:updated",e,t,a),p.Events.trigger("pgadmin:browser:node:"+t._type+":updated",e,t,a)}}),this.close()}.bind(n,l),b=u.bind(n);r?("create"==r&&(h=f),"properties"!=r?u():c()):(b=function(){setTimeout((function(){l.callbacks.show_obj_properties.apply(l,[{action:"edit",item:t}])}),0)}.bind(n),c())},_find_parent_node:function(e,t,a){if(this.parent_type)if(a=a||e.itemData(t),s.default.isString(this.parent_type)){if(this.parent_type==a._type)return t;for(;e.hasParent(t);)if(t=e.parent(t),a=e.itemData(t),this.parent_type==a._type)return t}else{if(s.default.indexOf(this.parent_type,a._type)>=0)return t;for(;e.hasParent(t);)if(t=e.parent(t),a=e.itemData(t),s.default.indexOf(this.parent_type,a._type)>=0)return t}return null},generate_url:function(e,t,a,r,i,o){var l={create:"obj",drop:"obj",edit:"obj",properties:"obj",statistics:"stats"},d=this,c=-1/0,u=s.default.isUndefined(e)||s.default.isNull(e)?i||{}:p.tree.getTreeNodeHierarchy(e),f=t in l?l[t]:t,h=r&&a._type==d.type?encodeURIComponent(a._id):"";if(d.parent_type)if(s.default.isString(d.parent_type)){var b=u[d.parent_type];b&&(c=b.priority)}else s.default.each(d.parent_type,(function(e){var t=u[e];t&&c<t.priority&&(c=t.priority)}));var m=c;o&&u[o]&&(m=u[o].priority);return n.generate_url(p.URL,u,f,d.type,(function(e){return e.priority<=m||e.priority==c}),h)},cache:function(e,t,a,n){var i=this.cached=this.cached||{},o=e,l=t&&t[a]&&t[a].priority||0;if(t&&s.default.each(s.default.sortBy(s.default.values(s.default.pickBy(t,(function(e){return e.priority<=l}))),(function(e){return e.priority})),(function(e){o=r.sprintf("%s_%s",o,encodeURI(e._id))})),s.default.isUndefined(n)){var d=i[o];return!s.default.isUndefined(d)&&d.at-Date.now()>3e5&&(d=void 0),d}return i[o]={data:n,at:Date.now(),level:a}},clear_cache:function(e){this.cached={};p.Events.trigger("pgadmin:browser:node:"+this.type+":cache_cleared",e,this)},cache_level:function(e,t){if(e){if(t&&this.type in e)return this.type;if(s.default.isArray(this.parent_type)){for(var a in this.parent_type)if(a in e)return a;return this.type}return this.parent_type}}}),a.Browser.Node)}.apply(t,n))||(e.exports=r)},70242:(e,t,a)=>{var n,r;a(68309),a(24812),a(89554),a(41539),a(32564),a(69826),a(26699);var i,o=a(73819),s=(i=a(96486))&&i.__esModule?i:{default:i};n=[a(55112),a(19755),a(35816)],void 0===(r=function(e,t){var a=e.Browser=e.Browser||{},n=window.wcDocker;return e.Browser.Panel=function(e){s.default.extend(this,s.default.pick(e,["name","title","width","height","showTitle","isCloseable","isPrivate","isLayoutMember","content","icon","events","onCreate","elContainer","canHide","limit","extraClasses","canMaximise"]))},s.default.extend(e.Browser.Panel.prototype,{name:"",title:"",width:300,height:600,showTitle:!0,isCloseable:!0,isPrivate:!1,isLayoutMember:!0,content:"",icon:"",panel:null,onCreate:null,elContainer:!1,canMaximise:!1,limit:null,extraClasses:null,load:function(e,r){var i=this;i.panel||e.registerPanelType(i.name,{title:i.title,isPrivate:i.isPrivate,limit:i.limit,isLayoutMember:i.isLayoutMember,onCreate:function(e){if(t(e).data("pgAdminName",i.name),e.initSize(i.width,i.height),i.showTitle){var l='<a href="#" tabindex="-1" class="panel-link-heading">'+(r||i.title)+"</a>";e.title(l),""!=i.icon&&e.icon(i.icon)}else e.title(!1);var d=t("<div>",{class:"pg-panel-content"}).append(t(i.content));s.default.isNull("extraClasses")||d.addClass(i.extraClasses),e.maximisable(!!i.canMaximise),e.closeable(!!i.isCloseable),e.layout().addItem(d),i.panel=e,i.events&&s.default.isObject(i.events)&&s.default.each(i.events,(function(t,a){t&&s.default.isFunction(t)&&e.on(a,t)})),s.default.each([n.EVENT.UPDATED,n.EVENT.VISIBILITY_CHANGED,n.EVENT.BEGIN_DOCK,n.EVENT.END_DOCK,n.EVENT.GAIN_FOCUS,n.EVENT.LOST_FOCUS,n.EVENT.CLOSED,n.EVENT.BUTTON,n.EVENT.ATTACHED,n.EVENT.DETACHED,n.EVENT.MOVE_STARTED,n.EVENT.MOVE_ENDED,n.EVENT.MOVED,n.EVENT.RESIZE_STARTED,n.EVENT.RESIZE_ENDED,n.EVENT.RESIZED,n.EVENT.SCROLLED],(function(t){e.on(t,i.eventFunc.bind(e,t))})),i.onCreate&&s.default.isFunction(i.onCreate)&&i.onCreate.apply(i,[e,d]),["dragover","drop"].forEach((function(e){d[0].addEventListener(e,(function(e){e.stopPropagation(),e.preventDefault()}))})),i.elContainer&&(e.pgElContainer=d,d.addClass("pg-el-container"),s.default.each([n.EVENT.RESIZED,n.EVENT.ATTACHED,n.EVENT.DETACHED,n.EVENT.VISIBILITY_CHANGED],(function(t){e.on(t,i.resizedContainer.bind(e))})),i.resizedContainer.apply(e)),"dashboard"!=e._type&&"processes"!=e._type||(0,o.getPanelView)(a.tree,d[0],a,e._type),a.onPreferencesChange("dashboards",(function(){(0,o.getPanelView)(a.tree,d[0],a,e._type)})),a.onPreferencesChange("graphs",(function(){(0,o.getPanelView)(a.tree,d[0],a,e._type)})),s.default.each([n.EVENT.CLOSED,n.EVENT.VISIBILITY_CHANGED],(function(t){e.on(t,i.handleVisibility.bind(e,t))})),a.Events.on("pgadmin-browser:tree:selected",(function(){e.isVisible()&&"properties"!==e._type&&(0,o.getPanelView)(a.tree,d[0],a,e._type)})),a.Events.on("pgadmin:database:connected",(function(){e.isVisible()&&"properties"!==e._type&&(0,o.getPanelView)(a.tree,d[0],a,e._type)})),a.Events.on("pgadmin-browser:tree:refreshing",(function(){e.isVisible()&&"properties"!==e._type&&(0,o.getPanelView)(a.tree,d[0],a,e._type)}))}})},eventFunc:function(e){var n=t(this).data("pgAdminName");try{a.Events.trigger("pgadmin-browser:panel",e,this,arguments),a.Events.trigger("pgadmin-browser:panel:"+e,this,arguments),n&&(a.Events.trigger("pgadmin-browser:panel-"+n,e,this,arguments),a.Events.trigger("pgadmin-browser:panel-"+n+":"+e,this,arguments))}catch(e){console.warn(e.stack||e)}},resizedContainer:function(){var e=this;if(e.pgElContainer&&!e.pgResizeTimeout){if(!e.isVisible())return clearTimeout(e.pgResizeTimeout),void(e.pgResizeTimeout=null);e.pgResizeTimeout=setTimeout((function(){var t=e.width(),a="xs";e.pgResizeTimeout=null,t>=480&&(a="sm"),t>=768&&(a="md"),t>=992&&(a="lg"),t>=1200&&(a="xl"),e.pgElContainer.attr("el",a)}),100)}},handleVisibility:function(e){if(!s.default.isNull(a.tree)){var t=a.docker.findPanels(this._type)[0],n=t.isVisible(),r=t.layout().scene().find(".pg-panel-content");n&&["dashboard","statistics","dependencies","dependents","sql","processes"].includes(t._type)&&"panelVisibilityChanged"==e&&(0,o.getPanelView)(a.tree,r[0],a,this._type),"panelClosed"==e&&"dashboard"==t._type&&(0,o.getPanelView)(a.tree,r[0],a,this._type,!1)}}}),e.Browser.Panel}.apply(t,n))||(e.exports=r)}}]);