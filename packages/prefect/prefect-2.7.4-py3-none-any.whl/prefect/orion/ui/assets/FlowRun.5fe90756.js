import{d as C,r as D,I as L,c as l,f as N,s as P,K as B,J as K,L as O,a as o,w as n,b as V,N as $,O as A,e as w,o as u,h as e,P as H,k as r,Q as p,g as d,R as J,S as Q,_ as U,T as j,D as q}from"./index.0bc657b0.js";import{u as z}from"./usePageTitle.5e5763d0.js";const W=C({__name:"FlowRun",setup(E){const i=V(),c=D("Logs"),f=L("flowRunId"),m=l(()=>{const t=["Logs","Task Runs","Subflow Runs","Parameters"];return $.xl||t.push("Details"),t}),_=N(),v=P(_.flowRuns.getFlowRun,[f],{interval:3e4}),s=l(()=>v.response),R=l(()=>{var t;return(t=s.value)==null?void 0:t.deploymentId}),y=B(R);K(f,(t,a)=>{t!==a&&(c.value="Logs")});const b=l(()=>{var t,a;return(a=(t=s.value)==null?void 0:t.parameters)!=null?a:{}}),k=l(()=>{var t,a;return(a=(t=y.value)==null?void 0:t.parameterOpenApiSchema)!=null?a:{}}),g=l(()=>A(b.value,k.value));function h(){i.push(q.flowRuns())}const T=l(()=>{var t;return(t=s.value)==null?void 0:t.stateType});O(T);const F=l(()=>s.value?`Flow Run: ${s.value.name}`:"Flow Run");return z(F),(t,a)=>{const x=w("p-tabs"),I=w("p-layout-well");return u(),o(I,{class:"flow-run"},{header:n(()=>[e(s)?(u(),o(e(H),{key:0,"flow-run-id":e(s).id,onDelete:h},null,8,["flow-run-id"])):r("",!0)]),well:n(()=>[e(s)?(u(),o(e(p),{key:0,"flow-run":e(s),alternate:""},null,8,["flow-run"])):r("",!0)]),default:n(()=>[d(x,{selected:c.value,"onUpdate:selected":a[0]||(a[0]=S=>c.value=S),tabs:e(m)},{details:n(()=>[e(s)?(u(),o(e(p),{key:0,"flow-run":e(s)},null,8,["flow-run"])):r("",!0)]),logs:n(()=>[e(s)?(u(),o(e(J),{key:0,"flow-run":e(s)},null,8,["flow-run"])):r("",!0)]),"task-runs":n(()=>[e(s)?(u(),o(e(Q),{key:0,"flow-run-id":e(s).id},null,8,["flow-run-id"])):r("",!0)]),"subflow-runs":n(()=>[e(s)?(u(),o(e(U),{key:0,"flow-run-id":e(s).id},null,8,["flow-run-id"])):r("",!0)]),parameters:n(()=>[d(e(j),{value:e(g)},null,8,["value"])]),_:1},8,["selected","tabs"])]),_:1})}}});export{W as default};
