import{d as h,I as y,f as D,c as e,X as c,L as N,h as t,a as x,w as n,k as C,b as S,N as A,e as p,o as B,g as u,Y as F,Z as i,a0 as L,T as V,D as $}from"./index.0bc657b0.js";import{u as J}from"./usePageTitle.5e5763d0.js";const Y=h({__name:"TaskRun",setup(K){const k=S(),l=y("taskRunId"),r=D(),f=e(()=>{const s=["Logs","Task Inputs"];return A.xl||s.push("Details"),s}),d=e(()=>l.value?[l.value]:null),R=c(r.taskRuns.getTaskRun,d,{interval:3e4}),a=e(()=>R.response),o=e(()=>{var s;return(s=a.value)==null?void 0:s.flowRunId}),v=e(()=>o.value?[o.value]:null),_=c(r.flowRuns.getFlowRun,v),m=e(()=>{var s;return(s=a.value)!=null&&s.taskInputs?JSON.stringify(a.value.taskInputs,void 0,2):"{}"});function w(){_.refresh(),k.push($.flowRun(o.value))}const g=e(()=>{var s;return(s=a.value)==null?void 0:s.stateType});N(g);const I=e(()=>a.value?`Task Run: ${a.value.name}`:"Task Run");return J(I),(s,O)=>{const T=p("p-tabs"),b=p("p-layout-well");return t(a)?(B(),x(b,{key:0,class:"task-run"},{header:n(()=>[u(t(F),{"task-run-id":t(a).id,onDelete:w},null,8,["task-run-id"])]),well:n(()=>[u(t(i),{alternate:"","task-run":t(a)},null,8,["task-run"])]),default:n(()=>[u(T,{tabs:t(f)},{details:n(()=>[u(t(i),{"task-run":t(a)},null,8,["task-run"])]),logs:n(()=>[u(t(L),{"task-run":t(a)},null,8,["task-run"])]),"task-inputs":n(()=>[u(t(V),{value:t(m)},null,8,["value"])]),_:1},8,["tabs"])]),_:1})):C("",!0)}}});export{Y as default};
