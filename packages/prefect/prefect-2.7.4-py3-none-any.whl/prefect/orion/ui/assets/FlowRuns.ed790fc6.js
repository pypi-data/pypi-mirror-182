import{u as W,A as $,H as j,d as q,f as G,s as c,c as r,l as I,r as J,a as t,w as i,b as K,e as k,o as s,g as a,h as e,W as L,i as g,y as Q,F,v as X,N as C,j as Y,m as Z,k as d,n as y,$ as ee,t as se,E as te,p as oe,q as V,M as ne,x as le,z as ae,B as ue,C as re,D as ce}from"./index.0bc657b0.js";import{u as ie}from"./usePageTitle.5e5763d0.js";class de extends $(j){}const pe=W(new de);const fe={class:"flow-runs__list"},we={class:"flow-runs__list-controls"},_e={class:"flow-runs__list-controls--right"},Re=q({__name:"FlowRuns",setup(x){const S=K(),p=G(),R=c(p.flowRuns.getFlowRunsCount,[{}]),D=r(()=>R.executed),H=r(()=>R.response===0),{filter:f,hasFilters:N,startDate:A,endDate:B,name:w,sort:_}=I(),m={interval:3e4},v=c(p.flowRuns.getFlowRunsCount,[f],m),U=r(()=>v.response),E=c(pe.getFlowRunHistory,[f],m),z=r(()=>{var n;return(n=E.response)!=null?n:[]}),b=c(p.flowRuns.getFlowRuns,[f],m),h=r(()=>{var n;return(n=b.response)!=null?n:[]}),o=J([]);function M(){S.push(ce.flowRuns())}const O=()=>{o.value=[],b.refresh(),v.refresh()};return ie("Flow Runs"),(n,l)=>{const P=k("p-button"),T=k("p-layout-default");return s(),t(T,{class:"flow-runs"},{header:i(()=>[a(e(L))]),default:i(()=>[e(D)?(s(),g(F,{key:0},[e(H)?(s(),t(e(Q),{key:0})):(s(),g(F,{key:1},[a(e(X)),e(C).md?(s(),t(e(Y),Z({key:0,history:e(z)},{startDate:e(A),endDate:e(B)},{class:"flow-runs__chart"}),null,16,["history"])):d("",!0),y("div",fe,[y("div",we,[y("div",_e,[o.value.length==0?(s(),t(e(ee),{key:0,count:e(U),label:"Flow run"},null,8,["count"])):(s(),t(e(se),{key:1,count:o.value.length},null,8,["count"])),a(e(te),{selected:o.value,onDelete:O},null,8,["selected"])]),e(C).md?(s(),t(e(oe),{key:0,modelValue:e(w),"onUpdate:modelValue":l[0]||(l[0]=u=>V(w)?w.value=u:null),placeholder:"Search by run name",label:"Search by run name"},null,8,["modelValue"])):d("",!0),a(e(ne),{modelValue:e(_),"onUpdate:modelValue":l[1]||(l[1]=u=>V(_)?_.value=u:null)},null,8,["modelValue"])]),a(e(le),{selected:o.value,"onUpdate:selected":l[2]||(l[2]=u=>o.value=u),"flow-runs":e(h)},null,8,["selected","flow-runs"]),e(h).length?d("",!0):(s(),t(e(ae),{key:0},ue({_:2},[e(N)?{name:"actions",fn:i(()=>[a(P,{size:"sm",secondary:"",onClick:M},{default:i(()=>[re(" Clear Filters ")]),_:1})]),key:"0"}:void 0]),1024))])],64))],64)):d("",!0)]),_:1})}}});export{Re as default};
