import{d as v,f as B,I as C,aC as w,r as p,h as e,a as g,w as c,k as x,b as I,e as V,o as A,g as s,aU as E,aV as N,m as P,aQ as S,aO as T,ak as b,D as U}from"./index.0bc657b0.js";import{u as j}from"./usePageTitle.5e5763d0.js";const O=v({__name:"BlockEdit",async setup(F){let t,l;const n=B(),u=I(),r=C("blockDocumentId"),a=([t,l]=w(()=>n.blockDocuments.getBlockDocument(r.value)),t=await t,l(),t),{blockType:i,blockSchema:f}=a,d=p(a.data),m=p(a.name);function _(k){n.blockDocuments.updateBlockDocument(a.id,k).then(()=>{b("Block updated successfully","success"),u.push(U.block(r.value))}).catch(o=>{b("Failed to update block","error"),console.error(o)})}function y(){u.back()}return j(`Edit Block: ${m.value}`),(k,o)=>{const h=V("p-layout-default");return e(a)?(A(),g(h,{key:0,class:"block-edit"},{header:c(()=>[s(e(E),{"block-document":e(a)},null,8,["block-document"])]),default:c(()=>[s(e(T),{"block-type":e(i)},{default:c(()=>[s(e(N),P({data:d.value,"onUpdate:data":o[0]||(o[0]=D=>d.value=D)},{name:m.value,blockSchema:e(f)},S({submit:_,cancel:y})),null,16,["data"])]),_:1},8,["block-type"])]),_:1})):x("",!0)}}});export{O as default};
