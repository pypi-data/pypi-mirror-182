(self.webpackChunk_jupyteach_jupyterlite_contents=self.webpackChunk_jupyteach_jupyterlite_contents||[]).push([[935],{935:(r,e,n)=>{"use strict";n.r(e),n.d(e,{ILocalForage:()=>t,ensureMemoryStorage:()=>a});const t=new(n(526).Token)("@jupyterlite/localforge:ILocalForage");var i=n(774),o=n.n(i);async function a(r){return await r.defineDriver(o())}},774:function(r){r.exports=function(){"use strict";function r(e){return r.result||(e&&"function"==typeof e.getSerializer||Promise.reject(new Error("localforage.getSerializer() was not available! localforage v1.4+ is required!")),r.result=e.getSerializer()),r.result}function e(r,e){e&&r.then((function(r){e(null,r)}),(function(r){e(r)}))}var n={};return{_driver:"memoryStorageDriver",_initStorage:function(e){var t={};if(e)for(var i in e)t[i]=e[i];var o=n[t.name]=n[t.name]||{},a=o[t.storeName]=o[t.storeName]||{};return t.db=a,this._dbInfo=t,r(this).then((function(r){t.serializer=r}))},iterate:function(r,n){var t=this,i=t.ready().then((function(){var e=t._dbInfo.db,n=1;for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];if(o&&(o=t._dbInfo.serializer.deserialize(o)),void 0!==(o=r(o,i,n++)))return o}}));return e(i,n),i},getItem:function(r,n){var t=this;"string"!=typeof r&&(console.warn(r+" used as a key, but it is not a string."),r=String(r));var i=t.ready().then((function(){var e=t._dbInfo.db[r];return e&&(e=t._dbInfo.serializer.deserialize(e)),e}));return e(i,n),i},setItem:function(r,n,t){var i=this;"string"!=typeof r&&(console.warn(r+" used as a key, but it is not a string."),r=String(r));var o=i.ready().then((function(){void 0===n&&(n=null);var e=n;return function(r){return new Promise((function(e,n){i._dbInfo.serializer.serialize(r,(function(r,t){t?n(t):e(r)}))}))}(n).then((function(n){return i._dbInfo.db[r]=n,e}))}));return e(o,t),o},removeItem:function(r,n){var t=this;"string"!=typeof r&&(console.warn(r+" used as a key, but it is not a string."),r=String(r));var i=t.ready().then((function(){var e=t._dbInfo.db;e.hasOwnProperty(r)&&delete e[r]}));return e(i,n),i},clear:function(r){var n=this,t=n.ready().then((function(){var r=n._dbInfo.db;for(var e in r)r.hasOwnProperty(e)&&delete r[e]}));return e(t,r),t},length:function(r){var n=this.keys().then((function(r){return r.length}));return e(n,r),n},key:function(r,n){var t=this,i=t.ready().then((function(){var e=t._dbInfo.db,n=null,i=0;for(var o in e)if(e.hasOwnProperty(o)){if(r===i){n=o;break}i++}return n}));return e(i,n),i},keys:function(r){var n=this,t=n.ready().then((function(){var r=n._dbInfo.db,e=[];for(var t in r)r.hasOwnProperty(t)&&e.push(t);return e}));return e(t,r),t}}}()}}]);