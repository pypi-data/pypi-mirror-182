(()=>{"use strict";var e,t,n,r,i={83:(e,t,n)=>{var r;let i,a;function o(e,t){if(e.nodeType!==Node.ELEMENT_NODE)throw new Error("Can't generate CSS selector for non-element node type.");if("html"===e.tagName.toLowerCase())return"html";const n={root:document.body,idName:e=>!0,className:e=>!0,tagName:e=>!0,attr:(e,t)=>!1,seedMinLength:1,optimizedMinLength:2,threshold:1e3,maxNumberOfTries:1e4};i=Object.assign(Object.assign({},n),t),a=function(e,t){return e.nodeType===Node.DOCUMENT_NODE?e:e===t.root?e.ownerDocument:e}(i.root,n);let o=l(e,r.All,(()=>l(e,r.Two,(()=>l(e,r.One)))));if(o){const t=P(N(o,e));return t.length>0&&(o=t[0]),c(o)}throw new Error("Selector was not found.")}function l(e,t,n){let a=null,o=[],l=e,c=0;for(;l&&l!==i.root.parentElement;){let e=y(h(l))||y(...f(l))||y(...g(l))||y(m(l))||[{name:"*",penalty:3}];const s=v(l);if(t===r.All)s&&(e=e.concat(e.filter(b).map((e=>p(e,s)))));else if(t===r.Two)e=e.slice(0,1),s&&(e=e.concat(e.filter(b).map((e=>p(e,s)))));else if(t===r.One){const[t]=e=e.slice(0,1);s&&b(t)&&(e=[p(t,s)])}for(let t of e)t.level=c;if(o.push(e),o.length>=i.seedMinLength&&(a=u(o,n),a))break;l=l.parentElement,c++}return a||(a=u(o,n)),a}function u(e,t){const n=P(k(e));if(n.length>i.threshold)return t?t():null;for(let e of n)if(d(e))return e;return null}function c(e){let t=e[0],n=t.name;for(let r=1;r<e.length;r++){const i=e[r].level||0;n=t.level===i-1?`${e[r].name} > ${n}`:`${e[r].name} ${n}`,t=e[r]}return n}function s(e){return e.map((e=>e.penalty)).reduce(((e,t)=>e+t),0)}function d(e){switch(a.querySelectorAll(c(e)).length){case 0:throw new Error(`Can't select any node with this selector: ${c(e)}`);case 1:return!0;default:return!1}}function h(e){const t=e.getAttribute("id");return t&&i.idName(t)?{name:"#"+_(t,{isIdentifier:!0}),penalty:0}:null}function f(e){const t=Array.from(e.attributes).filter((e=>i.attr(e.name,e.value)));return t.map((e=>({name:"["+_(e.name,{isIdentifier:!0})+'="'+_(e.value)+'"]',penalty:.5})))}function g(e){return Array.from(e.classList).filter(i.className).map((e=>({name:"."+_(e,{isIdentifier:!0}),penalty:1})))}function m(e){const t=e.tagName.toLowerCase();return i.tagName(t)?{name:t,penalty:2}:null}function v(e){const t=e.parentNode;if(!t)return null;let n=t.firstChild;if(!n)return null;let r=0;for(;n&&(n.nodeType===Node.ELEMENT_NODE&&r++,n!==e);)n=n.nextSibling;return r}function p(e,t){return{name:e.name+`:nth-child(${t})`,penalty:e.penalty+1}}function b(e){return"html"!==e.name&&!e.name.startsWith("#")}function y(...e){const t=e.filter(E);return t.length>0?t:null}function E(e){return null!=e}function*k(e,t=[]){if(e.length>0)for(let n of e[0])yield*k(e.slice(1,e.length),t.concat(n));else yield t}function P(e){return Array.from(e).sort(((e,t)=>s(e)-s(t)))}function*N(e,t,n={counter:0,visited:new Map}){if(e.length>2&&e.length>i.optimizedMinLength)for(let r=1;r<e.length-1;r++){if(n.counter>i.maxNumberOfTries)return;n.counter+=1;const a=[...e];a.splice(r,1);const o=c(a);if(n.visited.has(o))return;d(a)&&x(a,t)&&(yield a,n.visited.set(o,!0),yield*N(a,t,n))}}function x(e,t){return a.querySelector(c(e))===t}n.d(t,{I:()=>S}),function(e){e[e.All=0]="All",e[e.Two=1]="Two",e[e.One=2]="One"}(r||(r={}));const w=/[ -,\.\/:-@\[-\^`\{-~]/,L=/[ -,\.\/:-@\[\]\^`\{-~]/,A=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,C={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1};function _(e,t={}){const n=Object.assign(Object.assign({},C),t);"single"!=n.quotes&&"double"!=n.quotes&&(n.quotes="single");const r="double"==n.quotes?'"':"'",i=n.isIdentifier,a=e.charAt(0);let o="",l=0;const u=e.length;for(;l<u;){const t=e.charAt(l++);let a,c=t.charCodeAt(0);if(c<32||c>126){if(c>=55296&&c<=56319&&l<u){const t=e.charCodeAt(l++);56320==(64512&t)?c=((1023&c)<<10)+(1023&t)+65536:l--}a="\\"+c.toString(16).toUpperCase()+" "}else a=n.escapeEverything?w.test(t)?"\\"+t:"\\"+c.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(t)?"\\"+c.toString(16).toUpperCase()+" ":"\\"==t||!i&&('"'==t&&r==t||"'"==t&&r==t)||i&&L.test(t)?"\\"+t:t;o+=a}return i&&(/^-[-\d]/.test(o)?o="\\-"+o.slice(1):/\d/.test(a)&&(o="\\3"+a+" "+o.slice(1))),o=o.replace(A,(function(e,t,n){return t&&t.length%2?e:(t||"")+n})),!i&&n.wrap?r+o+r:o}var X=function(e){return e.nodeType==window.Node.ELEMENT_NODE},O=function(e){return"A"==e.nodeName},T=function(e){return"LABEL"==e.nodeName},S=function(e){var t=this;this.build=function(e){var n=[["css:attributes",t.buildCssDataAttr],["id",t.buildId],["link",t.buildLinkText],["name",t.buildName],["css",t.buildCssFinder],["xpath:link-text",t.buildXPathLink],["xpath:image",t.buildXPathImg],["xpath:attributes",t.buildXPathAttr],["xpath:relative-id",t.buildXPathIdRelative],["xpath:href",t.buildXPathHref],["xpath:position",t.buildXPathPosition],["xpath:inner-text",t.buildXPathInnerText],["xpath:input-label",t.buildXPathInputLabel]],r=[];return n.forEach((function(t){var n=t[0],i=t[1];try{var a=i(e);a&&r.push([n,a])}catch(e){console.error("Failed to build '".concat(n,"': ").concat(e))}})),r},this.getSelectorAsObject=function(e){return{strategy:e[0].split(":",1)[0],value:e[1]}},this.getElementByXPath=function(e){return document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue},this.getXPathFromParent=function(e){var n="/"+e.nodeName.toLowerCase(),r=t.getNodeNumber(e);return r>0&&(n+="["+(r+1)+"]"),n},this.getNodeNumber=function(e){for(var t,n=(null===(t=e.parentNode)||void 0===t?void 0:t.childNodes)||[],r=0,i=0;i<n.length;i++){var a=n[i];if(a.nodeName==e.nodeName){if(a==e)return r;r++}}return 0},this.getUniqueXPath=function(e,n){if(n!=t.getElementByXPath(e))for(var r=0,i=n.ownerDocument.evaluate(e,n.ownerDocument,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null).snapshotLength;r<i;r++){var a="("+e+")["+(r+1)+"]";if(n==t.getElementByXPath(a))return a}return e},this.getXPathValue=function(e){if(e.indexOf("'")<0)return"'"+e+"'";if(e.indexOf('"')<0)return'"'+e+'"';for(var t="concat(",n="",r=!1;!r;){var i=e.indexOf("'"),a=e.indexOf('"');if(i<0){t+="'"+e+"'",r=!0;break}if(a<0){t+='"'+e+'"',r=!0;break}a<i?(t+="'"+(n=e.substring(0,i))+"'",e=e.substring(n.length)):(t+='"'+(n=e.substring(0,a))+'"',e=e.substring(n.length)),t+=","}return t+")"},this.buildCssDataAttr=function(e){for(var t=["data-test","data-test-id"],n=0;n<t.length;n++){var r=t[n],i=e.getAttribute(r);if(i)return"css=*["+r+'="'+i+'"]'}return null},this.buildId=function(e){return e.hasAttribute("id")?e.id:null},this.buildLinkText=function(e){if(!O(e))return null;var t=e.textContent||"";return t.match(/^\s*$/)?null:t.replace(/\xA0/g," ").replace(/^\s*(.*?)\s*$/,"$1")},this.buildName=function(e){return e.hasAttribute("name")?e.getAttribute("name"):null},this.buildCssFinder=function(e){return o(e)},this.buildXPathLink=function(e){if(!O(e))return null;var n=e.textContent||"";if(n.match(/^\s*$/))return null;var r="//a[contains(text(),'"+n.replace(/^\s+/,"").replace(/\s+$/,"")+"')]";return t.getUniqueXPath(r,e)},this.buildXPathImg=function(e){if("IMG"!=e.nodeName)return null;var n="";if(e.alt)n="//img[@alt="+t.getXPathValue(e.alt)+"]";else if(e.title)n="//img[@title="+t.getXPathValue(e.title)+"]";else{if(!e.src)return null;n="//img[contains(@src,"+t.getXPathValue(e.src)+")]"}return t.getUniqueXPath(n,e)},this.buildXPathAttr=function(e){var n=["id","name","value","type","action","onclick"],r=function(n,r,i){for(var a="//"+n+"[",o=0;o<r.length;o++){o>0&&(a+=" and ");var l=r[o];a+="@"+l+"="+t.getXPathValue(i[l])}return a+="]",t.getUniqueXPath(a,e)};if(!e.attributes)return null;for(var i={},a=e.attributes,o=0;o<a.length;o++){var l=a[o];i[l.name]=l.value}var u=[];for(o=0;o<n.length;o++){var c=n[o];if(i[c]){u.push(c);var s=r(e.nodeName.toLowerCase(),u,i);if(e==t.getElementByXPath(s))return s}}return null},this.buildXPathIdRelative=function(e){for(var n="",r=e;r;){var i=r.parentNode;if(!i)return null;if(n=t.getXPathFromParent(r)+n,X(i)&&i.getAttribute("id")){var a="//"+i.nodeName.toLowerCase()+"[@id="+t.getXPathValue(i.getAttribute("id")||"")+"]"+n;return t.getUniqueXPath(a,e)}r=i}return null},this.buildXPathHref=function(e){if(!e.hasAttribute("href"))return null;var n,r=e.getAttribute("href")||"";return r?(n=r.search(/^http?:\/\//)>=0?"//a[@href="+t.getXPathValue(r)+"]":"//a[contains(@href, "+t.getXPathValue(r)+")]",t.getUniqueXPath(n,e)):null},this.buildXPathPosition=function(e){for(var n="",r=e;r;){var i=r.parentNode,a="/"+(n=i?t.getXPathFromParent(r)+n:"/"+r.nodeName.toLowerCase()+n);if(e==t.getElementByXPath(a))return a;r=i}return null},this.buildXPathInnerText=function(e){return e instanceof HTMLElement&&e.innerText?"//"+e.nodeName.toLowerCase()+"[contains(.,"+t.getXPathValue(e.innerText)+")]":null},this.buildXPathInputLabel=function(e){if("INPUT"!=e.nodeName)return null;for(var n,r=document.getElementsByTagName("LABEL"),i={},a=0;a<r.length;a++){var o=r[a];T(o)&&o.htmlFor&&document.getElementById(o.htmlFor)&&(i[o.htmlFor]=o)}if(e.id&&Object.prototype.hasOwnProperty.call(e,"id"))n=i[e.id];else{var l=e.parentNode;if(!l)return null;var u=[],c=l.childNodes;for(a=0;a<c.length;a++){var s=c[a];T(s)&&u.push(s)}if(1!==u.length)return null;n=u[0]}var d="//label[contains(.,"+t.getXPathValue(n.innerText)+")]/../input";return t.getUniqueXPath(d,e)},this.window=e}}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return i[e](n,n.exports,o),n.exports}o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e=o(83),t=function(e){var t=this;this.setOnPick=function(e){t.onPick=e},this.setBuilder=function(e){t.builder=e},this._showPick=function(e,n){console.debug("Pick's trigger event: ",e),console.debug("Pick's event's composedPath: ",e.composedPath());var r=e.target;r!==n&&(t._removeHighlights(),r instanceof Element&&(t._addHighlight(r),n=r))},this._addHighlight=function(e){console.debug("Add highlight: ",e),e.setAttribute("data-inspector-highlight","")},this._removeHighlights=function(){console.debug("Removing highlight...");for(var e=document.querySelectorAll("[data-inspector-highlight]"),t=0;t<e.length;t++)e[t].removeAttribute("data-inspector-highlight")},this._pickElement=function(e){var n;console.debug("Picking Element:",e),e.preventDefault(),e.stopPropagation();var r=e.target;if(r instanceof HTMLElement||r instanceof SVGElement)try{var i=null===(n=t.builder)||void 0===n?void 0:n.build(r);"function"==typeof t.onPick&&t.onPick(i)}catch(e){console.error(e)}finally{t._removeAll()}},this._cancelPick=function(e){console.debug("Canceling Pick:",e);var n=e||window.event;"Escape"!==n.key&&27!==n.keyCode||(t._removeAll(),"function"==typeof t.onPick&&t.onPick())},this._removeAll=function(){console.debug("Removing all...");var e=document.getElementById("inspector-frame");e&&document.body.removeChild(e),document.removeEventListener("mousemove",t._showPick,!0),document.removeEventListener("click",t._pickElement,!0),document.removeEventListener("keydown",t._cancelPick,!0),t._removeHighlights()},this.builder=e},n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)},r=["name","title","id","for","href","class"],function(){function i(e){return e.nodeType===Node.ELEMENT_NODE}var a={_getIndex:function(e){var t=!1,n=0,r=0;if(!e.parentNode)return 0;for(var a=e.parentNode.childNodes,o=0;o<a.length;o++){a[o]===e&&(t=!0);var l=a[o];i(l)&&l.tagName===e.tagName&&(n+=1,r=t?r:r+1)}return n>1?r+1:0},_buildAttributes:function(e,t){return t.map((function(t){var n,r;return(r="className"===t?e.className.length>0?e.className.split(" "):null:"index"===t?1:e.getAttribute(t))?((n={})["".concat(t)]=r,n):null})).filter((function(e){return e}))},build:function(e,t,n){var r;if(!e)return n;if(!e.parentNode)return n;if(e.nodeType===Node.DOCUMENT_NODE)return n;var i=this._buildAttributes(e,t);return n.push(((r={})["".concat(e.tagName.toLowerCase())]=i,r)),this.build(e.parentNode,t,n)}},o={build:function(e,t,n){var r=this,i=e[0],a=Object.keys(i)[0],o=i[a].reduce((function(e,t){return""===e?r._getSubpath(e,t,a):e}),""),l="/".concat(o);if(!t)return l;if(this._found(["@id","@for"],l))return l;if(this._found(["@name"],l)&&this._found(["select"],n))return l;var u=this._getIndex(l,t),c=u.count,s=u.index;return c>1&&s>1?"xpath=(".concat(l,")[").concat(s,"]"):l},_found:function(e,t){return e.some((function(e){return t.includes(e)}))},_getIndex:function(e,t){for(var n,r=1,i=1,a=document.evaluate(".".concat(e),document.body,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null);n=a.iterateNext();)n===t&&(r=i),i+=1;return{count:i,index:r}},_getSubpath:function(e,t,n){return null!=t.for?"/".concat(n,'[@for="').concat(t.for,'"]'):null!=t.class&&"number"!=typeof t.class&&t.class.length>0?"/".concat(n,'[@class="').concat(t.class,'"]'):null!=t.title?"/".concat(n,'[@title="').concat(t.title,'"]'):null!=t.href?"/".concat(n,'[@href="').concat(t.href,'"]'):null!=t.name?"/".concat(n,'[@name="').concat(t.name,'"]'):null!=t.id?"/".concat(n,'[@id="').concat(t.id,'"]'):null!=t.index?"/".concat(n):""}},l=function(e,t,r,i){if(void 0!==t){var l=function(e){var t=e.tagName.toLowerCase();if("input"===t)switch((n=e).type){case"password":return{type:"text",value:"***"};case"radio":return{type:"radio",value:n.value};case"checkbox":return{type:"checkbox",value:n.checked};case"file":return{type:"file",value:n.value};case"email":case"tel":case"url":case"number":case"search":case"text":case"date":case"datetime-local":case"week":case"month":case"color":return c.debug("Classified text node with value: ".concat(n.value)),{type:"text",value:n.value};case"submit":case"image":case"range":case"reset":return{type:n.type,value:void 0}}else{var n;if("textarea"===t)return{type:"text",value:(n=e).value};if("select"===t)return{type:"select",value:(n=e).value};if("a"===t)return{type:"a",value:(n=e).href};if(e.onclick)return}}(t),u=a.build(t,i,[]);if(void 0!==l)return n(n({},l),{selectors:r,time:e,path:o.build(u,t,l.type||"default")});c.debug("Could not classify node ".concat(t))}};function u(){return(new Date).getTime()}var c={debug:console.debug,error:console.error},s=function(){function i(){var i=this;this.recordEvent=function(e){i.callback=e,i.list=[];var t=document.getElementById("inspector-frame")||document.createElement("div");t.id="inspector-frame",t.className="recorder",document.body.appendChild(t),i._addListeners()},this._addListeners=function(){document.addEventListener("mousemove",i.picker._showPick,!0),document.addEventListener("change",i.recordChange,!0),document.addEventListener("click",i.recordClick,!0),document.addEventListener("keydown",i.handleKeyboardEvent)},this._removeListeners=function(){document.removeEventListener("mousemove",i.picker._showPick,!0),document.removeEventListener("change",i.recordChange,!0),document.removeEventListener("click",i.recordClick,!0),document.removeEventListener("keydown",i.handleKeyboardEvent,!0)},this.recordChange=function(e){c.debug("Recording change event: ",e);var t=e.target;if(t instanceof HTMLElement||t instanceof SVGElement)try{var a=i.builder.build(t).map((function(e){return i.builder.getSelectorAsObject(e)}));if(c.debug("Selectors (mapped) from builder:",a),0===a.length)return void c.debug("Skipping saving empty text Click event");var o=l(u(),e.target,[],r);if(!o)return void c.debug("Skipping committing recordChange due to unclassified node");if("text"===o.type&&""===o.value)return void c.debug("Skipping saving empty text Change event");var s=n(n({},o),{trigger:"change"});c.debug("Appending change action ".concat(s)),i.appendAction(s),c.debug("Passing change event through callback"),i.callback&&i.callback({actionType:"event",list:i.list,url:document.URL}),c.debug("Successfully invoked callback"),i._removeListeners()}catch(e){return void c.debug("Skipping committing recordChange due to unclassified node",e)}},this.recordClick=function(e){c.debug("Recording click event: ",e);var t=e.target;if(t instanceof HTMLElement||t instanceof SVGElement)try{var a=i.builder.build(t).map((function(e){return i.builder.getSelectorAsObject(e)}));if(c.debug("Selectors (mapped) from builder:",a),0===a.length)return void c.debug("Skipping saving empty text Click event");var o=l(u(),e.target,a,r);if(!o)return void c.debug("Skipping committing recordChange due to unclassified node");if("text"===o.type&&""===o.value)return void c.debug("Skipping saving empty text Click event");if(o.type in["text","file","select"])c.debug("Skipping committing recordClick");else{var s=n(n({},o),{trigger:"click"});c.debug("Appending click action:",s),i.appendAction(s),c.debug("Passing click event through callback"),i.callback&&i.callback({actionType:"event",list:i.list,url:document.URL}),c.debug("Successfully invoked callback"),i._removeListeners()}}catch(e){return void c.debug("Skipping committing recordChange due to unclassified node",e)}},this.handleKeyboardEvent=function(e){var t=e||window.event;"Escape"!==t.key&&27!==t.keyCode||i.stop()},this.stop=function(){i.callback&&i.callback({actionType:"stop",list:i.list,url:document.URL}),i._removeListeners();var e=document.getElementById("inspector-frame");e&&document.body.removeChild(e)},this.list=[],this.builder=new e.I(window),this.picker=new t(this.builder);var a=document.getElementById("inspector-style")||document.createElement("style");a.id="inspector-style",a.type="text/css",document.head.appendChild(a)}return i.prototype.appendAction=function(e){var t=e;if(0!==this.list.length){var n=this.list[this.list.length-1];if(Math.abs(t.time-n.time)>20)return c.debug("Saving due to enough time between events"),void this.list.push(t);"click"!==t.trigger&&("change"!==t.trigger||"click"!==n.trigger?this.list.push(t):this.list[this.list.length-1]=t)}else this.list.push(t)},i}();window.Recorder=new s}()})();