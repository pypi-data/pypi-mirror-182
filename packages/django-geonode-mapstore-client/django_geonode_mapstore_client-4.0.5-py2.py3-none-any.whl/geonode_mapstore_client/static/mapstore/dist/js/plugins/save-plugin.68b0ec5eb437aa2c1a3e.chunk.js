(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[14831],{532425:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(675263),o=r.n(n),i=r(124852),s=r.n(i);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(e){return e>100?"full":e>40?"medium":"small"},f=function(e){var t=e.size,r=e.style,n=void 0===r?{}:r,o=e.className,i=e.hidden;return s().createElement("div",{className:o,style:c({width:t,height:t,overflow:"hidden"},n)},!i&&s().createElement("div",{className:"mapstore-".concat(p(t),"-size-loader")}))};f.propTypes={size:o().number,className:o().string,style:o().object};const m=f},228261:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(124852),o=r.n(n),i=r(675263),s=r.n(i),a=["id","className","style","children"];function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}function c(e){var t=e.id,r=e.className,n=e.style,i=e.children,s=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,a),c=r?" "+r:"";return o().createElement(o().Fragment,null,o().createElement("div",l({},s,{id:t,className:"gn-spinner".concat(c),style:n}),o().createElement("div",null)),i)}c.propTypes={id:s().string,className:s().string,style:s().object},c.defaultProps={};const u=c},51605:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n.Z});var n=r(228261)},93136:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>k});var n=r(124852),o=r.n(n),i=r(675263),s=r.n(i),a=r(171703),l=r(22222),c=r(322843),u=r(805346),p=r(757588),f=r(800827),m=r(532425),y=r(693473),g=r(51605),h=r(274621),d=r(925108),v=r(572036),b=r(162170),O=r(18576),j=r(73443),w=r(903828),E=r(452992),_=r(805803),P=r(782904),S=r(86638);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==G(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==G(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===G(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Z=(0,a.connect)((0,l.P1)([function(e){var t;return null==e||null===(t=e.gnsave)||void 0===t?void 0:t.saving}],(function(e){return{saving:e}})))((function(e){return e.saving?o().createElement("div",{style:{position:"absolute",width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.75)",top:"0px",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",right:"0px"}},o().createElement(m.Z,{size:150})):null}));function N(e,t){var r=e.enabled,i=e.onClick,s=e.variant,a=e.size,l=e.loading,c=e.className,p=e.dirtyState,f=e.location,m=e.history,h=e.onStorePendingChanges,d=t.messages,v=(0,n.useRef)();return v.current=p,(0,n.useEffect)((function(){var e,t=null==m||null===(e=m.location)||void 0===e?void 0:e.pathname;function r(e){v.current&&((e||window.event).returnValue=null)}return window.addEventListener("beforeunload",r),function(){var e;window.removeEventListener("beforeunload",r),t!==(null==m||null===(e=m.location)||void 0===e?void 0:e.pathname)&&v.current&&(window.confirm((0,S.S$)(d,"gnviewer.prompPendingChanges"))?h(null):(h(v.current),m.replace(f)))}}),[]),r?o().createElement(y.Z,{variant:p?"warning":s||"primary",size:a,onClick:function(){return i()},disabled:l,className:c},o().createElement(u.Z,{msgId:"save"})," ",l&&o().createElement(g.Z,null)):null}N.contextTypes={messages:s().object};var T=(0,a.connect)((0,l.P1)(h.jl,w.V$,w.il,f._H,E.IX,w.YR,(function(e,t,r,n,o,i){return{enabled:e&&!t&&(r||(null==n?void 0:n.canEdit)),loading:o,dirtyState:i}})),{onClick:j.nY,onStorePendingChanges:P.Xg.bind(null,"pendingChanges","value")})((0,_.EN)(N));const k=(0,c.rx)("Save",{component:Z,containers:{BurgerMenu:{name:"save",position:30,text:o().createElement(u.Z,{msgId:"save"}),icon:o().createElement(p.Glyphicon,{glyph:"floppy-open"}),action:j.nY,selector:(0,l.P1)(h.jl,w.V$,w.il,f._H,(function(e,t,r,n){return{style:e&&!t&&(r||null!=n&&n.canEdit)?{}:{display:"none"}}}))},ActionNavbar:{name:"Save",Component:T}},epics:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},O.ZP),reducers:{gnresource:v.Z,gnsave:b.Z,controls:d.Z}})},798090:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(613002),o=r(173381),i=r(421915),s=r(208204),a=r(28795),l=r(913580);function c(e){for(var t=[],r=0,n=e.length;r<n;++r)t.push(e[r].clone());return t}const u=function(e){function t(t){e.call(this),this.geometries_=t||null,this.listenGeometriesChange_()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.unlistenGeometriesChange_=function(){if(this.geometries_)for(var e=0,t=this.geometries_.length;e<t;++e)(0,n.Ev)(this.geometries_[e],o.Z.CHANGE,this.changed,this)},t.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var e=0,t=this.geometries_.length;e<t;++e)(0,n.oL)(this.geometries_[e],o.Z.CHANGE,this.changed,this)},t.prototype.clone=function(){var e=new t(null);return e.setGeometries(this.geometries_),e},t.prototype.closestPointXY=function(e,t,r,n){if(n<(0,i.qf)(this.getExtent(),e,t))return n;for(var o=this.geometries_,s=0,a=o.length;s<a;++s)n=o[s].closestPointXY(e,t,r,n);return n},t.prototype.containsXY=function(e,t){for(var r=this.geometries_,n=0,o=r.length;n<o;++n)if(r[n].containsXY(e,t))return!0;return!1},t.prototype.computeExtent=function(e){(0,i.YN)(e);for(var t=this.geometries_,r=0,n=t.length;r<n;++r)(0,i.l7)(e,t[r].getExtent());return e},t.prototype.getGeometries=function(){return c(this.geometries_)},t.prototype.getGeometriesArray=function(){return this.geometries_},t.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!=this.getRevision()&&((0,l.ZH)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var r=e.toString();if(this.simplifiedGeometryCache.hasOwnProperty(r))return this.simplifiedGeometryCache[r];for(var n=[],o=this.geometries_,i=!1,s=0,a=o.length;s<a;++s){var c=o[s],u=c.getSimplifiedGeometry(e);n.push(u),u!==c&&(i=!0)}if(i){var p=new t(null);return p.setGeometriesArray(n),this.simplifiedGeometryCache[r]=p,p}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this},t.prototype.getType=function(){return a.Z.GEOMETRY_COLLECTION},t.prototype.intersectsExtent=function(e){for(var t=this.geometries_,r=0,n=t.length;r<n;++r)if(t[r].intersectsExtent(e))return!0;return!1},t.prototype.isEmpty=function(){return 0===this.geometries_.length},t.prototype.rotate=function(e,t){for(var r=this.geometries_,n=0,o=r.length;n<o;++n)r[n].rotate(e,t);this.changed()},t.prototype.scale=function(e,t,r){var n=r;n||(n=(0,i.qg)(this.getExtent()));for(var o=this.geometries_,s=0,a=o.length;s<a;++s)o[s].scale(e,t,n);this.changed()},t.prototype.setGeometries=function(e){this.setGeometriesArray(c(e))},t.prototype.setGeometriesArray=function(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()},t.prototype.applyTransform=function(e){for(var t=this.geometries_,r=0,n=t.length;r<n;++r)t[r].applyTransform(e);this.changed()},t.prototype.translate=function(e,t){for(var r=this.geometries_,n=0,o=r.length;n<o;++n)r[n].translate(e,t);this.changed()},t.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),e.prototype.disposeInternal.call(this)},t}(s.Z)}}]);