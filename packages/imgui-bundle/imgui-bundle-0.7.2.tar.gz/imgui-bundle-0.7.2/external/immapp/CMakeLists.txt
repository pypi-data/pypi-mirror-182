file(GLOB sources_root *.cpp *.h)
file(GLOB sources_visual_prog visual_prog/*.cpp visual_prog/*.h)
file(GLOB sources_computer_vision visual_prog/computer_vision/*.cpp visual_prog/computer_vision/*.h)
set(sources ${sources_root} ${sources_visual_prog})
if (IMGUI_BUNDLE_WITH_IMMVISION)
    set(sources ${sources} ${sources_computer_vision})
endif()

add_library(immapp STATIC ${sources})

target_include_directories(immapp PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/..)
target_link_libraries(immapp PUBLIC hello_imgui)
if (IMGUI_BUNDLE_WITH_IMMVISION)
    target_link_libraries(immapp PUBLIC immvision)
endif()
target_link_libraries(imgui_bundle PUBLIC immapp)
hello_imgui_msvc_target_group_sources(immapp)
