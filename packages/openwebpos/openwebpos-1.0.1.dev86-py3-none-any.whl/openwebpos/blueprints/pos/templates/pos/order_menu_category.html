{% extends 'layouts/grid.html' %}

{% from 'macros/user_interface.html' import clickableCard %}

{% block content %}

    <div class="row">
        {% for menu_item in menu_items|sort(attribute='name') %}
            <div class="col s12 m3">
                {{ clickableCard('#quantityModal'+menu_item.name, menu_item.name, True) }}
            </div>
            <div id="quantityModal{{ menu_item.name }}"
                 class="modal modal-keypad">
                <div class="modal-content white-text p0 centered-container">
                    <form class="keypad grey darken-4"
                          action="{{ url_for('pos.order_add_item', order_id=order.id, menu_item_id=menu_item.id) }}"
                          method="post" autocomplete="off">
                        {{ form.hidden_tag() }}
                        <div class="keypad-row">
                            {{ form.quantity(id=menu_item.name + 'Quantity') }}
                        </div>
                        <div class="keypad-row">
                            <input type="button" value="7"
                                   onclick="addNumber(this, '{{ menu_item.name + "Quantity" }}')">
                            <input type="button" value="8"
                                   onclick="addNumber(this, '{{ menu_item.name + "Quantity" }}')">
                            <input type="button" value="9"
                                   onclick="addNumber(this,'{{ menu_item.name + "Quantity" }}')">
                        </div>
                        <div class="keypad-row">
                            <input type="button" value="4"
                                   onclick="addNumber(this,'{{ menu_item.name + "Quantity" }}')">
                            <input type="button" value="5"
                                   onclick="addNumber(this,'{{ menu_item.name + "Quantity" }}')">
                            <input type="button" value="6"
                                   onclick="addNumber(this,'{{ menu_item.name + "Quantity" }}')">
                        </div>
                        <div class="keypad-row">
                            <input type="button" value="1"
                                   onclick="addNumber(this,'{{ menu_item.name + "Quantity" }}')">
                            <input type="button" value="2"
                                   onclick="addNumber(this,'{{ menu_item.name + "Quantity" }}')">
                            <input type="button" value="3"
                                   onclick="addNumber(this,'{{ menu_item.name + "Quantity" }}')">
                        </div>
                        <div class="keypad-row">
                            <button type="reset" class="red"><i class="material-icons">delete</i></button>
                            <input type="button" value="0"
                                   onclick="addNumber(this, '{{ menu_item.name + "Quantity" }}')">
                            <button type="submit" class="green"><i class="material-icons">keyboard_return</i></button>
                        </div>
                    </form>
                </div>
            </div>
        {% endfor %}


    </div>

{% endblock %}