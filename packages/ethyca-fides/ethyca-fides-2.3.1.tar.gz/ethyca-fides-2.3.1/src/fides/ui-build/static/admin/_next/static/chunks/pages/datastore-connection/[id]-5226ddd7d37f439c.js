(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6446],{26597:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return E}});var i=t(27812),r=t(50029),s=t(87794),u=t.n(s),o=t(1396),c=t(38351),a=t(66752),l=t(11163),d=t(67294),f=t(97142),p=t(18459),x=t(70783),h=t(20095),v=t(24226),j=t(9613),_=t(78860),y=t(93860),S=t(4043),m=t(95693),w=t(98643),C=t(85130),g=t(85893),A=function(){var n=(0,f.T)(),e=(0,f.C)(h.ZZ),t=e.connection,i=e.connectionOption,r=(0,d.useState)(void 0),s=r[0],u=r[1],c=(0,d.useState)(""),a=c[0],l=c[1];return(0,d.useEffect)((function(){if(i){var e=S.IM.find((function(n){return n.type===(null===i||void 0===i?void 0:i.type)}));e&&(u(e),l(e.options[0]),n((0,h.nj)(S.Ss[2])))}return function(){n((0,h.mc)())}}),[i,n]),t&&i?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(o.X6,{fontSize:"2xl",fontWeight:"semibold",maxHeight:"40px",mb:"4px",whiteSpace:"nowrap",children:(0,g.jsxs)(o.xu,{alignItems:"center",display:"flex",children:[(0,g.jsx)(C.Z,{data:t}),(0,g.jsx)(o.xv,{ml:"8px",children:t.name})]})}),(0,g.jsx)(j.Z,{steps:[S.Ss[0],S.Ss[2]]}),(0,g.jsxs)(o.kC,{flex:"1",gap:"18px",children:[(0,g.jsx)(_.Z,{menuOptions:(null===s||void 0===s?void 0:s.options)||[],onChange:function(n){l(n)},selectedItem:a||""}),function(){switch(a||""){case S.H5.CONNECTOR_PARAMETERS:return(0,g.jsx)(y.s,{});case S.H5.DATASET_CONFIGURATION:return(0,g.jsx)(m.Z,{});case S.H5.DSR_CUSTOMIZATION:return(0,g.jsx)(w.Z,{});default:return null}}()]})]}):null},T=t(23720),E=function(){var n=(0,f.T)(),e=(0,l.useRouter)(),t=(0,x.VY)().errorAlert,s=(0,f.C)(h.y_),j=(0,d.useState)(!1),_=j[0],y=j[1],S=(0,d.useState)(!0),m=S[0],w=S[1],C=function(n,e){return e.find((function(e){var t;return e.identifier===n.connection_type&&e.identifier!==T.Rj.SAAS||e.identifier===(null===(t=n.saas_config)||void 0===t?void 0:t.type)}))};return(0,d.useEffect)((function(){var o=function(){t("An error occurred while loading ".concat(e.query.id)),e.push(p.JR,void 0,{shallow:!0})},c=function(){var e=(0,r.Z)(u().mark((function e(t){var r,c,a,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),(r=[]).push(n(v.DM.endpoints.getDatastoreConnectionByKey.initiate(t))),0===s.length&&r.push(n(h.d8.endpoints.getAllConnectionTypes.initiate({search:""}))),e.next=7,Promise.allSettled(r);case 7:(c=e.sent).every((function(n){return"fulfilled"===n.status}))?(n((0,h.lm)(c[0].value.data)),a=(0,i.Z)(c[1]?c[1].value.data.items:s),l=C(c[0].value.data,a),n((0,h.yA)(l)),y(!1),w(!1)):o(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),o();case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}(),a=e.query.id;return a&&!_&&m&&c(a),function(){}}),[s,n,t,_,m,e]),(0,g.jsxs)(g.Fragment,{children:[m&&(0,g.jsx)(o.xu,{display:"flex",h:"100vh",justifyContent:"center",children:(0,g.jsx)(o.M5,{children:(0,g.jsx)(c.$,{})})}),!m&&(0,g.jsx)(a.Z,{children:(0,g.jsx)(A,{})})]})}},92304:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/datastore-connection/[id]",function(){return t(26597)}])}},function(n){n.O(0,[8816,4231,4660,4076,3893,4503,3275,9859,9774,2888,179],(function(){return e=92304,n(n.s=e);var e}));var e=n.O();_N_E=e}]);