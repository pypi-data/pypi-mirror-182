(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4623],{77336:function(e,t,n){"use strict";n.d(t,{At:function(){return h},aG:function(){return y},gN:function(){return m}});var r=n(52565),i=n(89816),o=n(40125),a=n(67294);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var l=["spacing"],u=["isCurrentPage","as","className","href"],d=["isCurrentPage","separator","isLastChild","spacing","children","className"],f=["children","spacing","separator","className"],p=(0,r.Gp)((function(e,t){var n=e.spacing,i=c(e,l),o=s({mx:n},(0,r.yK)().separator);return a.createElement(r.m$.span,s({ref:t,role:"presentation"},i,{__css:o}))}));i.Ts&&(p.displayName="BreadcrumbSeparator");var h=(0,r.Gp)((function(e,t){var n=e.isCurrentPage,o=e.as,l=e.className,d=e.href,f=c(e,u),p=(0,r.yK)(),h=s({ref:t,as:o,className:(0,i.cx)("chakra-breadcrumb__link",l)},f);return n?a.createElement(r.m$.span,s({"aria-current":"page",__css:p.link},h)):a.createElement(r.m$.a,s({__css:p.link,href:d},h))}));i.Ts&&(h.displayName="BreadcrumbLink");var m=(0,r.Gp)((function(e,t){var n=e.isCurrentPage,l=e.separator,u=e.isLastChild,f=e.spacing,m=e.children,y=e.className,b=c(e,d),j=(0,o.WR)(m).map((function(e){return e.type===h?a.cloneElement(e,{isCurrentPage:n}):e.type===p?a.cloneElement(e,{spacing:f,children:e.props.children||l}):e})),v=s({display:"inline-flex",alignItems:"center"},(0,r.yK)().item),g=(0,i.cx)("chakra-breadcrumb__list-item",y);return a.createElement(r.m$.li,s({ref:t,className:g},b,{__css:v}),j,!u&&a.createElement(p,{spacing:f},l))}));i.Ts&&(m.displayName="BreadcrumbItem");var y=(0,r.Gp)((function(e,t){var n=(0,r.jC)("Breadcrumb",e),l=(0,r.Lr)(e),u=l.children,d=l.spacing,p=void 0===d?"0.5rem":d,h=l.separator,m=void 0===h?"/":h,y=l.className,b=c(l,f),j=(0,o.WR)(u),v=j.length,g=j.map((function(e,t){return a.cloneElement(e,{separator:m,spacing:p,isLastChild:v===t+1})})),x=(0,i.cx)("chakra-breadcrumb",y);return a.createElement(r.m$.nav,s({ref:t,"aria-label":"breadcrumb",className:x,__css:n.container},b),a.createElement(r.Fo,{value:n},a.createElement(r.m$.ol,{className:"chakra-breadcrumb__list"},g)))}));i.Ts&&(y.displayName="Breadcrumb")},16488:function(e,t,n){"use strict";n.d(t,{s:function(){return u}});var r=n(75568),i=n(43894),o=n(1396),a=n(12156),s=n(67294),c=n(58477),l=n(85893),u=function(e){var t=e.allColumns,n=e.selectedColumns,u=e.onChange,d=(0,s.useMemo)((function(){var e=new Map;return t.forEach((function(t){return e.set(t.name,!!n.find((function(e){return e.name===t.name})))})),e}),[t,n]),f=function(){d.forEach((function(e,t){return d.set(t,!1)})),u([])},p=function(e){var n,r=null!==(n=d.get(e.name))&&void 0!==n&&n;d.set(e.name,!r),u(t.filter((function(e){return d.get(e.name)})))};return(0,l.jsx)(r.v2,{children:function(e){var s=e.onClose;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.j2,{as:i.zx,rightIcon:(0,l.jsx)(c.mC,{}),variant:"outline",fontWeight:"normal","data-testid":"column-dropdown",children:"Columns"}),(0,l.jsx)(r.qy,{children:(0,l.jsxs)(o.xu,{px:2,children:[(0,l.jsxs)(o.xu,{display:"flex",justifyContent:"space-between",mb:2,children:[(0,l.jsx)(i.zx,{variant:"outline",size:"xs",onClick:f,"data-testid":"column-clear-btn",children:"Clear"}),(0,l.jsx)(i.zx,{size:"xs",colorScheme:"primary",onClick:s,"data-testid":"column-done-btn",children:"Done"})]}),(0,l.jsx)(a.cO,{colorScheme:"complimentary",children:(0,l.jsx)(o.Kq,{children:t.map((function(e){var t=n.filter((function(t){return t.name===e.name})).length>0;return(0,l.jsx)(a.XZ,{id:e.name,_hover:{bg:"gray.100"},isChecked:t,onChange:function(){return p(e)},"data-testid":"checkbox-".concat(e.name),children:e.name},e.name)}))})})]})})]})}})}},80649:function(e,t,n){"use strict";n.d(t,{Gn:function(){return l},zR:function(){return c}});var r=n(23296),i=n(1396),o=n(43894),a=n(58477),s=n(85893),c=function(e){var t=e.title,n=e.onDelete;return(0,s.jsxs)(r.OX,{py:2,display:"flex",alignItems:"center",children:[(0,s.jsx)(i.xv,{mr:"2",children:t}),n?(0,s.jsx)(o.hU,{"aria-label":"delete",icon:(0,s.jsx)(a.lr,{}),size:"xs",onClick:n,"data-testid":"delete-btn"}):null]})},l=function(e){var t=e.onClose,n=e.formId,i=e.isSaving;return(0,s.jsxs)(r.ze,{justifyContent:"flex-start",children:[(0,s.jsx)(o.zx,{onClick:t,mr:2,size:"sm",variant:"outline",children:"Cancel"}),(0,s.jsx)(o.zx,{type:"submit",colorScheme:"primary",size:"sm","data-testid":"save-btn",form:n,isLoading:i,children:"Save"})]})};t.ZP=function(e){var t=e.header,n=e.description,c=e.isOpen,l=e.onClose,u=e.children,d=e.footer;return(0,s.jsxs)(r.dy,{placement:"right",isOpen:c,onClose:l,size:"lg",children:[(0,s.jsx)(r.P1,{}),(0,s.jsxs)(r.sc,{"data-testid":"edit-drawer-content",py:2,children:[(0,s.jsx)(i.xu,{display:"flex",justifyContent:"flex-end",mr:2,children:(0,s.jsx)(o.zx,{variant:"ghost",onClick:l,"data-testid":"close-drawer-btn",children:(0,s.jsx)(a.LG,{})})}),t,(0,s.jsxs)(r.Ng,{children:[n?(0,s.jsx)(i.xv,{fontSize:"sm",mb:4,children:n}):null,u]}),d]})]})}},99429:function(e,t,n){"use strict";n.d(t,{Y:function(){return a}});var r=n(18975),i=n(41086);r.registerLocale(i);var o=r.getNames("en",{select:"official"}),a=Object.keys(o).map((function(e){return{value:r.alpha2ToAlpha3(e),label:o[e]}}))},10846:function(e,t,n){"use strict";n.d(t,{V:function(){return f},t:function(){return d}});var r=n(59499),i=n(1396),o=n(85893);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e){var t=e.message;return(0,o.jsxs)(i.xv,{"data-testid":"toast-success-msg",children:[(0,o.jsx)("strong",{children:"Success:"})," ",t]})},l=function(e){var t=e.message;return(0,o.jsxs)(i.xv,{"data-testid":"toast-error-msg",children:[(0,o.jsx)("strong",{children:"Error:"})," ",t]})},u={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},d=function(e){var t=(0,o.jsx)(c,{message:e});return s(s({},u),{description:t})},f=function(e){var t=(0,o.jsx)(l,{message:e});return s(s({},u),{description:t,status:"error"})}},97589:function(e,t,n){"use strict";n.d(t,{I:function(){return r}});var r=function(e){var t=e.dataCategories,n=e.mostLikelyCategories;return null!==t&&void 0!==t&&t.length?t:null!==n&&void 0!==n&&n.length?[n.reduce((function(e,t){var n,r;return(null!==(n=t.confidence)&&void 0!==n?n:0)>(null!==(r=e.confidence)&&void 0!==r?r:0)?t:e})).fides_key]:[]}},77046:function(e,t,n){"use strict";var r=n(59499),i=n(4730),o=n(59252),a=n(85893),s=["name","onClose"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.name,n=e.onClose,r=(0,i.Z)(e,s),c=l({backgroundColor:"primary.400",color:"white","data-testid":"taxonomy-entity-".concat(t),width:"fit-content",size:"sm"},r);return n?(0,a.jsxs)(o.Vp,l(l({display:"flex",justifyContent:"space-between"},c),{},{children:[(0,a.jsx)(o.Sn,{children:t}),(0,a.jsx)(o.SD,{onClick:n,color:"white"})]})):(0,a.jsx)(o.Vp,l(l({},c),{},{children:t}))}},45009:function(e,t,n){"use strict";n.d(t,{C:function(){return r},P:function(){return i}});var r=function e(t,n){var r;if(null==n&&t.every((function(e){return void 0===e.parent_key})))r=t;else{var i=null!==n&&void 0!==n?n:null;r=t.filter((function(e){return e.parent_key===i}))}return r.map((function(n){var r,i=n.fides_key;return{value:n.fides_key,label:""===n.name||null==n.name?n.fides_key:n.name,description:n.description,children:e(t,i),is_default:null!==(r=n.is_default)&&void 0!==r&&r}}))},i=function(e){var t=e.split(".");return 1===t.length?"":t.slice(0,t.length-1).join(".")}},38866:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return jt}});var r=n(1396),i=n(77336),o=n(41664),a=n.n(o),s=n(11163),c=n(13275),l=n(38351),u=n(64598),d=n(52565),f=n(79485),p=n(89816),h=n(38554),m=n.n(h),y=n(67294);function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}function j(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var v=["children","placeholder","className"],g=["rootProps","placeholder","icon","color","height","h","minH","minHeight","iconColor","iconSize","isFullWidth"],x=["children"],O=(0,d.Gp)((function(e,t){var n=e.children,r=e.placeholder,i=e.className,o=j(e,v);return y.createElement(d.m$.select,b({},o,{ref:t,className:(0,p.cx)("chakra-select",i)}),r&&y.createElement("option",{value:""},r),n)}));p.Ts&&(O.displayName="SelectField");var C=(0,d.Gp)((function(e,t){var n=(0,d.jC)("Select",e),r=(0,d.Lr)(e),i=r.rootProps,o=r.placeholder,a=r.icon,s=r.color,c=r.height,l=r.h,h=r.minH,v=r.minHeight,x=r.iconColor,C=r.iconSize;r.isFullWidth;var k=j(r,g),w=(0,p.Vl)(k,f.oE),D=w[0],_=w[1],S=(0,u.Yp)(_),E={width:"100%",height:"fit-content",position:"relative",color:s},z=m()({paddingEnd:"2rem"},n.field,{_focus:{zIndex:"unset"}});return y.createElement(d.m$.div,b({className:"chakra-select__wrapper",__css:E},D,i),y.createElement(O,b({ref:t,height:null!=l?l:c,minH:null!=h?h:v,placeholder:o},S,{__css:z}),e.children),y.createElement(P,b({"data-disabled":(0,p.PB)(S.disabled)},(x||s)&&{color:x||s},{__css:n.icon},C&&{fontSize:C}),a))}));p.Ts&&(C.displayName="Select");var k=function(e){return y.createElement("svg",b({viewBox:"0 0 24 24"},e),y.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))},w=(0,d.m$)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),P=function(e){var t=e.children,n=void 0===t?y.createElement(k,null):t,r=j(e,x),i=y.cloneElement(n,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return y.createElement(w,b({},r,{className:"chakra-select__icon-wrapper"}),y.isValidElement(n)?i:null)};p.Ts&&(P.displayName="SelectIcon");var D=n(14416),_=n(16488),S=n(65028),E=n(41438),z=n(58183),Z=n(50029),N=n(16835),A=n(87794),I=n.n(A),T=n(9555),L=n(43894),F=n(65698),q=n(10846),M=n(23720),V=n(29112),W=n(59499),G=n(12902);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){(0,W.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=function(e,t,n){var r=e.collections.map((function(e,r){return r===n?t:e}));return $($({},e),{collections:r})},K=function(e,t,n,r){var i=function(e,t,n){var r=e.fields.map((function(e,r){return r===n?t:e}));return $($({},e),{fields:r})}(e.collections[n],t,r);return R(e,i,n)},J=function(e,t){return(0,G.ZP)(e,(function(e){var n=new Map(t.collections.map((function(e){return[e.name,e]})));e.collections.forEach((function(e){var t,r=n.get(e.name),i=new Map(null===r||void 0===r||null===(t=r.fields)||void 0===t?void 0:t.map((function(e){return[e.name,e]})));e.fields.forEach((function(e){if(!(e.data_categories&&e.data_categories.length>0)){var t=i.get(e.name);if(t&&t.classifications.length>0){var n=t.classifications.reduce((function(e,t){var n,r;return(null!==(n=e.aggregated_score)&&void 0!==n?n:0)<(null!==(r=t.aggregated_score)&&void 0!==r?r:0)?t:e}));e.data_categories=[n.label]}}}))}))}))},B=function(e,t){var n=e.collections.filter((function(e,n){return n!==t}));return $($({},e),{collections:n})},Q=n(85893),U=function(){var e=(0,D.useSelector)(V.n0),t=(0,D.useSelector)(E.Bt),n=(0,D.useSelector)(E.lG),i=(0,V.TG)(),o=(0,N.Z)(i,2),a=o[0],s=o[1].isLoading,c=(0,E.MD)(),l=(0,N.Z)(c,2),u=l[0],f=l[1].isLoading,p=s||f,h=(0,T.pm)(),m=(0,y.useMemo)((function(){var e,t;return null!==(e=null===n||void 0===n||null===(t=n.fields)||void 0===t?void 0:t.reduce((function(e,t){return t.classifications.length>0?e+1:e}),0))&&void 0!==e?e:0}),[n]),b=function(){var n=(0,Z.Z)(I().mark((function n(){var r,i,o;return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!p&&e&&t){n.next=2;break}return n.abrupt("return");case 2:return r=J(e,t),n.prev=3,n.next=6,a(r);case 6:if(i=n.sent,!(0,F.D4)(i)){n.next=10;break}return h((0,q.V)((0,F.e$)(i.error))),n.abrupt("return");case 10:return n.next=12,u({dataset_fides_key:e.fides_key,status:M.Wg.REVIEWED});case 12:if(o=n.sent,!(0,F.D4)(o)){n.next=16;break}return h((0,q.V)((0,F.e$)(o.error))),n.abrupt("return");case 16:h((0,q.t)("Dataset classified and approved")),n.next=22;break;case 19:n.prev=19,n.t0=n.catch(3),h((0,q.V)("".concat(n.t0)));case 22:case"end":return n.stop()}}),n,null,[[3,19]])})));return function(){return n.apply(this,arguments)}}();return t&&n&&t.status===M.Wg.COMPLETE?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(d.m$.p,{flexGrow:1,textAlign:"center",fontSize:"sm",color:"gray.600",children:[(0,Q.jsx)(d.m$.span,{fontWeight:"bold",children:m})," ",1===m?"field has":"fields have"," been identified within this"," ",(0,Q.jsx)(d.m$.span,{fontWeight:"bold",children:n.name})," ","table that are likely to contain personal data."]}),(0,Q.jsx)(L.zx,{size:"sm",variant:"primary",flexShrink:0,onClick:b,isLoading:p,isDisabled:p,"data-testid":"approve-classification-btn",children:"Approve dataset classification"})]}):(0,Q.jsx)(r.LZ,{})},X=n(35922),H=n(35839),ee=n(59252),te=[{key:"aggregated",label:"Aggregated",styles:{backgroundColor:"green.500",color:"white"}},{key:"anonymized",label:"Anonymized",styles:{backgroundColor:"yellow.400",color:"gray.700"}},{key:"aggregated.anonymized",label:"Unlinked Pseudonymized",styles:{backgroundColor:"orange.300",color:"gray.700"}},{key:"aggregated.anonymized.unlinked_pseudonymized",label:"Pseudonymized",styles:{backgroundColor:"orange.500",color:"white"}},{key:"aggregated.anonymized.unlinked_pseudonymized.pseudonymized.identified",label:"Identified",styles:{backgroundColor:"red.600",color:"white"}}],ne={tooltip:"A UI-friendly label for the Dataset."},re={tooltip:"A human-readable description of the Dataset."},ie={tooltip:"An optional string to describe the retention policy for a dataset. This field can also be applied more granularly at either the Collection or field level of a Dataset"},oe={tooltip:"Arrays of Data Qualifier resources, identified by fides_key, that apply to all collections in the Dataset."},ae={tooltip:"Arrays of Data Category resources, identified by fides_key, that apply to all collections in the Dataset."},se={tooltip:"An optional array to identify any third countries where data is transited to. For consistency purposes, these fields are required to follow the Alpha-3 code set in ISO 3166-1"},ce={tooltip:"A human-readable description of the collection."},le={tooltip:"Arrays of Data Qualifier resources, identified by fides_key, that apply to all fields in the collection."},ue={tooltip:"Arrays of Data Category resources, identified by fides_key, that apply to all fields in the collection."},de={tooltip:"A human-readable description of the field."},fe={tooltip:"A Data Qualifier that applies to this field. Note that this field holds a single value, therefore, the property name is singular."},pe={tooltip:"Arrays of Data Category resources, identified by fides_key, that apply to this field."};function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){(0,W.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye=function(e){var t=e.dataQualifierName,n=te.filter((function(e){return e.key===t}));if(0===n.length)return(0,Q.jsx)(ee.Vp,{children:t});var r=n[0],i=r.styles,o=r.label,a=r.key;return(0,Q.jsx)(ee.Vp,me(me({"data-testid":"identifiability-tag-".concat(a)},i),{},{children:o}))},be=n(77046),je=function(e){var t=e.attribute,n=e.field,i=e.classifyField;if("data_qualifier"===t){var o=n.data_qualifier;return(0,Q.jsx)(Q.Fragment,{children:o?(0,Q.jsx)(ye,{dataQualifierName:o}):null})}if("data_categories"===t){var a,s,c=(null!==(a=null===i||void 0===i?void 0:i.classifications)&&void 0!==a?a:[]).map((function(e){return e.label})),l=null!==(s=n.data_categories)&&void 0!==s?s:[],u=l.length>0?l:c;return(0,Q.jsx)(H.u,{placement:"right",label:u===c?"Fides has generated these data categories for you. You can override them by modifying the field.":"",children:(0,Q.jsx)(r.xu,{display:"inline-block",children:u.map((function(e){return(0,Q.jsx)(r.xu,{mr:2,mb:2,children:(0,Q.jsx)(be.Z,{name:e})},"".concat(n.name,"-").concat(e))}))})})}return(0,Q.jsx)(Q.Fragment,{children:n[t]})},ve=n(33578),ge=n(20650),xe=n(80649),Oe=n(82175),Ce=n(96016),ke=n(97589),we=n(13230),Pe=n(75568),De=n(27812),_e=n(12156),Se=n(58477),Ee=function(e){var t=e.split("."),n=[];return t.forEach((function(e){var t=n.length>0?n[n.length-1]:null;t?n.push("".concat(t,".").concat(e)):n.push(e)})),n},ze=function(e,t){return e===t||!!e.startsWith("".concat(t,"."))},Ze=function e(t,n,r){var i=null!==r&&void 0!==r?r:[];return t.forEach((function(t){t.children&&e(t.children,n,i),ze(t.value,n)&&i.push(t)})),i},Ne=function(e){var t=e.node,n=e.isChecked,i=e.onChecked,o=e.isExpanded,a=e.onExpanded,s=e.isIndeterminate,c=e.isDisabled,l=e.children,u=t.value,d=t.label,f=!!t.children&&t.children.length>0;return(0,Q.jsxs)(r.xu,{children:[(0,Q.jsxs)(r.xu,{display:"flex",justifyContent:"space-between",_hover:{backgroundColor:"gray.100",cursor:"pointer"},onClick:function(){return a(t)},children:[(0,Q.jsx)(_e.XZ,{colorScheme:"complimentary",value:u,isChecked:!s&&n,isIndeterminate:s,isDisabled:c,onChange:function(){return i(t)},mx:2,"data-testid":"checkbox-".concat(d),children:d}),f?(0,Q.jsx)(L.hU,{"data-testid":"expand-".concat(d),"aria-label":o?"collapse":"expand",icon:o?(0,Q.jsx)(Se.O1,{}):(0,Q.jsx)(Se.mC,{}),variant:"ghost",onClick:function(){return a(t)},size:"sm"}):null]}),l&&(0,Q.jsx)(r.xu,{ml:5,children:l})]})},Ae=function(e){var t=e.nodes,n=e.selected,i=e.onSelected,o=(0,y.useState)([]),a=o[0],s=o[1],c=(0,y.useState)([]),l=c[0],u=c[1];(0,y.useEffect)((function(){var e=n.map((function(e){return Ee(e)})).reduce((function(e,t){return e.concat(t)}),[]),r=n.map((function(e){return Ze(t,e)})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return e.value})),i=Array.from(new Set([].concat((0,De.Z)(e),(0,De.Z)(r))));u(i),s(i)}),[n,t]);var d=function(e){var r=[],o=[];if(a.indexOf(e.value)>=0)r=a.filter((function(t){return!ze(t,e.value)})),o=n.filter((function(t){return!ze(t,e.value)}));else{var c=Ze(t,e.value).map((function(e){return e.value}));r=[].concat((0,De.Z)(a),(0,De.Z)(c)),o=[].concat((0,De.Z)(n),[e.value])}s(r),i(o)},f=function(e){l.indexOf(e.value)>=0?u(l.filter((function(t){return!ze(t,e.value)}))):u([].concat((0,De.Z)(l),[e.value]))},p=function e(r){if(r.children){var i=a.indexOf(r.value)>=0,o=l.indexOf(r.value)>=0,s=Ze(t,r.value),c=i&&r.children.length>0&&a.filter((function(e){return e.startsWith("".concat(r.value,"."))})).length+1!==s.length,u=function(e,t){var n=Ee(t).filter((function(e){return e!==t}));return e.filter((function(e){return n.includes(e)})).length>0}(n,r.value);return(0,Q.jsx)(Ne,{node:r,isChecked:i,onChecked:d,isExpanded:o,onExpanded:f,isDisabled:u,isIndeterminate:c,children:o&&r.children.map((function(t){return(0,Q.jsx)(y.Fragment,{children:e(t)},t.value)}))})}return null};return(0,Q.jsx)(r.xu,{children:t.map((function(e){return(0,Q.jsx)(r.xu,{children:p(e)},e.value)}))})},Ie=n(45009);function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){(0,W.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fe=function(e){var t=e.dataCategories,n=e.checked,i=e.onChecked,o=e.buttonProps,a=e.buttonLabel,s=(0,y.useMemo)((function(){return(0,Ie.C)(t)}),[t]),c={variant:"outline",fontWeight:"normal",size:"sm",borderRadius:"sm",textAlign:"left",_hover:{backgroundColor:"transparent"},_active:{backgroundColor:"transparent"},rightIcon:(0,Q.jsx)(Se.mC,{}),width:"100%"},l=null!==o&&void 0!==o?o:c,u=null!==a&&void 0!==a?a:"Select data categories";return(0,Q.jsxs)(Pe.v2,{closeOnSelect:!0,children:[(0,Q.jsx)(Pe.j2,Le(Le({as:L.zx},l),{},{"data-testid":"data-category-dropdown",children:u})),(0,Q.jsx)(Pe.qy,{children:(0,Q.jsxs)(r.xu,{maxHeight:"50vh",minWidth:"300px",overflowY:"scroll",children:[(0,Q.jsxs)(r.xu,{position:"sticky",top:0,zIndex:1,backgroundColor:"white",pt:1,children:[(0,Q.jsx)(Pe.__,{children:(0,Q.jsxs)(r.xu,{display:"flex",justifyContent:"space-between",px:2,mb:2,children:[(0,Q.jsx)(Pe.sN,{as:L.zx,variant:"outline",size:"xs",onClick:function(){return i([])},mr:2,width:"auto",closeOnSelect:!1,"data-testid":"data-category-clear-btn",children:"Clear"}),(0,Q.jsx)(r.xv,{mr:2,children:"Data Categories"}),(0,Q.jsx)(Pe.sN,{as:L.zx,size:"xs",colorScheme:"primary",color:"white",_hover:{backgroundColor:"primary.600"},width:"auto","data-testid":"data-category-done-btn",children:"Done"})]})}),(0,Q.jsx)(Pe.R,{})]}),(0,Q.jsx)(r.xu,{px:2,"data-testid":"data-category-checkbox-tree",children:(0,Q.jsx)(Ae,{nodes:s,selected:n,onSelected:i})})]})})]})},qe=function(e){var t=e.dataCategories,n=e.mostLikelyCategories,i=e.checked,o=e.onChecked,a=e.tooltip,s=i.slice().sort((function(e,t){return e.localeCompare(t)}));return(0,Q.jsxs)(r.rj,{templateColumns:"1fr 3fr",children:[(0,Q.jsx)(u.lX,{children:"Data Categories"}),n?(0,Q.jsxs)(r.xu,{display:"flex",alignItems:"center",children:[(0,Q.jsx)(r.xu,{mr:"2",width:"100%",children:(0,Q.jsx)(ve.P$,{dataCategories:t,mostLikelyCategories:n,checked:i,onChecked:o})}),(0,Q.jsx)(we.Z,{label:a})]}):(0,Q.jsxs)(r.Kq,{children:[(0,Q.jsxs)(r.xu,{display:"flex",alignItems:"center",children:[(0,Q.jsx)(r.xu,{mr:"2",width:"100%",children:(0,Q.jsx)(Fe,{dataCategories:t,checked:i,onChecked:o})}),(0,Q.jsx)(we.Z,{label:a})]}),(0,Q.jsx)(r.Kq,{"data-testid":"selected-categories",children:s.map((function(e){return(0,Q.jsx)(be.Z,{name:e,onClose:function(){var t;t=e,o(i.filter((function(e){return e!==t})))}},e)}))})]})]})};function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){(0,W.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var We="edit-collection-or-field-form",Ge=te.map((function(e){return{value:e.key,label:e.label}})),Ye=function(e){var t,n=e.values,i=e.onSubmit,o=e.dataType,a={description:null!==(t=n.description)&&void 0!==t?t:"",data_qualifier:n.data_qualifier,data_categories:n.data_categories},s=(0,D.useSelector)(z.qb),c=(0,D.useSelector)(E.t6),l=(0,y.useMemo)((function(){if(s&&c){var e=new Map(s.map((function(e){return[e.fides_key,e]})));return c.classifications.map((function(t){var n=t.label;return Ve({fides_key:n,confidence:t.aggregated_score},e.get(n))}))}}),[s,c]),u=(0,y.useState)((function(){return(0,ke.I)({dataCategories:a.data_categories,mostLikelyCategories:l})})),d=u[0],f=u[1],p="collection"===o?ce.tooltip:de.tooltip,h="collection"===o?le.tooltip:fe.tooltip,m="collection"===o?ue.tooltip:pe.tooltip;return(0,Q.jsx)(Oe.J9,{initialValues:a,onSubmit:function(e){var t=Ve(Ve({},e),{data_categories:d});i(t)},children:(0,Q.jsx)(Oe.l0,{id:We,children:(0,Q.jsxs)(r.Kq,{children:[(0,Q.jsx)(Ce.j0,{name:"description",label:"Description",tooltip:p,"data-testid":"description-input"}),(0,Q.jsx)(Ce.AP,{name:"data_qualifier",label:"Identifiability",options:Ge,tooltip:h,isSearchable:!1,"data-testid":"identifiability-input"}),(0,Q.jsx)(qe,{dataCategories:s,mostLikelyCategories:l,checked:d,onChecked:f,tooltip:m})]})})})};function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){(0,W.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ke,Je=function(e){var t=e.field,n=e.isOpen,i=e.onClose,o=(0,D.useSelector)(V.n0),a=(0,D.useSelector)(V.gR),s=(0,D.useSelector)(V.mZ),c=(0,V.TG)(),l=(0,N.Z)(c,1)[0],u=(0,ge.qY)(),d=u.isOpen,f=u.onOpen,p=u.onClose;return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(xe.ZP,{isOpen:n,onClose:i,description:"Fields are an array of objects that describe the collection's fields. Provide additional context to this field by filling out the fields below.",header:(0,Q.jsx)(xe.zR,{title:"Field Name: ".concat(t.name),onDelete:f}),footer:(0,Q.jsx)(xe.Gn,{onClose:i,formId:We}),children:(0,Q.jsx)(Ye,{values:t,onSubmit:function(e){if(o&&void 0!==a&&void 0!==s){var n=Re(Re({},t),e),r=K(o,n,a,s);l(r),i()}},dataType:"field"})}),(0,Q.jsx)(ve.cV,{isOpen:d,onClose:p,onConfirm:function(){if(o&&void 0!==a&&void 0!==s){var e=function(e,t,n){var r=e.collections[t],i=r.fields.filter((function(e,t){return t!==n})),o=$($({},r),{fields:i});return R(e,o,t)}(o,a,s);l(e),i()}},title:"Delete Field",message:(0,Q.jsxs)(r.xv,{children:["You are about to permanently delete the field named"," ",(0,Q.jsx)(r.xv,{color:"complimentary.500",as:"span",fontWeight:"bold",children:t.name})," ","from this dataset. Are you sure you would like to continue?"]})})]})};!function(e){e.DATASET="dataset",e.COLLECTION="collection",e.FIELD="field"}(Ke||(Ke={}));var Be=function(e){var t=e.columns,n=(0,D.useDispatch)(),i=(0,D.useSelector)(V.pD),o=(0,D.useSelector)(V.FJ),a=(0,D.useSelector)(V.U3),s=(0,D.useSelector)(E.a$),c=function(e){n((0,V.EQ)(e)),n((0,V.JY)(Ke.FIELD))};return(0,Q.jsxs)(r.xu,{children:[(0,Q.jsxs)(X.iA,{size:"sm","data-testid":"dataset-fields-table",children:[(0,Q.jsx)(X.hr,{children:(0,Q.jsx)(X.Tr,{children:t.map((function(e){return(0,Q.jsx)(X.Th,{pl:0,"data-testid":"column-".concat(e.name),children:e.name},e.name)}))})}),(0,Q.jsx)(X.p3,{children:(null!==i&&void 0!==i?i:[]).map((function(e,n){return(0,Q.jsx)(X.Tr,{_hover:{bg:"gray.50"},cursor:"pointer",onClick:function(){return c(n)},tabIndex:0,onKeyPress:function(e){"Enter"===e.key&&c(n)},"data-testid":"field-row-".concat(e.name),children:t.map((function(t){return(0,Q.jsx)(X.Td,{pl:0,children:(0,Q.jsx)(je,{field:e,classifyField:s.get(e.name),attribute:t.attribute})},"".concat(t.name,"-").concat(e.name))}))},e.name)}))})]}),o?(0,Q.jsx)(Je,{isOpen:a===Ke.FIELD,onClose:function(){n((0,V.EQ)(void 0)),n((0,V.JY)(void 0))},field:o}):null]})},Qe=function(){var e,t=(0,D.useSelector)(E.Bt),n=null!==(e=null===t||void 0===t?void 0:t.status)&&void 0!==e?e:M.Wg.REVIEWED,i=(0,y.useMemo)((function(){var e,n;return null!==(e=null===t||void 0===t||null===(n=t.collections)||void 0===n?void 0:n.reduce((function(e,t){return e+t.fields.reduce((function(e,t){return t.classifications.length>0?e+1:e}),0)}),0))&&void 0!==e?e:0}),[t]),o=0===i?"Fides did not identify any fields that are likely to contain personal data, but there may be some.":1===i?"Fides identified a field that is likely to contain personal data.":"Fides identified ".concat(i," fields that are likely to contain personal data.");return(0,Q.jsx)(r.gC,{align:"left",mb:6,children:n===M.Wg.COMPLETE?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(r.Ug,{children:[(0,Q.jsx)(r.X6,{fontSize:"2xl",children:"Dataset classification ready for review"}),(0,Q.jsx)(Se.sc,{fontSize:"2xl"})]}),(0,Q.jsxs)(r.xv,{fontSize:"sm",color:"gray.600",maxW:"720px",children:[o," Please confirm all dataset fields to finish annotating this system. For each table, please review the recommended data categories. You can accept the automated suggestions, or update any field as appropriate before approving."]})]}):(0,Q.jsx)(r.X6,{fontSize:"2xl",children:"Dataset"})})};function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){(0,W.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var He=function(e){var t=e.collection,n=e.isOpen,i=e.onClose,o=(0,D.useSelector)(V.n0),a=(0,D.useSelector)(V.gR),s=(0,V.TG)(),c=(0,N.Z)(s,1)[0],l=(0,T.pm)(),u=(0,ge.qY)(),d=u.isOpen,f=u.onOpen,p=u.onClose,h=function(){var e=(0,Z.Z)(I().mark((function e(n){var r,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o||void 0===a){e.next=13;break}return r=Xe(Xe({},t),n),s=R(o,r,a),e.prev=3,e.next=6,c(s);case 6:l((0,q.t)("Successfully modified collection")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),l((0,q.V)(e.t0));case 12:i();case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,Z.Z)(I().mark((function e(){var t,n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o||void 0===a){e.next=14;break}return t=B(o,a),e.prev=2,e.next=5,c(t);case 5:l((0,q.t)("Successfully deleted collection")),n=o.collections.length>0?0:void 0,(0,V.Fy)(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),l((0,q.V)(e.t0));case 13:i();case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(xe.ZP,{isOpen:n,onClose:i,description:"Collections are an array of objects that describe the Dataset's collections. Provide additional context to this collection by filling out the fields below.",header:(0,Q.jsx)(xe.zR,{title:"Collection Name: ".concat(t.name),onDelete:f}),footer:(0,Q.jsx)(xe.Gn,{onClose:i,formId:We}),children:(0,Q.jsx)(Ye,{values:t,onSubmit:h,dataType:"collection"})}),(0,Q.jsx)(ve.cV,{isOpen:d,onClose:p,onConfirm:m,title:"Delete Collection",message:(0,Q.jsxs)(r.xv,{children:["You are about to permanently delete the collection named"," ",(0,Q.jsx)(r.xv,{color:"complimentary.500",as:"span",fontWeight:"bold",children:t.name})," ","from this dataset. Are you sure you would like to continue?"]})})]})},et=n(99429);function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){(0,W.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt="edit-field-drawer",it=te.map((function(e){return{label:e.label,value:e.key}})),ot=function(e){var t,n,i,o,a,s=e.values,c=e.onSubmit,l={name:null!==(t=s.name)&&void 0!==t?t:"",description:null!==(n=s.description)&&void 0!==n?n:"",retention:null!==(i=s.retention)&&void 0!==i?i:"",data_qualifier:s.data_qualifier,third_country_transfers:null!==(o=s.third_country_transfers)&&void 0!==o?o:[],data_categories:s.data_categories},u=(0,D.useSelector)(z.qb),d=(0,y.useState)(null!==(a=l.data_categories)&&void 0!==a?a:[]),f=d[0],p=d[1];return(0,Q.jsx)(Oe.J9,{initialValues:l,onSubmit:function(e){var t=nt(nt({},e),{data_categories:f});c(t)},children:(0,Q.jsx)(Oe.l0,{id:rt,children:(0,Q.jsxs)(r.Kq,{spacing:"3",children:[(0,Q.jsx)(Ce.j0,{name:"name",label:"Name",tooltip:ne.tooltip,"data-testid":"name-input"}),(0,Q.jsx)(Ce.j0,{name:"description",label:"Description",tooltip:re.tooltip,"data-testid":"description-input"}),(0,Q.jsx)(Ce.j0,{name:"retention",label:"Retention period",tooltip:ie.tooltip,"data-testid":"retention-input"}),(0,Q.jsx)(Ce.AP,{name:"data_qualifier",label:"Identifiability",options:it,tooltip:oe.tooltip,"data-testid":"identifiability-input"}),(0,Q.jsx)(Ce.Fs,{name:"third_country_transfers",label:"Geographic location",tooltip:se.tooltip,isSearchable:!0,options:et.Y,"data-testid":"geography-input"}),(0,Q.jsx)(qe,{dataCategories:u,checked:f,onChecked:p,tooltip:ae.tooltip})]})})})};function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){(0,W.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ct=function(e){var t=e.dataset,n=e.isOpen,i=e.onClose,o=(0,V.TG)(),a=(0,N.Z)(o,1)[0],c=(0,V.QY)(),l=(0,N.Z)(c,1)[0],u=(0,s.useRouter)(),d=(0,T.pm)(),f=(0,ge.qY)(),p=f.isOpen,h=f.onOpen,m=f.onClose,y=function(){var e=(0,Z.Z)(I().mark((function e(n){var r,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=st(st({},t),n),e.prev=1,e.next=4,a(r);case 4:o=e.sent,(0,F.D4)(o)?d((0,q.V)((0,F.e$)(o.error))):d((0,q.t)("Successfully modified dataset")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),d((0,q.V)(e.t0));case 11:i();case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=(0,Z.Z)(I().mark((function e(){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fides_key,e.next=3,l(n);case 3:r=e.sent,(0,F.D4)(r)?d((0,q.V)((0,F.e$)(r.error))):d((0,q.t)("Successfully deleted dataset")),(0,V.Zl)(void 0),u.push("/dataset"),i();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(xe.ZP,{isOpen:n,onClose:i,description:"A Dataset takes a database schema (tables and columns) and adds Fides privacy categorizations. Provide additional context to this dataset by filling out the fields below.",header:(0,Q.jsx)(xe.zR,{title:"Dataset Name: ".concat(t.name),onDelete:h}),footer:(0,Q.jsx)(xe.Gn,{onClose:i,formId:rt}),children:(0,Q.jsx)(ot,{values:t,onSubmit:y})}),(0,Q.jsx)(ve.cV,{isOpen:p,onClose:m,onConfirm:b,title:"Delete Dataset",message:(0,Q.jsxs)(r.xv,{children:["You are about to permanently delete the dataset named"," ",(0,Q.jsx)(r.xv,{color:"complimentary.500",as:"span",fontWeight:"bold",children:t.name}),". Are you sure you would like to continue?"]})})]})},lt=n(4730),ut=n(81555),dt=["children","isDisabled","onClick"];function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){(0,W.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ht=function(e){var t=e.children,n=e.isDisabled,r=e.onClick,i=(0,lt.Z)(e,dt);return(0,Q.jsx)(Pe.sN,pt(pt({isDisabled:n,_hover:{backgroundColor:"gray.100"},fontSize:"sm",onClick:r},i),{},{children:t}))},mt=function(e){var t=e.onModifyCollection,n=e.onModifyDataset;return(0,Q.jsxs)(Pe.v2,{size:"sm",children:[(0,Q.jsx)(Pe.j2,{as:L.zx,variant:"outline","data-testid":"more-actions-btn",children:(0,Q.jsx)(ut.Z,{})}),(0,Q.jsxs)(Pe.qy,{children:[(0,Q.jsxs)(Pe.kS,{title:"Collections",color:"gray.500",textTransform:"uppercase",mx:3,children:[(0,Q.jsx)(Pe.R,{}),(0,Q.jsx)(ht,{isDisabled:!0,children:"Add a collection"}),(0,Q.jsx)(ht,{onClick:t,"data-testid":"modify-collection",children:"Modify collection"})]}),(0,Q.jsxs)(Pe.kS,{title:"Datasets",color:"gray.500",textTransform:"uppercase",mx:3,children:[(0,Q.jsx)(Pe.R,{}),(0,Q.jsx)(ht,{children:(0,Q.jsx)(a(),{href:"/dataset",children:"Select new dataset"})}),(0,Q.jsx)(ht,{isDisabled:!0,children:"Classify this dataset"}),(0,Q.jsx)(ht,{onClick:n,"data-testid":"modify-dataset",children:"Modify dataset"})]})]})]})},yt=[{name:"Field Name",attribute:"name"},{name:"Description",attribute:"description"},{name:"Identifiability",attribute:"data_qualifier"},{name:"Personal Data Categories",attribute:"data_categories"}],bt=function(e){var t=e.fidesKey,n=(0,D.useDispatch)(),i=function(e){var t=(0,V.oM)(e),n=t.data,r=t.isLoading,i=(0,S.h)(),o=(0,E.Tc)(e,{skip:!i.plus}).isLoading;return(0,z.MO)(),{isLoading:r||o,dataset:n}}(t),o=i.dataset,a=i.isLoading,s=(0,D.useSelector)(V.fQ),c=(0,D.useSelector)(V.Jb),u=(0,D.useSelector)(V.U3),d=(0,y.useState)(yt),f=d[0],p=d[1];(0,z.MO)(),(0,y.useEffect)((function(){o&&n((0,V.Zl)(o.fides_key))}),[n,o]),(0,y.useEffect)((function(){return function(){n((0,V.Zl)(void 0))}}),[]);return a?(0,Q.jsx)(l.$,{}):o?(0,Q.jsxs)(r.xu,{children:[(0,Q.jsx)(Qe,{}),(0,Q.jsxs)(r.Ug,{mb:4,children:[(0,Q.jsx)(C,{onChange:function(e){n((0,V.Fy)(e.target.selectedIndex))},width:"fit-content",flexShrink:0,"data-testid":"collection-select",children:(null!==s&&void 0!==s?s:[]).map((function(e){return(0,Q.jsx)("option",{value:e.name,children:e.name},e.name)}))}),(0,Q.jsx)(U,{}),(0,Q.jsx)(r.xu,{children:(0,Q.jsx)(_.s,{allColumns:yt,selectedColumns:f,onChange:p})}),(0,Q.jsx)(mt,{onModifyCollection:function(){return n((0,V.JY)(Ke.COLLECTION))},onModifyDataset:function(){return n((0,V.JY)(Ke.DATASET))}})]}),(0,Q.jsx)(Be,{columns:f}),c?(0,Q.jsx)(He,{collection:c,isOpen:u===Ke.COLLECTION,onClose:function(){return n((0,V.JY)(void 0))}}):null,o?(0,Q.jsx)(ct,{dataset:o,isOpen:u===Ke.DATASET,onClose:function(){return n((0,V.JY)(void 0))}}):null]}):(0,Q.jsx)("div",{children:"Dataset not found"})},jt=function(){var e=(0,s.useRouter)().query.id;if(!e)return(0,Q.jsx)(c.Z,{title:"Dataset",children:"Dataset not found"});var t=Array.isArray(e)?e[0]:e;return(0,Q.jsxs)(c.Z,{title:"Dataset - ".concat(e),children:[(0,Q.jsx)(r.xu,{mb:6,children:(0,Q.jsxs)(i.aG,{fontWeight:"medium",fontSize:"sm",color:"gray.600",children:[(0,Q.jsx)(i.gN,{children:(0,Q.jsx)(a(),{href:"/dataset",children:"Datasets"})}),(0,Q.jsx)(i.gN,{children:(0,Q.jsx)(a(),{href:"#",children:e})})]})}),(0,Q.jsx)(bt,{fidesKey:t})]})}},88794:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dataset/[id]",function(){return n(38866)}])}},function(e){e.O(0,[8816,3296,2156,7060,6912,3766,9339,3275,7080,9774,2888,179],(function(){return t=88794,e(e.s=t);var t}));var t=e.O();_N_E=t}]);