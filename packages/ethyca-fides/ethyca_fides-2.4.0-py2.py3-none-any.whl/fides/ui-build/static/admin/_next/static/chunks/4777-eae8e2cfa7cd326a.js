"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4777],{49198:function(e,n,r){r.d(n,{Ee:function(){return p}});var t=r(52565),i=r(89816),o=r(67294),a=r(6905);function s(){return s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},s.apply(this,arguments)}function c(e,n){if(null==e)return{};var r,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}var l=["htmlWidth","htmlHeight","alt"],u=["fallbackSrc","fallback","src","srcSet","align","fit","loading","ignoreFallback","crossOrigin"],d=o.forwardRef((function(e,n){var r=e.htmlWidth,t=e.htmlHeight,i=e.alt,a=c(e,l);return o.createElement("img",s({width:r,height:t,ref:n,alt:i},a))})),p=(0,t.Gp)((function(e,n){var r=e.fallbackSrc,l=e.fallback,p=e.src,f=e.srcSet,h=e.align,x=e.fit,g=e.loading,m=e.ignoreFallback,v=e.crossOrigin,y=c(e,u),b=null!=g||m||void 0===r&&void 0===l,j=function(e){var n=e.loading,r=e.src,t=e.srcSet,i=e.onLoad,s=e.onError,c=e.crossOrigin,l=e.sizes,u=e.ignoreFallback,d=(0,o.useState)("pending"),p=d[0],f=d[1];(0,o.useEffect)((function(){f(r?"loading":"pending")}),[r]);var h=(0,o.useRef)(),x=(0,o.useCallback)((function(){if(r){g();var e=new Image;e.src=r,c&&(e.crossOrigin=c),t&&(e.srcset=t),l&&(e.sizes=l),n&&(e.loading=n),e.onload=function(e){g(),f("loaded"),null==i||i(e)},e.onerror=function(e){g(),f("failed"),null==s||s(e)},h.current=e}}),[r,c,t,l,i,s,n]),g=function(){h.current&&(h.current.onload=null,h.current.onerror=null,h.current=null)};return(0,a.a)((function(){if(!u)return"loading"===p&&x(),function(){g()}}),[p,x,u]),u?"loaded":p}(s({},e,{ignoreFallback:b})),w=s({ref:n,objectFit:x,objectPosition:h},b?y:(0,i.CE)(y,["onError","onLoad"]));return"loaded"!==j?l||o.createElement(t.m$.img,s({as:d,className:"chakra-image__placeholder",src:r},w)):o.createElement(t.m$.img,s({as:d,src:p,srcSet:f,crossOrigin:v,loading:g,className:"chakra-image"},w))}));i.Ts&&(p.displayName="Image")},45431:function(e,n,r){r.d(n,{g:function(){return l}});var t=r(64598),i=r(52565),o=r(89816),a=r(67294);function s(){return s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},s.apply(this,arguments)}var c=["className","rows"],l=(0,i.Gp)((function(e,n){var r=(0,i.mq)("Textarea",e),l=(0,i.Lr)(e),u=l.className,d=l.rows,p=function(e,n){if(null==e)return{};var r,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}(l,c),f=(0,t.Yp)(p),h=d?(0,o.CE)(r,["h","minH","height","minHeight"]):r;return a.createElement(i.m$.textarea,s({ref:n,rows:d},f,{className:(0,o.cx)("chakra-textarea",u),__css:h}))}));o.Ts&&(l.displayName="Textarea")},35839:function(e,n,r){r.d(n,{u:function(){return b}});var t=r(11938),i=r(83739),o=r(52565),a=r(89816),s=r(23438),c=r(54815),l=r(14332),u=r(67294),d=r(20650),p=r(6905),f=r(40125);function h(){return h=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},h.apply(this,arguments)}function x(e,n){if(null==e)return{};var r,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}var g={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},m=["openDelay","closeDelay","closeOnClick","closeOnMouseDown","onOpen","onClose","placement","id","isOpen","defaultIsOpen","arrowSize","arrowShadowColor","arrowPadding","modifiers","isDisabled","gutter","offset","direction"];var v=["children","label","shouldWrapChildren","aria-label","hasArrow","bg","portalProps","background","backgroundColor","bgColor"],y=(0,o.m$)(c.E.div),b=(0,o.Gp)((function(e,n){var r,c,b=(0,o.mq)("Tooltip",e),j=(0,o.Lr)(e),w=(0,o.Fg)(),k=j.children,O=j.label,C=j.shouldWrapChildren,S=j["aria-label"],_=j.hasArrow,P=j.bg,E=j.portalProps,z=j.background,Z=j.backgroundColor,D=j.bgColor,I=x(j,v),A=null!=(r=null!=(c=null!=z?z:Z)?c:P)?r:D;A&&(b.bg=A,b[t.j.arrowBg.var]=(0,a.K1)(w,"colors",A));var R,F=function(e){void 0===e&&(e={});var n=e,r=n.openDelay,i=void 0===r?0:r,o=n.closeDelay,s=void 0===o?0:o,c=n.closeOnClick,l=void 0===c||c,g=n.closeOnMouseDown,v=n.onOpen,y=n.onClose,b=n.placement,j=n.id,w=n.isOpen,k=n.defaultIsOpen,O=n.arrowSize,C=void 0===O?10:O,S=n.arrowShadowColor,_=n.arrowPadding,P=n.modifiers,E=n.isDisabled,z=n.gutter,Z=n.offset,D=n.direction,I=x(n,m),A=(0,d.qY)({isOpen:w,defaultIsOpen:k,onOpen:v,onClose:y}),R=A.isOpen,F=A.onOpen,T=A.onClose,L=(0,t.D)({enabled:R,placement:b,arrowPadding:_,modifiers:P,gutter:z,offset:Z,direction:D}),V=L.referenceRef,N=L.getPopperProps,W=L.getArrowInnerProps,q=L.getArrowProps,M=(0,d.Me)(j,"tooltip"),H=u.useRef(null),Y=u.useRef(),X=u.useRef(),$=u.useCallback((function(){E||(Y.current=window.setTimeout(F,i))}),[E,F,i]),B=u.useCallback((function(){Y.current&&clearTimeout(Y.current),X.current=window.setTimeout(T,s)}),[s,T]),J=u.useCallback((function(){l&&B()}),[l,B]),U=u.useCallback((function(){g&&B()}),[g,B]),K=u.useCallback((function(e){R&&"Escape"===e.key&&B()}),[R,B]);(0,p.b)("keydown",K),u.useEffect((function(){return function(){clearTimeout(Y.current),clearTimeout(X.current)}}),[]),(0,p.b)("mouseleave",B,(function(){return H.current}));var G=u.useCallback((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),h({},e,{ref:(0,f.lq)(H,n,V),onMouseEnter:(0,a.v0)(e.onMouseEnter,$),onClick:(0,a.v0)(e.onClick,J),onMouseDown:(0,a.v0)(e.onMouseDown,U),onFocus:(0,a.v0)(e.onFocus,$),onBlur:(0,a.v0)(e.onBlur,B),"aria-describedby":R?M:void 0})}),[$,B,U,R,M,J,V]),Q=u.useCallback((function(e,n){var r;return void 0===e&&(e={}),void 0===n&&(n=null),N(h({},e,{style:h({},e.style,(r={},r[t.j.arrowSize.var]=C?(0,a.px)(C):void 0,r[t.j.arrowShadowColor.var]=S,r))}),n)}),[N,C,S]),ee=u.useCallback((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),h({ref:n},I,e,{id:M,role:"tooltip",style:h({},e.style,{position:"relative",transformOrigin:t.j.transformOrigin.varRef})})}),[I,M]);return{isOpen:R,show:$,hide:B,getTriggerProps:G,getTooltipProps:ee,getTooltipPositionerProps:Q,getArrowProps:q,getArrowInnerProps:W}}(h({},I,{direction:w.direction}));if((0,a.HD)(k)||C)R=u.createElement(o.m$.span,h({tabIndex:0},F.getTriggerProps()),k);else{var T=u.Children.only(k);R=u.cloneElement(T,F.getTriggerProps(T.props,T.ref))}var L=!!S,V=F.getTooltipProps({},n),N=L?(0,a.CE)(V,["role","id"]):V,W=(0,a.ei)(V,["role","id"]);return O?u.createElement(u.Fragment,null,R,u.createElement(l.M,null,F.isOpen&&u.createElement(i.h_,E,u.createElement(o.m$.div,h({},F.getTooltipPositionerProps(),{__css:{zIndex:b.zIndex,pointerEvents:"none"}}),u.createElement(y,h({variants:g},N,{initial:"exit",animate:"enter",exit:"exit",__css:b}),O,L&&u.createElement(s.TX,W,S),_&&u.createElement(o.m$.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper"},u.createElement(o.m$.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:b.bg}}))))))):u.createElement(u.Fragment,null,k)}));a.Ts&&(b.displayName="Tooltip")},52313:function(e,n,r){var t=r(59499),i=r(4730),o=r(91294),a=r(85893),s=["data","border"];function c(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function l(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}n.Z=function(e){var n=e.data,r=e.border,t=void 0===r?"partial":r,c=(0,i.Z)(e,s);return(0,a.jsxs)(o.mQ,l(l({colorScheme:"complimentary"},c),{},{children:[(0,a.jsx)(o.td,{width:"partial"===t?"max-content":void 0,children:n.map((function(e){return(0,a.jsx)(o.OK,{"data-testid":"tab-".concat(e.label),_selected:{fontWeight:"600",color:"complimentary.500",borderColor:"complimentary.500"},fontWeight:"500",color:"gray.500",isDisabled:e.isDisabled||!1,children:e.label},e.label)}))}),(0,a.jsx)(o.nP,{children:n.map((function(e){return(0,a.jsx)(o.x4,{px:0,"data-testid":"tab-panel-".concat(e.label),children:e.content},e.label)}))})]}))}},65698:function(e,n,r){r.d(n,{D4:function(){return i.D4},FM:function(){return s},MM:function(){return d},Ot:function(){return c},e$:function(){return a},nU:function(){return u},tB:function(){return l}});var t=r(56661),i=r(27396),o="An unexpected error occurred. Please try again.",a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;if((0,i.Bw)(e)){if((0,i.hE)(e.data))return e.data.detail;if((0,i.cz)(e.data)){var r,t=null===(r=e.data.detail)||void 0===r?void 0:r[0];return"".concat(null===t||void 0===t?void 0:t.msg,": ").concat(null===t||void 0===t?void 0:t.loc)}if(409===e.status&&(0,i.Dy)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")");if(404===e.status&&(0,i.XD)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")")}return n},s=function(e){return(0,t.Ln)({name:"string"},e)&&"YAMLException"===e.name};function c(e){return"object"===typeof e&&null!=e&&"data"in e&&"string"===typeof e.data.detail}function l(e){return"object"===typeof e&&null!=e&&"data"in e&&Array.isArray(e.data.detail)}var u=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:o};if((0,i.oK)(e))return{status:e.originalStatus,message:e.data};if((0,i.Bw)(e)){var r=e.status;return{status:r,message:a(e,n.message)}}return n},d=function(e){return Object.entries(e).map((function(e){return{value:e[1],label:e[1]}}))}},70783:function(e,n,r){r.d(n,{HK:function(){return o},VY:function(){return t.V}});var t=r(63719),i=r(65698),o=function(){var e=(0,t.V)().errorAlert;return{handleError:function(n){var r="An unexpected error occurred. Please try again.";(0,i.Ot)(n)?r=n.data.detail:(0,i.tB)(n)&&(r=n.data.detail[0].msg),e(r)}}};r(67294)},63719:function(e,n,r){r.d(n,{V:function(){return d}});var t=r(59499),i=r(9555),o=r(34532),a=r(1396),s=r(46995),c=r(85893);function l(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function u(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var d=function(){var e=(0,i.pm)();return{errorAlert:function(n,r,t){var i=u(u({},t),{},{position:(null===t||void 0===t?void 0:t.position)||"top",render:function(e){var t=e.onClose;return(0,c.jsxs)(o.bZ,{alignItems:"normal",status:"error",children:[(0,c.jsx)(o.zM,{}),(0,c.jsxs)(a.xu,{children:[r&&(0,c.jsx)(o.Cd,{children:r}),(0,c.jsx)(o.X,{children:n})]}),(0,c.jsx)(s.P,{onClick:t,position:"relative",right:0,size:"sm",top:-1})]})}});null!==t&&void 0!==t&&t.id&&e.isActive(t.id)?e.update(t.id,i):e(i)},successAlert:function(n,r,t){var i=u(u({},t),{},{position:(null===t||void 0===t?void 0:t.position)||"top",render:function(e){var t=e.onClose;return(0,c.jsxs)(o.bZ,{alignItems:"normal",status:"success",variant:"subtle",children:[(0,c.jsx)(o.zM,{}),(0,c.jsxs)(a.xu,{children:[r&&(0,c.jsx)(o.Cd,{children:r}),(0,c.jsx)(o.X,{children:n})]}),(0,c.jsx)(s.P,{onClick:t,position:"relative",right:0,size:"sm",top:-1})]})}});null!==t&&void 0!==t&&t.id&&e.isActive(t.id)?e.update(t.id,i):e(i)}}}},85130:function(e,n,r){r.d(n,{Z:function(){return u}});var t=r(16835),i=r(27812),o=r(49198),a=(r(67294),r(23720)),s=r(36292),c=function(e){return void 0!==e.connection_type},l=r(85893),u=function(e){var n=e.data;return(0,l.jsx)(o.Ee,{boxSize:"32px",objectFit:"cover",src:function(){var e;return(e=c(n)?(0,i.Z)(s.iW).find((function(e){var r,i,o=(0,t.Z)(e,1)[0];return n.connection_type.toString()!==a.Rj.SAAS&&n.connection_type.toString()===o||n.connection_type.toString()===a.Rj.SAAS&&(null===(r=n.saas_config)||void 0===r||null===(i=r.type)||void 0===i?void 0:i.toString())===o.toString()})):(0,i.Z)(s.iW).find((function(e){return(0,t.Z)(e,1)[0].toLowerCase()===n.toLowerCase()})))?s.Ny+e[1]:s.VD}(),fallbackSrc:s.VD,alt:c(n)?n.name:n})}},66752:function(e,n,r){r(67294);var t=r(84247),i=r(85893);n.Z=function(e){var n=e.children;return(0,i.jsx)(t.Z,{title:"Connections",children:n})}},9613:function(e,n,r){var t=r(1396),i=r(77336),o=r(62254),a=r(41664),s=r.n(a),c=r(67294),l=r(97142),u=r(85893);n.Z=function(e){var n=e.steps,r=(0,l.C)(o.ZZ),a=r.connectionOption,d=r.step,p=(0,c.useCallback)((function(e){var n="";switch(e.stepId){case 2:case 3:n=e.label.replace("{identifier}",a.human_readable);break;default:n=e.label}return n}),[a]);return(0,u.jsx)(t.xu,{mb:"32px",children:(0,u.jsx)(i.aG,{fontSize:"sm",fontWeight:"medium",children:n.map((function(e){return(0,u.jsxs)(i.gN,{children:[e!==d&&(0,u.jsx)(i.At,{as:s(),href:e.href,children:p(e)}),e===d&&(0,u.jsx)(i.At,{isCurrentPage:!0,color:"complimentary.500",_hover:{textDecoration:"none"},children:p(e)})]},e.stepId)}))})})}},78860:function(e,n,r){var t=r(27812),i=r(1396),o=r(62254),a=(r(67294),r(97142)),s=r(85893);n.Z=function(e){var n=e.menuOptions,r=void 0===n?[]:n,c=e.onChange,l=e.selectedItem,u=(0,a.C)(o.ZZ).connection,d=null!==u&&void 0!==u&&u.key?(0,t.Z)(r):(0,t.Z)(r).splice(0,1);return(0,s.jsxs)(i.xu,{w:"234px",children:[(0,s.jsx)(i.X6,{as:"h6",color:"gray.700",fontWeight:"600",size:"xs",children:"Configuration settings"}),(0,s.jsx)(i.aV,{color:"gray.700",display:"flex",flexDirection:"column",fontSize:"sm",h:"64px",mt:"4px",w:"178px",children:d.map((function(e){return(0,s.jsx)(i.HC,{color:l===e?"complimentary.500":void 0,onClick:function(){return c(e)},p:"10px 12px 10px 12px",userSelect:"none",_hover:{bg:"gray.100",cursor:"pointer"},children:e},e)}))})]})}},93860:function(e,n,r){r.d(n,{s:function(){return X}});var t=r(1396),i=r(38351),o=r(56945),a=r(62254),s=r(67294),c=r(97142),l=r(23720),u=r(50029),d=r(16835),p=r(87794),f=r.n(p),h=r(70783),x=r(63719),g=r(24302),m=r(14416),v=r(59499),y=r(92127),b=r(64598),j=r(7906),w=r(93893),k=r(35839),O=r(45431),C=r(43894),S=r(58477),_=r(82175),P=r(85893);function E(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function z(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?E(Object(r),!0).forEach((function(n){(0,v.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var Z="#/definitions/FidesopsDatasetReference",D=function(e){var n=e.data,r=e.defaultValues,i=e.isSubmitting,o=void 0!==i&&i,p=e.onSaveClick,x=e.onTestConnectionClick,m=(0,s.useRef)(!1),v=(0,h.HK)().handleError,E=(0,c.C)(a.ZZ),D=E.connection,I=E.connectionOption,A=(0,g.h2)(),R=(0,d.Z)(A,2),F=R[0],T=R[1],L=function(e){var n;return"undefined"!==typeof e&&""!==e||(n="Connection Identifier is required"),e&&(0,y.kE)(e)&&(n="Connection Identifier must be an alphanumeric value"),n},V=function(e,n,r){var t;("undefined"!==typeof n&&""!==n||(t="".concat(e," is required")),r===Z)&&(n.includes(".")?n.split(".").length<3&&(t="Dataset reference must include at least three parts"):t="Dataset reference must be dot delimited");return t},N=function(e,n){return(0,P.jsx)(b.lX,{color:"gray.900",fontSize:"14px",fontWeight:"semibold",htmlFor:e,minWidth:"150px",children:n})},W=function(e){var n;if((null===(n=e.allOf)||void 0===n?void 0:n[0].$ref)===Z)return"Enter dataset.collection.field"},q=function(){var e=(0,u.Z)(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F(D.key).unwrap();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),v(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){return m.current=!0,T.isSuccess&&x(T),function(){m.current=!1}}),[x,T]),(0,P.jsx)(_.J9,{enableReinitialize:!0,initialValues:function(){var e;null!==D&&void 0!==D&&D.key?(r.name=D.name,r.description=D.description,r.instance_key=D.connection_type===l.Rj.SAAS?null===(e=D.saas_config)||void 0===e?void 0:e.fides_key:D.key,Object.entries(n.properties).forEach((function(e){r[e[0]]=e[1].default?e[1].default:"integer"===e[1].type?0:""}))):Object.entries(n.properties).forEach((function(e){r[e[0]]=e[1].default?e[1].default:"integer"===e[1].type?0:""}));return r}(),onSubmit:function(e,r){var t=z({},e);Object.keys(n.properties).forEach((function(r){var i;if((null===(i=n.properties[r].allOf)||void 0===i?void 0:i[0].$ref)===Z){var o=e[r].split(".");t[r]={dataset:o.shift(),field:o.join("."),direction:"from"}}})),p(t,r)},validateOnBlur:!1,validateOnChange:!1,children:function(e){return(0,P.jsx)(_.l0,{noValidate:!0,children:(0,P.jsxs)(t.gC,{align:"stretch",gap:"16px",children:[(0,P.jsx)(_.gN,{id:"name",name:"name",validate:function(e){return V("Name",e)},children:function(n){var r=n.field;return(0,P.jsxs)(b.NI,{display:"flex",isRequired:!0,isInvalid:e.errors.name&&e.touched.name,children:[N("name","Name"),(0,P.jsxs)(t.gC,{align:"flex-start",w:"inherit",children:[(0,P.jsx)(j.II,z(z({},r),{},{autoComplete:"off",autoFocus:!0,color:"gray.700",placeholder:"Enter a friendly name for your new ".concat(I.human_readable," connection"),size:"sm"})),(0,P.jsx)(b.J1,{children:e.errors.name})]}),(0,P.jsx)(t.kC,{alignItems:"center",h:"32px",visibility:"hidden",children:(0,P.jsx)(S.IT,{marginLeft:"8px"})})]})}}),(0,P.jsx)(_.gN,{id:"description",name:"description",children:function(e){var n=e.field;return(0,P.jsxs)(b.NI,{display:"flex",children:[N("description","Description"),(0,P.jsx)(O.g,z(z({},n),{},{color:"gray.700",placeholder:"Enter a description for your new ".concat(I.human_readable," connection"),resize:"none",size:"sm",value:n.value||""})),(0,P.jsx)(t.kC,{alignItems:"center",h:"32px",visibility:"hidden",children:(0,P.jsx)(S.IT,{marginLeft:"8px"})})]})}}),(0,P.jsx)(_.gN,{id:"instance_key",name:"instance_key",validate:L,children:function(n){var r=n.field;return(0,P.jsxs)(b.NI,{display:"flex",isRequired:!0,isInvalid:e.errors.instance_key&&e.touched.instance_key,children:[N("instance_key","Connection Identifier"),(0,P.jsxs)(t.gC,{align:"flex-start",w:"inherit",children:[(0,P.jsx)(j.II,z(z({},r),{},{autoComplete:"off",color:"gray.700",isDisabled:!(null===D||void 0===D||!D.key),placeholder:"A unique identifier for your new ".concat(I.human_readable," connection"),size:"sm"})),(0,P.jsx)(b.J1,{children:e.errors.instance_key})]}),(0,P.jsx)(k.u,{"aria-label":"The fides_key will allow fidesops to associate dataset field references appropriately. Must be a unique alphanumeric value with no spaces (underscores allowed) to represent this connection.",hasArrow:!0,label:"The fides_key will allow fidesops to associate dataset field references appropriately. Must be a unique alphanumeric value with no spaces (underscores allowed) to represent this connection.",placement:"right-start",openDelay:500,children:(0,P.jsx)(t.kC,{alignItems:"center",h:"32px",children:(0,P.jsx)(S.IT,{marginLeft:"8px",_hover:{cursor:"pointer"}})})})]})}}),Object.entries(n.properties).map((function(e){var r=(0,d.Z)(e,2);return function(e,r){var i;return(0,P.jsx)(_.gN,{id:e,name:e,validate:!!(null!==(i=n.required)&&void 0!==i&&i.includes(e)||"integer"===r.type)&&function(e){var n;return V(r.title,e,null===(n=r.allOf)||void 0===n?void 0:n[0].$ref)},children:function(i){var o,a=i.field,s=i.form;return(0,P.jsxs)(b.NI,{display:"flex",isRequired:null===(o=n.required)||void 0===o?void 0:o.includes(e),isInvalid:s.errors[e]&&s.touched[e],children:[N(e,r.title),(0,P.jsxs)(t.gC,{align:"flex-start",w:"inherit",children:["integer"!==r.type&&(0,P.jsx)(j.II,z(z({},a),{},{placeholder:W(r),autoComplete:"off",color:"gray.700",size:"sm"})),"integer"===r.type&&(0,P.jsxs)(w.Y2,{allowMouseWheel:!0,color:"gray.700",defaultValue:0,min:0,size:"sm",children:[(0,P.jsx)(w.zu,z(z({},a),{},{autoComplete:"off"})),(0,P.jsxs)(w.Fi,{children:[(0,P.jsx)(w.WQ,{}),(0,P.jsx)(w.Y_,{})]})]}),(0,P.jsx)(b.J1,{children:s.errors[e]})]}),(0,P.jsx)(k.u,{"aria-label":r.description,hasArrow:!0,label:r.description,placement:"right-start",openDelay:500,children:(0,P.jsx)(t.kC,{alignItems:"center",h:"32px",visibility:r.description?"visible":"hidden",children:(0,P.jsx)(S.IT,{marginLeft:"8px",_hover:{cursor:"pointer"}})})})]})}},e)}(r[0],r[1])})),(0,P.jsxs)(C.hE,{size:"sm",spacing:"8px",variant:"outline",children:[(0,P.jsx)(C.zx,{colorScheme:"gray.700",isDisabled:!(null!==D&&void 0!==D&&D.key),isLoading:T.isLoading||T.isFetching,loadingText:"Testing",onClick:q,variant:"outline",children:"Test connection"}),(0,P.jsx)(C.zx,{bg:"primary.800",color:"white",isDisabled:o,isLoading:o,loadingText:"Submitting",size:"sm",variant:"solid",type:"submit",_active:{bg:"primary.500"},_disabled:{opacity:"inherit"},_hover:{bg:"primary.400"},children:"Save"})]})]})})}})},I=r(5404),A=function(e){var n=e.data,r=e.onConnectionCreated,i=e.onTestConnectionClick,o=(0,m.useDispatch)(),l=(0,x.V)(),p=l.errorAlert,v=l.successAlert,y=(0,h.HK)().handleError,b=(0,s.useState)(!1),j=b[0],w=b[1],k=(0,c.C)(a.ZZ),O=k.connection,C=k.connectionOption,S=(0,g.pH)(),_=(0,d.Z)(S,1)[0],E=(0,g.Du)(),z=(0,d.Z)(E,1)[0],Z=function(){var e=(0,u.Z)(f().mark((function e(t,i){var s,c,l,u,d;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),c={access:"write",connection_type:null===C||void 0===C?void 0:C.identifier,description:t.description,disabled:!1,key:(0,I.E)(t.instance_key),name:t.name},e.next=5,_(c).unwrap();case 5:if(l=e.sent,!((null===(s=l.failed)||void 0===s?void 0:s.length)>0)){e.next=10;break}p(l.failed[0].message),e.next=16;break;case 10:return u={connection_key:l.succeeded[0].key,secrets:{}},Object.entries(n.properties).forEach((function(e){u.secrets[e[0]]=t[e[0]]})),e.next=14,z(u).unwrap();case 14:"failed"===(d=e.sent).test_status?p((0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("b",{children:"Message:"})," ",d.msg,(0,P.jsx)("br",{}),(0,P.jsx)("b",{children:"Failure Reason:"})," ",d.failure_reason]})):(o((0,a.lm)(l.succeeded[0])),v("Connector successfully ".concat(null!==O&&void 0!==O&&O.key?"updated":"added","!")),null!==O&&void 0!==O&&O.key||!r||r());case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),y(e.t0);case 21:return e.prev=21,w(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[0,18,21,24]])})));return function(n,r){return e.apply(this,arguments)}}();return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(t.xu,{color:"gray.700",fontSize:"14px",h:"80px",children:["Connect to your ",C.human_readable," environment by providing credential information below. Once you have saved your connector credentials, you can review what data is included when processing a privacy request in your Dataset configuration."]}),(0,P.jsx)(D,{data:n,defaultValues:{description:"",instance_key:"",name:""},isSubmitting:j,onSaveClick:Z,onTestConnectionClick:i})]})},R=r(11163),F=r(18459),T=r(74231),L=r(70452),V=r(16410),N=function(e){var n=e.defaultValues,r=e.isSubmitting,i=void 0!==r&&r,o=e.onSaveClick,s=(0,R.useRouter)(),l=(0,c.C)(a.ZZ),u=l.connection,d=l.connectionOption;return(0,P.jsx)(_.J9,{initialValues:(null!==u&&void 0!==u&&u.key&&(n.name=u.name,n.description=u.description),n),onSubmit:function(e,n){o(e,n)},validateOnBlur:!1,validateOnChange:!1,validationSchema:T.Ry().shape({name:T.Z_().required("Name is required")}),children:(0,P.jsx)(_.l0,{noValidate:!0,children:(0,P.jsxs)(t.gC,{align:"stretch",gap:"16px",children:[(0,P.jsx)(L.Z,{autoFocus:!0,disabled:!(null===u||void 0===u||!u.key),isRequired:!0,label:"Name",name:"name",placeholder:"Enter a friendly name for your new ".concat(d.human_readable," connection")}),(0,P.jsx)(L.Z,{label:"Description",name:"description",placeholder:"Enter a description for your new ".concat(d.human_readable," connection"),type:"textarea"}),(0,P.jsx)(V.h,{isSubmitting:i,onCancelClick:function(){s.push(F.JR)}})]})})})},W=function(e){var n=e.onConnectionCreated,r=(0,m.useDispatch)(),i=(0,x.V)(),o=i.errorAlert,l=i.successAlert,p=(0,h.HK)().handleError,v=(0,s.useState)(!1),y=v[0],b=v[1],j=(0,c.C)(a.ZZ),w=j.connection,k=j.connectionOption,O=(0,g.pH)(),C=(0,d.Z)(O,1)[0],S=function(){var e=(0,u.Z)(f().mark((function e(t,i){var s,c,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),c={access:"write",connection_type:null===k||void 0===k?void 0:k.identifier,description:t.description,disabled:!1,name:t.name,key:null===w||void 0===w?void 0:w.key},e.next=5,C(c).unwrap();case 5:u=e.sent,(null===(s=u.failed)||void 0===s?void 0:s.length)>0?o(u.failed[0].message):(r((0,a.lm)(u.succeeded[0])),l("Connector successfully ".concat(null!==w&&void 0!==w&&w.key?"updated":"added","!")),null!==w&&void 0!==w&&w.key||!n||n()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),p(e.t0);case 12:return e.prev=12,b(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(n,r){return e.apply(this,arguments)}}();return(0,P.jsxs)(t.gC,{align:"stretch",gap:"16px",children:[(0,P.jsxs)(t.xu,{color:"gray.700",fontSize:"14px",children:["To begin setting up your new ",k.human_readable," ","connector you must first assign a name to the connector and a description.",(0,P.jsx)("br",{}),(0,P.jsx)("br",{}),"Once you have completed this section you can then progress onto"," ",(0,P.jsx)(t.xv,{display:"inline-block",fontWeight:"700",children:"DSR customization"})," ","using the menu on the left hand side."]}),(0,P.jsx)(N,{defaultValues:{description:"",name:""},isSubmitting:y,onSaveClick:S})]})},q=function(e){var n=e.data,r=e.onConnectionCreated,i=e.onTestConnectionClick,o=(0,m.useDispatch)(),l=(0,x.V)(),p=l.errorAlert,v=l.successAlert,y=(0,h.HK)().handleError,b=(0,s.useState)(!1),j=b[0],w=b[1],k=(0,c.C)(a.ZZ),O=k.connection,C=k.connectionOption,S=(0,g.NG)(),_=(0,d.Z)(S,1)[0],E=(0,g.pH)(),z=(0,d.Z)(E,1)[0],Z=(0,g.Du)(),A=(0,d.Z)(Z,1)[0],R=function(){var e=(0,u.Z)(f().mark((function e(t,i){var s,c,l,u,d,h,x;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,w(!0),!O){e.next=20;break}return c={access:"write",connection_type:O.connection_type,description:t.description,disabled:!1,key:O.key,name:t.name},e.next=6,z(c).unwrap();case 6:if(l=e.sent,!((null===(s=l.failed)||void 0===s?void 0:s.length)>0)){e.next=11;break}p(l.failed[0].message),e.next=18;break;case 11:return o((0,a.lm)(l.succeeded[0])),u={connection_key:O.key,secrets:{}},Object.entries(n.properties).forEach((function(e){u.secrets[e[0]]=t[e[0]]})),e.next=16,A(u).unwrap();case 16:"failed"===(d=e.sent).test_status?p((0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("b",{children:"Message:"})," ",d.msg,(0,P.jsx)("br",{}),(0,P.jsx)("b",{children:"Failure Reason:"})," ",d.failure_reason]})):v("Connector successfully updated!");case 18:e.next=28;break;case 20:return h={description:t.description,name:t.name,instance_key:(0,I.E)(t.instance_key),saas_connector_type:C.identifier,secrets:{}},Object.entries(n.properties).forEach((function(e){h.secrets[e[0]]=t[e[0]]})),e.next=24,_(h).unwrap();case 24:x=e.sent,o((0,a.lm)(x.connection)),v("Connector successfully added!"),null===r||void 0===r||r();case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(0),y(e.t0);case 33:return e.prev=33,w(!1),e.finish(33);case 36:case"end":return e.stop()}}),e,null,[[0,30,33,36]])})));return function(n,r){return e.apply(this,arguments)}}();return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(t.xu,{color:"gray.700",fontSize:"14px",h:"80px",children:["Connect to your ",C.human_readable," environment by providing credential information below. Once you have saved your connector credentials, you can review what data is included when processing a privacy request in your Dataset configuration."]}),(0,P.jsx)(D,{data:n,defaultValues:{description:"",instance_key:"",name:""},isSubmitting:j,onSaveClick:R,onTestConnectionClick:i})]})},M=r(59252),H=r(10061),Y=function(e){var n,r,i=e.response,o=(0,c.C)(a.ZZ).connectionOption;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(t.iz,{color:"gray.100"}),(0,P.jsxs)(t.gC,{align:"flex-start",mt:"16px",children:["succeeded"===(null===(n=i.data)||void 0===n?void 0:n.test_status)&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(t.Ug,{children:[(0,P.jsxs)(t.X6,{as:"h5",color:"gray.700",size:"xs",children:["Successfully connected to ",o.human_readable]}),(0,P.jsx)(M.Vp,{colorScheme:"green",size:"sm",variant:"solid",children:"Success"})]}),(0,P.jsx)(t.xv,{color:"gray.500",fontSize:"sm",mt:"12px !important",children:(0,H.p6)(i.fulfilledTimeStamp)}),(0,P.jsx)(t.xu,{bg:"green.100",border:"1px solid",borderColor:"green.300",color:"green.700",mt:"16px",borderRadius:"6px",children:(0,P.jsxs)(t.Ug,{alignItems:"flex-start",margin:["14px","17px","14px","17px"],children:[(0,P.jsx)(S.St,{}),(0,P.jsxs)(t.xu,{children:[(0,P.jsx)(t.X6,{as:"h5",color:"green.500",fontWeight:"semibold",size:"xs",children:"Success message:"}),(0,P.jsx)(t.xv,{color:"gray.700",fontSize:"sm",fontWeight:"400",children:i.data.msg})]})]})})]}),"failed"===(null===(r=i.data)||void 0===r?void 0:r.test_status)&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(t.Ug,{children:[(0,P.jsxs)(t.X6,{as:"h5",color:"gray.700",size:"xs",children:["Output error to ",o.human_readable]}),(0,P.jsx)(M.Vp,{colorScheme:"red",size:"sm",variant:"solid",children:"Error"})]}),(0,P.jsx)(t.xv,{color:"gray.500",fontSize:"sm",mt:"12px !important",children:(0,H.p6)(i.fulfilledTimeStamp)}),(0,P.jsx)(t.xu,{bg:"red.50",border:"1px solid",borderColor:"red.300",color:"red.300",mt:"16px",borderRadius:"6px",children:(0,P.jsxs)(t.Ug,{alignItems:"flex-start",margin:["14px","17px","14px","17px"],children:[(0,P.jsx)(S.f9,{}),(0,P.jsxs)(t.xu,{children:[(0,P.jsx)(t.X6,{as:"h5",color:"red.500",fontWeight:"semibold",size:"xs",children:"Error message:"}),(0,P.jsx)(t.xv,{color:"gray.700",fontSize:"sm",fontWeight:"400",children:i.data.failure_reason}),(0,P.jsx)(t.xv,{color:"gray.700",fontSize:"sm",fontWeight:"400",children:i.data.msg})]})]})})]})]})]})},X=function(e){var n=e.onConnectionCreated,r=(0,s.useRef)(!1),u=(0,s.useState)(!0),d=u[0],p=u[1],f=(0,c.C)(a.ZZ).connectionOption,h=(0,a.n3)(f.identifier,{skip:d}),x=h.data,g=h.isFetching,m=h.isLoading,v=h.isSuccess,y=(0,s.useState)(),b=y[0],j=y[1],w=function(e){j(e)},k=(0,s.useCallback)((function(){switch(null===f||void 0===f?void 0:f.type){case l.Zi.DATABASE:if(v&&x)return(0,P.jsx)(A,{data:x,onConnectionCreated:n,onTestConnectionClick:w});break;case l.Zi.MANUAL:return(0,P.jsx)(W,{onConnectionCreated:n});case l.Zi.SAAS:if(v&&x)return(0,P.jsx)(q,{data:x,onConnectionCreated:n,onTestConnectionClick:w})}}),[null===f||void 0===f?void 0:f.type,x,v,n]);return(0,s.useEffect)((function(){return r.current=!0,(null===f||void 0===f?void 0:f.type)!==l.Zi.MANUAL&&p(!1),function(){r.current=!1}}),[null===f||void 0===f?void 0:f.type]),(0,P.jsxs)(t.kC,{gap:"97px",children:[(0,P.jsxs)(t.gC,{w:"579px",gap:"16px",align:"stretch",children:[(g||m)&&(0,P.jsx)(t.M5,{children:(0,P.jsx)(i.$,{})}),k()]}),b&&(0,P.jsxs)(o.Rg,{in:!0,children:[" ",(0,P.jsx)(t.xu,{mt:"16px",maxW:"528px",w:"fit-content",children:(0,P.jsx)(Y,{response:b})})]})]})}},95693:function(e,n,r){r.d(n,{Z:function(){return E}});var t=r(50029),i=r(16835),o=r(87794),a=r.n(o),s=r(1396),c=r(38351),l=r(70783),u=r(62254),d=r(24302),p=r(11163),f=r(67294),h=r(18459),x=r(97142),g=r(43894),m=r(56945),v=r(59252),y=r(63719),b=r(58477),j=r(1272),w=r(56661),k=r(5152),O=r.n(k),C=r(65028),S=r(85893),_=O()((function(){return r.e(9604).then(r.bind(r,19604)).then((function(e){return e.default}))}),{ssr:!1,loadableGenerated:{webpack:function(){return[19604]}}}),P=function(e){var n=e.data,r=void 0===n?[]:n,t=e.isSubmitting,i=void 0!==t&&t,o=e.onSubmit,a=(0,f.useRef)(null),c=(0,p.useRouter)(),l=(0,y.V)().errorAlert,u=r.length>0?j.ZP.dump(r):void 0,d=(0,f.useState)(void 0),x=d[0],k=d[1],O=(0,f.useState)(!1),P=O[0],E=O[1],z=(0,f.useState)(!u),Z=z[0],D=z[1],I=(0,C.h)().navV2;return(0,S.jsxs)(s.kC,{gap:"97px",children:[(0,S.jsxs)(s.gC,{align:"stretch",w:"918px",children:[(0,S.jsx)(s.iz,{color:"gray.100"}),(0,S.jsx)(_,{defaultLanguage:"yaml",defaultValue:u,height:I?"calc(100vh - 526px":"calc(100vh - 394px)",onChange:function(e){try{E(!0),function(e){j.ZP.load(e,{json:!0}),k(void 0)}(e),D(!(e&&""!==e.trim()))}catch(n){!function(e){return(0,w.Ln)({name:"string"},e)&&"YAMLException"===e.name}(n)?l("Could not parse the supplied YAML"):k(n)}},onMount:function(e,n){a.current=e,a.current.focus()},options:{fontFamily:"Menlo",fontSize:13,minimap:{enabled:!0}},theme:"light"}),(0,S.jsx)(s.iz,{color:"gray.100"}),(0,S.jsxs)(g.hE,{mt:"24px !important",size:"sm",spacing:"8px",variant:"outline",children:[(0,S.jsx)(g.zx,{onClick:function(){c.push(h.JR)},variant:"outline",children:"Cancel"}),(0,S.jsx)(g.zx,{bg:"primary.800",color:"white",isDisabled:Z||!!x||i,isLoading:i,loadingText:"Saving Yaml system",onClick:function(){var e=a.current.getValue(),n=j.ZP.load(e,{json:!0});o(n)},size:"sm",variant:"solid",type:"submit",_active:{bg:"primary.500"},_disabled:{opacity:"inherit"},_hover:{bg:"primary.400"},children:"Save Yaml system"})]})]}),P&&(Z||x)&&(0,S.jsx)(m.Rg,{in:!0,children:(0,S.jsxs)(s.xu,{w:"fit-content",children:[(0,S.jsx)(s.iz,{color:"gray.100"}),(0,S.jsxs)(s.Ug,{mt:"16px",children:[(0,S.jsx)(s.X6,{as:"h5",color:"gray.700",size:"xs",children:"YAML"}),(0,S.jsx)(v.Vp,{colorScheme:"red",size:"sm",variant:"solid",children:"Error"})]}),(0,S.jsx)(s.xu,{bg:"red.50",border:"1px solid",borderColor:"red.300",color:"red.300",mt:"16px",borderRadius:"6px",children:(0,S.jsxs)(s.Ug,{alignItems:"flex-start",margin:["14px","17px","14px","17px"],children:[(0,S.jsx)(b.f9,{}),Z&&(0,S.jsxs)(s.xu,{children:[(0,S.jsx)(s.X6,{as:"h5",color:"red.500",fontWeight:"semibold",size:"xs",children:"Error message:"}),(0,S.jsx)(s.xv,{color:"gray.700",fontSize:"sm",fontWeight:"400",children:"Yaml system is required"})]}),x&&(0,S.jsxs)(s.xu,{children:[(0,S.jsx)(s.X6,{as:"h5",color:"red.500",fontWeight:"semibold",size:"xs",children:"Error message:"}),(0,S.jsx)(s.xv,{color:"gray.700",fontSize:"sm",fontWeight:"400",children:x.message}),(0,S.jsx)(s.xv,{color:"gray.700",fontSize:"sm",fontWeight:"400",children:x.reason}),(0,S.jsxs)(s.xv,{color:"gray.700",fontSize:"sm",fontWeight:"400",children:["Ln ",(0,S.jsx)("b",{children:x.mark.line}),", Col"," ",(0,S.jsx)("b",{children:x.mark.column}),", Pos"," ",(0,S.jsx)("b",{children:x.mark.position})]})]})]})})]})})]})},E=function(){var e=(0,p.useRouter)(),n=(0,l.VY)(),r=n.errorAlert,o=n.successAlert,g=(0,l.HK)().handleError,m=(0,f.useState)(!1),v=m[0],y=m[1],b=(0,x.C)(u.ZZ).connection,j=(0,d.rt)(b.key),w=j.data,k=j.isFetching,O=j.isLoading,C=j.isSuccess,_=(0,d.EI)(),E=(0,i.Z)(_,1)[0],z=function(){var n=(0,t.Z)(a().mark((function n(t){var i,s,c;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,y(!0),s={connection_key:null===b||void 0===b?void 0:b.key,datasets:Array.isArray(t)?t:[t]},n.next=5,E(s).unwrap();case 5:c=n.sent,(null===(i=c.failed)||void 0===i?void 0:i.length)>0?r(c.failed[0].message):o("Dataset successfully updated!"),e.push(h.JR),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),g(n.t0);case 13:return n.prev=13,y(!1),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[0,10,13,16]])})));return function(e){return n.apply(this,arguments)}}();return(0,S.jsxs)(s.gC,{align:"stretch",flex:"1",children:[(0,S.jsx)(s.xu,{color:"gray.700",fontSize:"14px",mb:4,children:"View your system yaml below! You can also modify the yaml if you need to assign any references between datasets."}),(k||O)&&(0,S.jsx)(s.M5,{children:(0,S.jsx)(c.$,{})}),C&&null!==w&&void 0!==w&&w.items?(0,S.jsx)(P,{data:w.items,isSubmitting:v,onSubmit:z}):null]})}},70452:function(e,n,r){var t=r(59499),i=r(16835),o=r(4730),a=r(64598),s=r(1396),c=r(93893),l=r(7906),u=r(45431),d=r(58477),p=r(82175),f=r(85893),h=["disabled","displayHelpIcon","helpIconVisibility","isRequired","label","type"];function x(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function g(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?x(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}n.Z=function(e){var n=e.disabled,r=void 0!==n&&n,t=e.displayHelpIcon,x=void 0===t||t,m=e.helpIconVisibility,v=void 0!==m&&m,y=e.isRequired,b=void 0!==y&&y,j=e.label,w=e.type,k=void 0===w?"text":w,O=(0,o.Z)(e,h),C=(0,p.U$)(O),S=(0,i.Z)(C,2),_=S[0],P=S[1];return(0,f.jsxs)(a.NI,{display:"flex",isRequired:b,isInvalid:!(!P.error||!P.touched),children:[j&&(0,f.jsx)(a.lX,{color:"gray.900",fontSize:"14px",fontWeight:"semibold",htmlFor:O.id||O.name,minWidth:"150px",children:j}),(0,f.jsxs)(s.gC,{align:"flex-start",w:"inherit",children:["number"===k&&(0,f.jsxs)(c.Y2,{allowMouseWheel:!0,color:"gray.700",defaultValue:0,min:0,size:"sm",children:[(0,f.jsx)(c.zu,g(g({},_),{},{autoComplete:"off",autoFocus:O.autoFocus})),(0,f.jsxs)(c.Fi,{children:[(0,f.jsx)(c.WQ,{}),(0,f.jsx)(c.Y_,{})]})]}),"text"===k&&(0,f.jsx)(l.II,g(g({},_),{},{autoComplete:"off",autoFocus:O.autoFocus,color:"gray.700",isDisabled:r,placeholder:O.placeholder,size:"sm"})),"textarea"===k&&(0,f.jsx)(u.g,g(g({},_),{},{autoComplete:"off",autoFocus:O.autoFocus,color:"gray.700",placeholder:O.placeholder,resize:"none",size:"sm",value:_.value||""})),(0,f.jsx)(a.J1,{children:P.error})]}),x&&(0,f.jsx)(s.kC,{alignContent:"center",h:"32px",visibility:v?"visible":"hidden",children:(0,f.jsx)(d.IT,{marginLeft:"8px",_hover:{cursor:"pointer"}})})]})}},5404:function(e,n,r){r.d(n,{E:function(){return t},S:function(){return i}});var t=function(e){return e.toLowerCase().replace(/ /g,"_")},i=function(e,n){var r="".concat(window.location.origin+n,"&key=").concat(e);window.location.href.toLowerCase()!==r.toLowerCase()&&window.history.replaceState(null,"",r)}},16410:function(e,n,r){r.d(n,{h:function(){return o}});var t=r(43894),i=(r(67294),r(85893)),o=function(e){var n=e.isSubmitting,r=void 0!==n&&n,o=e.onCancelClick;return(0,i.jsxs)(t.hE,{size:"sm",spacing:"8px",variant:"outline",children:[(0,i.jsx)(t.zx,{onClick:o,variant:"outline",children:"Cancel"}),(0,i.jsx)(t.zx,{bg:"primary.800",color:"white",isDisabled:r,isLoading:r,loadingText:"Submitting",size:"sm",variant:"solid",type:"submit",_active:{bg:"primary.500"},_disabled:{opacity:"inherit"},_hover:{bg:"primary.400"},children:"Save"})]})}},98643:function(e,n,r){r.d(n,{Z:function(){return S}});var t=r(59499),i=r(50029),o=r(16835),a=r(87794),s=r.n(a),c=r(1396),l=r(38351),u=r(70783),d=r(62254),p=r(24302),f=r(11163),h=r(67294),x=r(18459),g=r(97142),m=r(58477),v=r(82175),y=r(74231),b=r(70452),j=r(16410),w=r(85893),k=function(e){var n=e.data,r=void 0===n?[]:n,t=e.isSubmitting,i=void 0!==t&&t,o=e.onSaveClick,a=(0,f.useRouter)(),s=(0,u.VY)().errorAlert,l=function(){a.push(x.JR)};return(0,w.jsx)(v.J9,{enableReinitialize:!0,initialValues:{fields:r.length>0?r:[{pii_field:"",dsr_package_label:""}]},onSubmit:function(e,n){new Set(e.fields.map((function(e){return e.pii_field}))).size<e.fields.length?s("PII Field must be unique"):o(e,n)},validateOnBlur:!1,validateOnChange:!1,validationSchema:y.Ry({fields:y.IX().of(y.Ry().shape({pii_field:y.Z_().required("PII Field is required").min(1,"PII Field must have at least one character").max(200,"PII Field has a maximum of 200 characters").label("PII Field"),dsr_package_label:y.Z_().required("DSR Package Label is required").min(1,"DSR Package Label must have at least one character").max(200,"DSR Package Label has a maximum of 200 characters").label("DSR Package Label")}))}),children:function(e){return(0,w.jsx)(v.l0,{style:{marginTop:0},noValidate:!0,children:(0,w.jsx)(c.gC,{align:"stretch",children:(0,w.jsx)(v.F2,{name:"fields",render:function(n){var r=e.values.fields;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(c.Ug,{color:"gray.900",flex:"1",fontSize:"14px",fontWeight:"semibold",lineHeight:"20px",mb:"6px",spacing:"24px",children:[(0,w.jsx)(c.xu,{w:"416px",children:"PII Field"}),(0,w.jsx)(c.xu,{w:"416px",children:"DSR Package Label"}),(0,w.jsx)(c.xu,{})]}),(0,w.jsx)(c.xu,{maxH:"calc(100vh - 484px)",paddingRight:"13px",overflow:"auto",children:r&&r.length>0?r.map((function(e,r){return(0,w.jsxs)(c.Ug,{mt:r>0?"12px":void 0,spacing:"24px",children:[(0,w.jsx)(c.xu,{h:"57px",w:"416px",children:(0,w.jsx)(b.Z,{autoFocus:0===r,displayHelpIcon:!1,isRequired:!0,name:"fields.".concat(r,".pii_field")})}),(0,w.jsx)(c.xu,{h:"57px",w:"416px",children:(0,w.jsx)(b.Z,{displayHelpIcon:!1,isRequired:!0,name:"fields.".concat(r,".dsr_package_label")})}),(0,w.jsx)(c.xu,{h:"57px",visibility:r>0?"visible":"hidden",children:(0,w.jsx)(m.lr,{onClick:function(){return n.remove(r)},_hover:{cursor:"pointer"}})})]},r)})):null}),(0,w.jsx)(c.xv,{color:"complimentary.500",fontWeight:"medium",fontSize:"sm",mb:"24px !important",mt:"24px !important",onClick:function(){n.push({pii_field:"",dsr_package_label:""})},_hover:{cursor:"pointer"},children:"Add new PII field"}),(0,w.jsx)(j.h,{isSubmitting:i,onCancelClick:l})]})}})})})}})};function O(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function C(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?O(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var S=function(){var e=(0,h.useRef)(!1),n=(0,f.useRouter)(),r=(0,u.VY)().successAlert,t=(0,u.HK)().handleError,a=(0,h.useState)(!1),m=a[0],v=a[1],y=(0,h.useState)([]),b=y[0],j=y[1],O=(0,g.C)(d.ZZ).connection,S=(0,p.QV)(O.key),_=S.data,P=S.isFetching,E=S.isLoading,z=S.isSuccess,Z=(0,p.jF)(),D=(0,o.Z)(Z,1)[0],I=(0,p._d)(),A=(0,o.Z)(I,1)[0],R=function(){var e=(0,i.Z)(s().mark((function e(i,o){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,v(!0),a={connection_key:null===O||void 0===O?void 0:O.key,body:C({},i)},!(b.length>0)){e.next=8;break}return e.next=6,A(a).unwrap();case 6:e.next=10;break;case 8:return e.next=10,D(a).unwrap();case 10:r("DSR customization ".concat(b.length>0?"updated":"added","!")),n.push(x.JR),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),t(e.t0);case 17:return e.prev=17,v(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})));return function(n,r){return e.apply(this,arguments)}}();return(0,h.useEffect)((function(){return e.current=!0,z&&_&&j(_.fields),function(){e.current=!1}}),[_,z]),(0,w.jsxs)(c.gC,{align:"stretch",gap:"16px",children:[(0,w.jsx)(c.xu,{color:"gray.700",fontSize:"14px",w:"572px",children:"Customize your PII fields to create a friendly label name for your privacy request packages. This \u201cPackage Label\u201d is the label your user will see in their downloaded package."}),(P||E)&&(0,w.jsx)(c.M5,{children:(0,w.jsx)(l.$,{})}),e.current&&!E?(0,w.jsx)(k,{data:b,isSubmitting:m,onSaveClick:R}):null]})}},27396:function(e,n,r){r.d(n,{Bw:function(){return a},D4:function(){return i},Dy:function(){return c},XD:function(){return l},cz:function(){return u},hE:function(){return s},oK:function(){return o}});var t=r(56661),i=function(e){return"error"in e},o=function(e){return(0,t.Ln)({status:"string"},e)&&"PARSING_ERROR"===e.status},a=function(e){return(0,t.Ln)({status:"number",data:{}},e)},s=function(e){return(0,t.Ln)({detail:"string"},e)},c=function(e){return(0,t.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e)},l=function(e){return(0,t.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e)},u=function(e){return(0,t.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},e)}},56661:function(e,n,r){r.d(n,{Ln:function(){return t}});const t=(e,n)=>o(e,n),i=Symbol("SOME"),o=(e,n)=>{if("string"==typeof e)return e===typeof n;if(Array.isArray(e))return i in e?e.some((e=>o(e,n))):!!Array.isArray(n)&&(0===e.length||n.every((n=>e.some((e=>o(e,n))))));if("object"!=typeof n||null===n)return!1;const r=n;return Object.entries(e).every((([e,n])=>o(n,r[e])))};class a{static narrow(e){return new a((n=>t(e,n)))}constructor(e){this.NF=void 0,this.NF=e}satisfied(e){return this.NF(e)}build(e){return e}and(e){const n=this.NF,r=e instanceof a?e.NF:e instanceof Function?e:n=>t(e,n);return new a((e=>n(e)&&r(e)))}}new a((e=>!0))}}]);