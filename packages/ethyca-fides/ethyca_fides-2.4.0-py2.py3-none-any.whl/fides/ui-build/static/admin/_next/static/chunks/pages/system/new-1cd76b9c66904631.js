(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[282],{42953:function(e,t,r){"use strict";var n=r(50029),s=r(87794),i=r.n(s),a=r(1396),o=r(43894),u=r(82175),c=r(1272),l=r(96016),d=r(65698),m=r(85893),f={yaml:""};t.Z=function(e){var t=e.description,r=e.submitButtonText,s=e.onCreate,p=e.onSuccess,h=function(){var e=(0,n.Z)(i().mark((function e(t,r){var n,a,o,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.setErrors,a=c.ZP.load(t.yaml,{json:!0}),e.next=4,s(a);case 4:"error"in(o=e.sent)?(u=(0,d.e$)(o.error),n({yaml:u})):"data"in o&&p(o.data);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return(0,m.jsx)(u.J9,{initialValues:f,validate:function(e){try{if(!c.ZP.load(e.yaml,{json:!0}))return{yaml:"Could not parse the supplied YAML"}}catch(t){return(0,d.FM)(t)?{yaml:"Could not parse the supplied YAML: \n\n".concat(t.message)}:{yaml:"Could not parse the supplied YAML"}}return{}},onSubmit:h,validateOnChange:!1,validateOnBlur:!1,children:function(e){var n=e.isSubmitting;return(0,m.jsxs)(u.l0,{children:[(0,m.jsx)(a.xv,{size:"sm",color:"gray.700",mb:4,children:t}),(0,m.jsx)(a.xu,{mb:4,whiteSpace:"pre-line",fontFamily:"Menlo",children:(0,m.jsx)(l.Ks,{name:"yaml",textAreaProps:{fontWeight:400,lineHeight:"150%",color:"gray.800",fontSize:"13px",height:"50vh",width:"100%",mb:"2"}})}),(0,m.jsx)(o.zx,{size:"sm",colorScheme:"primary",type:"submit",disabled:n,"data-testid":"submit-yaml-btn",children:r})]})}})}},10846:function(e,t,r){"use strict";r.d(t,{V:function(){return m},t:function(){return d}});var n=r(59499),s=r(1396),i=r(85893);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=function(e){var t=e.message;return(0,i.jsxs)(s.xv,{"data-testid":"toast-success-msg",children:[(0,i.jsx)("strong",{children:"Success:"})," ",t]})},c=function(e){var t=e.message;return(0,i.jsxs)(s.xv,{"data-testid":"toast-error-msg",children:[(0,i.jsx)("strong",{children:"Error:"})," ",t]})},l={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},d=function(e){var t=(0,i.jsx)(u,{message:e});return o(o({},l),{description:t})},m=function(e){var t=(0,i.jsx)(c,{message:e});return o(o({},l),{description:t,status:"error"})}},89674:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var n=r(1396),s=r(77336),i=r(43894),a=r(41664),o=r.n(a),u=r(67294),c=r(97142),l=r(84247),d=r(32523),m=r(50029),f=r(16835),p=r(87794),h=r.n(p),y=r(9555),x=r(11163),j=r(10846),v=r(42953),b=r(85893);var g=function(){var e=(0,d.f7)(),t=(0,f.Z)(e,1)[0],r=(0,y.pm)(),n=(0,x.useRouter)(),s=function(){var e=(0,m.Z)(h().mark((function e(r){var n,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"object"===typeof(i=r)&&null!=i&&"system"in i&&Array.isArray(i.system)?(s=(0,f.Z)(r.system,1),n=s[0]):n=r,e.abrupt("return",t(n));case 2:case"end":return e.stop()}var i}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,b.jsx)(v.Z,{description:"Get started creating your system by pasting your system YAML below! You may have received this YAML from a colleague or your Ethyca developer support engineer.",submitButtonText:"Create system",onCreate:s,onSuccess:function(){r((0,j.t)("Successfully loaded new system YAML")),n.push("/system")}})},w=function(){var e=(0,c.T)(),t=(0,u.useState)(!1),r=t[0],a=t[1];return(0,u.useEffect)((function(){e((0,d.db)(void 0))}),[e]),(0,b.jsxs)(l.Z,{title:"Systems",children:[(0,b.jsx)(n.X6,{mb:2,fontSize:"2xl",fontWeight:"semibold",children:"Create a new system"}),(0,b.jsx)(n.xu,{mb:8,children:(0,b.jsxs)(s.aG,{fontWeight:"medium",fontSize:"sm",color:"gray.600",children:[(0,b.jsx)(s.gN,{children:(0,b.jsx)(o(),{href:"/system",children:"System Connections"})}),(0,b.jsx)(s.gN,{children:(0,b.jsx)(o(),{href:"#",children:"Create a new system"})})]})}),(0,b.jsxs)(n.Kq,{spacing:8,children:[(0,b.jsx)(n.xu,{w:{base:"100%",lg:"50%"},children:(0,b.jsx)(n.xv,{children:"Choose whether to upload a new system YAML or manually generate a system."})}),(0,b.jsxs)(n.xu,{children:[(0,b.jsx)(i.zx,{size:"sm",mr:2,variant:"outline",onClick:function(){return a(!0)},isActive:r,"data-testid":"upload-yaml-btn",children:"Upload a new system YAML"}),(0,b.jsx)(i.zx,{size:"sm",variant:"outline","data-testid":"manually-generate-btn",children:(0,b.jsx)(o(),{href:"/system/new/configure",children:"Manually generate a system"})})]}),(0,b.jsx)(n.xu,{w:{base:"100%",lg:"50%"},children:r?(0,b.jsx)(g,{}):null})]})]})}},40416:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/system/new",function(){return r(89674)}])}},function(e){e.O(0,[5472,8271,4660,4247,7080,9774,2888,179],(function(){return t=40416,e(e.s=t);var t}));var t=e.O();_N_E=t}]);