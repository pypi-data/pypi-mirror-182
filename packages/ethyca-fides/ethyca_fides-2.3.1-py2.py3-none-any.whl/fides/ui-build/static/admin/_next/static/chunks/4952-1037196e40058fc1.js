"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4952],{90710:function(e,r,t){var n=t(59252),i=(t(67294),t(85893));r.Z=function(e){var r=e.daysLeft,t=e.includeText;if(!r)return null;var o="";switch(!0){case r>=10:o="green.500";break;case r<10&&r>4:o="orange.500";break;case r<5:o="red.400"}var a=t?"".concat(r," days left"):r;return(0,i.jsx)(n.Vp,{backgroundColor:o,color:"white",children:a})}},1258:function(e,r,t){t.d(r,{Z:function(){return u}});var n=t(14416),i=t(70918),o=function(e){var r=(0,n.useSelector)(i.hG);return r||r?e:e.replace(/./g,"*")},a=(t(67294),t(85893)),u=function(e){var r=e.data;return(0,a.jsx)(a.Fragment,{children:o(r)})}},26012:function(e,r,t){var n=t(78254),i=t(70918),o=(t(67294),t(14416)),a=t(85893);r.Z=function(){var e=(0,o.useDispatch)();return(0,a.jsx)(n.r,{colorScheme:"secondary",onChange:function(r){return e((0,i.dX)(r.target.checked))}})}},9234:function(e,r,t){var n=t(1396),i=t(85893),o={approved:{bg:"yellow.500",label:"Approved"},complete:{bg:"green.500",label:"Completed"},denied:{bg:"red.500",label:"Denied"},canceled:{bg:"red.600",label:"Canceled"},error:{bg:"red.800",label:"Error"},in_processing:{bg:"orange.500",label:"In Progress"},paused:{bg:"gray.400",label:"Paused"},pending:{bg:"blue.400",label:"New"},identity_unverified:{bg:"red.400",label:"Unverified"},requires_input:{bg:"yellow.400",label:"Requires Input"}};r.Z=function(e){var r=e.status;return(0,i.jsx)(n.Ct,{color:"white",bg:o[r].bg,width:107,lineHeight:"18px",textAlign:"center",children:o[r].label})}},65698:function(e,r,t){t.d(r,{D4:function(){return i.D4},FM:function(){return u},MM:function(){return d},Ot:function(){return c},e$:function(){return a},nU:function(){return l},tB:function(){return s}});var n=t(56661),i=t(27396),o="An unexpected error occurred. Please try again.",a=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;if((0,i.Bw)(e)){if((0,i.hE)(e.data))return e.data.detail;if((0,i.cz)(e.data)){var t,n=null===(t=e.data.detail)||void 0===t?void 0:t[0];return"".concat(null===n||void 0===n?void 0:n.msg,": ").concat(null===n||void 0===n?void 0:n.loc)}if(409===e.status&&(0,i.Dy)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")");if(404===e.status&&(0,i.XD)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")")}return r},u=function(e){return(0,n.Ln)({name:"string"},e)&&"YAMLException"===e.name};function c(e){return"object"===typeof e&&null!=e&&"data"in e&&"string"===typeof e.data.detail}function s(e){return"object"===typeof e&&null!=e&&"data"in e&&Array.isArray(e.data.detail)}var l=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:o};if((0,i.oK)(e))return{status:e.originalStatus,message:e.data};if((0,i.Bw)(e)){var t=e.status;return{status:t,message:a(e,r.message)}}return r},d=function(e){return Object.entries(e).map((function(e){return{value:e[1],label:e[1]}}))}},70783:function(e,r,t){t.d(r,{HK:function(){return o},VY:function(){return n.V}});var n=t(63719),i=t(65698),o=function(){var e=(0,n.V)().errorAlert;return{handleError:function(r){var t="An unexpected error occurred. Please try again.";(0,i.Ot)(r)?t=r.data.detail:(0,i.tB)(r)&&(t=r.data.detail[0].msg),e(t)}}};t(67294)},63719:function(e,r,t){t.d(r,{V:function(){return d}});var n=t(59499),i=t(9555),o=t(34532),a=t(1396),u=t(46995),c=t(85893);function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var d=function(){var e=(0,i.pm)();return{errorAlert:function(r,t,n){var i=l(l({},n),{},{position:(null===n||void 0===n?void 0:n.position)||"top",render:function(e){var n=e.onClose;return(0,c.jsxs)(o.bZ,{alignItems:"normal",status:"error",children:[(0,c.jsx)(o.zM,{}),(0,c.jsxs)(a.xu,{children:[t&&(0,c.jsx)(o.Cd,{children:t}),(0,c.jsx)(o.X,{children:r})]}),(0,c.jsx)(u.P,{onClick:n,position:"relative",right:0,size:"sm",top:-1})]})}});null!==n&&void 0!==n&&n.id&&e.isActive(n.id)?e.update(n.id,i):e(i)},successAlert:function(r,t,n){var i=l(l({},n),{},{position:(null===n||void 0===n?void 0:n.position)||"top",render:function(e){var n=e.onClose;return(0,c.jsxs)(o.bZ,{alignItems:"normal",status:"success",variant:"subtle",children:[(0,c.jsx)(o.zM,{}),(0,c.jsxs)(a.xu,{children:[t&&(0,c.jsx)(o.Cd,{children:t}),(0,c.jsx)(o.X,{children:r})]}),(0,c.jsx)(u.P,{onClick:n,position:"relative",right:0,size:"sm",top:-1})]})}});null!==n&&void 0!==n&&n.id&&e.isActive(n.id)?e.update(n.id,i):e(i)}}}},1521:function(e,r,t){var n=t(59499),i=t(50029),o=t(16835),a=t(87794),u=t.n(a),c=t(52565),s=t(1396),l=t(43894),d=t(67294),f=t(97142),p=t(65698),g=t(70783),v=t(70918),b=t(85893);function h(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function y(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?h(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var j=(0,c.Gp)((function(e,r){var t=e.buttonProps,n=e.subjectRequest,a=(0,f.T)(),c=(0,d.useState)(!1),h=c[0],j=c[1],m=(0,g.VY)(),x=m.errorAlert,O=m.successAlert,w=(0,f.C)(v.fe).errorRequests,P=(0,v.JD)(),D=(0,o.Z)(P,1)[0],k=(0,v.Fq)(),A=(0,o.Z)(k,1)[0],_=function(){var e=(0,i.Z)(u().mark((function e(){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,D(w);case 3:"error"in(r=e.sent)?(a((0,v.uT)({checkAll:!1,errorRequests:[]})),x((0,p.e$)(r.error),"DSR batch automation has failed due to the following:",{duration:null})):(r.data.failed.length>0&&x((0,b.jsxs)(s.xu,{children:["DSR automation has failed for"," ",(0,b.jsx)(s.xv,{as:"span",fontWeight:"semibold",children:r.data.failed.length})," ","privacy request(s). Please review the event log for further details."]}),void 0,{containerStyle:{maxWidth:"max-content"},duration:null}),r.data.succeeded.length>0&&O("Privacy request(s) are now being reprocessed.")),j(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=(0,i.Z)(u().mark((function e(){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return j(!0),e.next=5,A(n);case 5:"error"in(r=e.sent)?x((0,p.e$)(r.error),"DSR automation has failed for this privacy request due to the following:",{duration:null}):O("Privacy request is now being reprocessed."),j(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,b.jsx)(l.zx,y(y({},t),{},{isDisabled:h,isLoading:h,loadingText:"Reprocessing",onClick:n?C:_,ref:r,spinnerPlacement:"end",variant:"outline",_hover:{bg:"gray.100"},_loading:{opacity:1,div:{opacity:.4}},children:"Reprocess"}))}));r.Z=j},27396:function(e,r,t){t.d(r,{Bw:function(){return a},D4:function(){return i},Dy:function(){return c},XD:function(){return s},cz:function(){return l},hE:function(){return u},oK:function(){return o}});var n=t(56661),i=function(e){return"error"in e},o=function(e){return(0,n.Ln)({status:"string"},e)&&"PARSING_ERROR"===e.status},a=function(e){return(0,n.Ln)({status:"number",data:{}},e)},u=function(e){return(0,n.Ln)({detail:"string"},e)},c=function(e){return(0,n.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e)},s=function(e){return(0,n.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e)},l=function(e){return(0,n.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},e)}}}]);