(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5023],{49198:function(e,n,t){"use strict";t.d(n,{Ee:function(){return h}});var r=t(52565),i=t(89816),s=t(67294),a=t(6905);function o(){return o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},o.apply(this,arguments)}function c(e,n){if(null==e)return{};var t,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}var l=["htmlWidth","htmlHeight","alt"],u=["fallbackSrc","fallback","src","srcSet","align","fit","loading","ignoreFallback","crossOrigin"],d=s.forwardRef((function(e,n){var t=e.htmlWidth,r=e.htmlHeight,i=e.alt,a=c(e,l);return s.createElement("img",o({width:t,height:r,ref:n,alt:i},a))})),h=(0,r.Gp)((function(e,n){var t=e.fallbackSrc,l=e.fallback,h=e.src,p=e.srcSet,f=e.align,m=e.fit,x=e.loading,g=e.ignoreFallback,j=e.crossOrigin,y=c(e,u),v=null!=x||g||void 0===t&&void 0===l,b=function(e){var n=e.loading,t=e.src,r=e.srcSet,i=e.onLoad,o=e.onError,c=e.crossOrigin,l=e.sizes,u=e.ignoreFallback,d=(0,s.useState)("pending"),h=d[0],p=d[1];(0,s.useEffect)((function(){p(t?"loading":"pending")}),[t]);var f=(0,s.useRef)(),m=(0,s.useCallback)((function(){if(t){x();var e=new Image;e.src=t,c&&(e.crossOrigin=c),r&&(e.srcset=r),l&&(e.sizes=l),n&&(e.loading=n),e.onload=function(e){x(),p("loaded"),null==i||i(e)},e.onerror=function(e){x(),p("failed"),null==o||o(e)},f.current=e}}),[t,c,r,l,i,o,n]),x=function(){f.current&&(f.current.onload=null,f.current.onerror=null,f.current=null)};return(0,a.a)((function(){if(!u)return"loading"===h&&m(),function(){x()}}),[h,m,u]),u?"loaded":h}(o({},e,{ignoreFallback:v})),w=o({ref:n,objectFit:m,objectPosition:f},v?y:(0,i.CE)(y,["onError","onLoad"]));return"loaded"!==b?l||s.createElement(r.m$.img,o({as:d,className:"chakra-image__placeholder",src:t},w)):s.createElement(r.m$.img,o({as:d,src:h,srcSet:p,crossOrigin:j,loading:x,className:"chakra-image"},w))}));i.Ts&&(h.displayName="Image")},35839:function(e,n,t){"use strict";t.d(n,{u:function(){return v}});var r=t(11938),i=t(83739),s=t(52565),a=t(89816),o=t(23438),c=t(54815),l=t(14332),u=t(67294),d=t(20650),h=t(6905),p=t(40125);function f(){return f=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},f.apply(this,arguments)}function m(e,n){if(null==e)return{};var t,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}var x={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},g=["openDelay","closeDelay","closeOnClick","closeOnMouseDown","onOpen","onClose","placement","id","isOpen","defaultIsOpen","arrowSize","arrowShadowColor","arrowPadding","modifiers","isDisabled","gutter","offset","direction"];var j=["children","label","shouldWrapChildren","aria-label","hasArrow","bg","portalProps","background","backgroundColor","bgColor"],y=(0,s.m$)(c.E.div),v=(0,s.Gp)((function(e,n){var t,c,v=(0,s.mq)("Tooltip",e),b=(0,s.Lr)(e),w=(0,s.Fg)(),O=b.children,k=b.label,C=b.shouldWrapChildren,S=b["aria-label"],z=b.hasArrow,_=b.bg,P=b.portalProps,A=b.background,D=b.backgroundColor,T=b.bgColor,E=m(b,j),I=null!=(t=null!=(c=null!=A?A:D)?c:_)?t:T;I&&(v.bg=I,v[r.j.arrowBg.var]=(0,a.K1)(w,"colors",I));var F,q=function(e){void 0===e&&(e={});var n=e,t=n.openDelay,i=void 0===t?0:t,s=n.closeDelay,o=void 0===s?0:s,c=n.closeOnClick,l=void 0===c||c,x=n.closeOnMouseDown,j=n.onOpen,y=n.onClose,v=n.placement,b=n.id,w=n.isOpen,O=n.defaultIsOpen,k=n.arrowSize,C=void 0===k?10:k,S=n.arrowShadowColor,z=n.arrowPadding,_=n.modifiers,P=n.isDisabled,A=n.gutter,D=n.offset,T=n.direction,E=m(n,g),I=(0,d.qY)({isOpen:w,defaultIsOpen:O,onOpen:j,onClose:y}),F=I.isOpen,q=I.onOpen,K=I.onClose,W=(0,r.D)({enabled:F,placement:v,arrowPadding:z,modifiers:_,gutter:A,offset:D,direction:T}),Z=W.referenceRef,R=W.getPopperProps,U=W.getArrowInnerProps,M=W.getArrowProps,L=(0,d.Me)(b,"tooltip"),N=u.useRef(null),Y=u.useRef(),B=u.useRef(),X=u.useCallback((function(){P||(Y.current=window.setTimeout(q,i))}),[P,q,i]),$=u.useCallback((function(){Y.current&&clearTimeout(Y.current),B.current=window.setTimeout(K,o)}),[o,K]),G=u.useCallback((function(){l&&$()}),[l,$]),H=u.useCallback((function(){x&&$()}),[x,$]),V=u.useCallback((function(e){F&&"Escape"===e.key&&$()}),[F,$]);(0,h.b)("keydown",V),u.useEffect((function(){return function(){clearTimeout(Y.current),clearTimeout(B.current)}}),[]),(0,h.b)("mouseleave",$,(function(){return N.current}));var Q=u.useCallback((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),f({},e,{ref:(0,p.lq)(N,n,Z),onMouseEnter:(0,a.v0)(e.onMouseEnter,X),onClick:(0,a.v0)(e.onClick,G),onMouseDown:(0,a.v0)(e.onMouseDown,H),onFocus:(0,a.v0)(e.onFocus,X),onBlur:(0,a.v0)(e.onBlur,$),"aria-describedby":F?L:void 0})}),[X,$,H,F,L,G,Z]),J=u.useCallback((function(e,n){var t;return void 0===e&&(e={}),void 0===n&&(n=null),R(f({},e,{style:f({},e.style,(t={},t[r.j.arrowSize.var]=C?(0,a.px)(C):void 0,t[r.j.arrowShadowColor.var]=S,t))}),n)}),[R,C,S]),ee=u.useCallback((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),f({ref:n},E,e,{id:L,role:"tooltip",style:f({},e.style,{position:"relative",transformOrigin:r.j.transformOrigin.varRef})})}),[E,L]);return{isOpen:F,show:X,hide:$,getTriggerProps:Q,getTooltipProps:ee,getTooltipPositionerProps:J,getArrowProps:M,getArrowInnerProps:U}}(f({},E,{direction:w.direction}));if((0,a.HD)(O)||C)F=u.createElement(s.m$.span,f({tabIndex:0},q.getTriggerProps()),O);else{var K=u.Children.only(O);F=u.cloneElement(K,q.getTriggerProps(K.props,K.ref))}var W=!!S,Z=q.getTooltipProps({},n),R=W?(0,a.CE)(Z,["role","id"]):Z,U=(0,a.ei)(Z,["role","id"]);return k?u.createElement(u.Fragment,null,F,u.createElement(l.M,null,q.isOpen&&u.createElement(i.h_,P,u.createElement(s.m$.div,f({},q.getTooltipPositionerProps(),{__css:{zIndex:v.zIndex,pointerEvents:"none"}}),u.createElement(y,f({variants:x},R,{initial:"exit",animate:"enter",exit:"exit",__css:v}),k,W&&u.createElement(o.TX,U,S),z&&u.createElement(s.m$.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper"},u.createElement(s.m$.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:v.bg}}))))))):u.createElement(u.Fragment,null,O)}));a.Ts&&(v.displayName="Tooltip")},16488:function(e,n,t){"use strict";t.d(n,{s:function(){return u}});var r=t(75568),i=t(43894),s=t(1396),a=t(12156),o=t(67294),c=t(58477),l=t(85893),u=function(e){var n=e.allColumns,t=e.selectedColumns,u=e.onChange,d=(0,o.useMemo)((function(){var e=new Map;return n.forEach((function(n){return e.set(n.name,!!t.find((function(e){return e.name===n.name})))})),e}),[n,t]),h=function(){d.forEach((function(e,n){return d.set(n,!1)})),u([])},p=function(e){var t,r=null!==(t=d.get(e.name))&&void 0!==t&&t;d.set(e.name,!r),u(n.filter((function(e){return d.get(e.name)})))};return(0,l.jsx)(r.v2,{children:function(e){var o=e.onClose;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.j2,{as:i.zx,rightIcon:(0,l.jsx)(c.mC,{}),variant:"outline",fontWeight:"normal","data-testid":"column-dropdown",children:"Columns"}),(0,l.jsx)(r.qy,{children:(0,l.jsxs)(s.xu,{px:2,children:[(0,l.jsxs)(s.xu,{display:"flex",justifyContent:"space-between",mb:2,children:[(0,l.jsx)(i.zx,{variant:"outline",size:"xs",onClick:h,"data-testid":"column-clear-btn",children:"Clear"}),(0,l.jsx)(i.zx,{size:"xs",colorScheme:"primary",onClick:o,"data-testid":"column-done-btn",children:"Done"})]}),(0,l.jsx)(a.cO,{colorScheme:"complimentary",children:(0,l.jsx)(s.Kq,{children:n.map((function(e){var n=t.filter((function(n){return n.name===e.name})).length>0;return(0,l.jsx)(a.XZ,{id:e.name,_hover:{bg:"gray.100"},isChecked:n,onChange:function(){return p(e)},"data-testid":"checkbox-".concat(e.name),children:e.name},e.name)}))})})]})})]})}})}},79145:function(e,n,t){"use strict";var r=t(59499),i=t(4730),s=t(1396),a=t(85893),o=["connected"];function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}n.Z=function(e){var n=e.connected,t=(0,i.Z)(e,o),l="red.500";return null==n?l="gray.300":n&&(l="green.500"),(0,a.jsx)(s.xu,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({width:"12px",height:"12px",borderRadius:"6px",backgroundColor:l},t))}},37903:function(e,n,t){"use strict";t.d(n,{Rt:function(){return d},cK:function(){return h}});var r=t(59499),i=t(27812),s=t(1396),a=t(35922),o=t(12156),c=t(85893);function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var d=function(e){var n,t,r,i,a=e.system,o=e.attribute;return"name"===o?(0,c.jsx)("label",{htmlFor:"checkbox-".concat(a.fides_key),children:a.name}):"fidesctl_meta.resource_id"===o?(0,c.jsx)(s.xu,{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",title:null===(n=a.fidesctl_meta)||void 0===n?void 0:n.resource_id,children:null===(t=a.fidesctl_meta)||void 0===t?void 0:t.resource_id}):(0,c.jsx)(c.Fragment,{children:(r=a,i=o,i.split(".").reduce((function(e,n){return e?e[n]:void 0}),r))})},h=function(e){var n=e.allSystems,t=e.checked,r=e.onChange,l=e.columns,h=e.tableHeadProps,p=function(e){var n=t.indexOf(e)>=0;r(n?t.filter((function(n){return n.fides_key!==e.fides_key})):[].concat((0,i.Z)(t),[e]))},f=n.length===t.length;return 0===l.length?(0,c.jsx)(s.xv,{children:"No columns selected to display"}):(0,c.jsxs)(a.iA,{size:"sm",sx:{tableLayout:"fixed"},children:[(0,c.jsx)(a.hr,u(u({},h),{},{children:(0,c.jsxs)(a.Tr,{children:[(0,c.jsx)(a.Th,{width:"15px",children:(0,c.jsx)(o.XZ,{colorScheme:"complimentary",title:"Select All",isChecked:f,onChange:function(e){e.target.checked?r(n):r([])}})}),l.map((function(e){return(0,c.jsx)(a.Th,{children:e.name},e.attribute)}))]})})),(0,c.jsx)(a.p3,{children:n.map((function(e){return(0,c.jsxs)(a.Tr,{children:[(0,c.jsx)(a.Td,{children:(0,c.jsx)(o.XZ,{colorScheme:"complimentary",value:e.fides_key,isChecked:t.indexOf(e)>=0,onChange:function(){return p(e)},"data-testid":"checkbox-".concat(e.fides_key)})}),l.map((function(n){return(0,c.jsx)(a.Td,{children:(0,c.jsx)(d,{system:e,attribute:n.attribute})},n.attribute)}))]},e.fides_key)}))})]})}},70783:function(e,n,t){"use strict";t.d(n,{HK:function(){return s},VY:function(){return r.V}});var r=t(63719),i=t(65698),s=function(){var e=(0,r.V)().errorAlert;return{handleError:function(n){var t="An unexpected error occurred. Please try again.";(0,i.Ot)(n)?t=n.data.detail:(0,i.tB)(n)&&(t=n.data.detail[0].msg),e(t)}}};t(67294)},63719:function(e,n,t){"use strict";t.d(n,{V:function(){return d}});var r=t(59499),i=t(9555),s=t(34532),a=t(1396),o=t(46995),c=t(85893);function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var d=function(){var e=(0,i.pm)();return{errorAlert:function(n,t,r){var i=u(u({},r),{},{position:(null===r||void 0===r?void 0:r.position)||"top",render:function(e){var r=e.onClose;return(0,c.jsxs)(s.bZ,{alignItems:"normal",status:"error",children:[(0,c.jsx)(s.zM,{}),(0,c.jsxs)(a.xu,{children:[t&&(0,c.jsx)(s.Cd,{children:t}),(0,c.jsx)(s.X,{children:n})]}),(0,c.jsx)(o.P,{onClick:r,position:"relative",right:0,size:"sm",top:-1})]})}});null!==r&&void 0!==r&&r.id&&e.isActive(r.id)?e.update(r.id,i):e(i)},successAlert:function(n,t,r){var i=u(u({},r),{},{position:(null===r||void 0===r?void 0:r.position)||"top",render:function(e){var r=e.onClose;return(0,c.jsxs)(s.bZ,{alignItems:"normal",status:"success",variant:"subtle",children:[(0,c.jsx)(s.zM,{}),(0,c.jsxs)(a.xu,{children:[t&&(0,c.jsx)(s.Cd,{children:t}),(0,c.jsx)(s.X,{children:n})]}),(0,c.jsx)(o.P,{onClick:r,position:"relative",right:0,size:"sm",top:-1})]})}});null!==r&&void 0!==r&&r.id&&e.isActive(r.id)?e.update(r.id,i):e(i)}}}},63908:function(e,n,t){"use strict";t.d(n,{d:function(){return s}});var r=t(65028),i=t(28026),s=function(){var e=(0,r.h)(),n=(0,i.m)({href:"/datamap",basePath:"/"});return{systemOrDatamapRoute:e.plus?n.href:"/system"}}},10846:function(e,n,t){"use strict";t.d(n,{V:function(){return h},t:function(){return d}});var r=t(59499),i=t(1396),s=t(85893);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var c=function(e){var n=e.message;return(0,s.jsxs)(i.xv,{"data-testid":"toast-success-msg",children:[(0,s.jsx)("strong",{children:"Success:"})," ",n]})},l=function(e){var n=e.message;return(0,s.jsxs)(i.xv,{"data-testid":"toast-error-msg",children:[(0,s.jsx)("strong",{children:"Error:"})," ",n]})},u={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},d=function(e){var n=(0,s.jsx)(c,{message:e});return o(o({},u),{description:n})},h=function(e){var n=(0,s.jsx)(l,{message:e});return o(o({},u),{description:n,status:"error"})}},87424:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ze}});var r=t(97142),i=t(50939),s=t(13275),a=t(40599),o=t(1396),c=t(43894),l=t(58477),u=t(67294),d=t(85893),h=function(e){var n=e.activeStep,t=e.steps;return(0,d.jsx)(o.Kq,{alignItems:"flex-start",direction:["row"],w:"100%",children:t.map((function(e){return(0,d.jsx)(u.Fragment,{children:n&&n===e.number?(0,d.jsxs)(o.Kq,{alignItems:"baseline",direction:["column"],children:[(0,d.jsx)(l.F4,{color:"#824EF2"}),(0,d.jsx)(o.xv,{color:"#805AD5",children:e.name})]}):(0,d.jsxs)(o.Kq,{alignItems:"baseline",direction:["column"],children:[(0,d.jsx)(l.F4,{}),(0,d.jsx)(o.xv,{children:e.name})]})},e.number)}))})},p=t(15820),f=function(e){var n=e.activeStep,t=e.setActiveStep,r=e.steps;return(0,d.jsx)(p.v,{authorizedFlags:["configWizardStepper"],renderOn:function(){return(0,d.jsxs)(o.Kq,{direction:["column","row"],children:[(0,d.jsx)(o.Kq,{alignItems:"center",direction:"column",spacing:0,children:r.map((function(e){return(0,d.jsxs)(u.Fragment,{children:[n&&1!==n&&n!==e.number&&n>e.number-1?(0,d.jsx)(l.sc,{boxSize:8,cursor:e.number<n?"pointer":"default",onClick:function(){e.number<n&&t(e.number)}}):(0,d.jsx)(l.cL,{boxSize:8,cursor:n&&e.number<n?"pointer":"default",onClick:function(){n&&e.number<n&&t(e.number)}}),e.number!==r.length?(0,d.jsx)(l.Cf,{boxSize:20}):null]},e.number)}))}),(0,d.jsx)(o.Kq,{direction:"column",justify:"space-between",minW:"100%",children:r.map((function(e){return(0,d.jsxs)(o.xu,{children:[(0,d.jsxs)(o.xv,{color:"gray.800",children:["Step ",e.number]}),(0,d.jsx)(o.xv,{color:"gray.500",children:e.name})]},e.name)}))})]})}})},m=t(87109),x=t(21885),g=t(90846),j=t(93912),y=t(35839),v=t(52565),b=t(28633),w=t(64598),O=t(79145),k=t(65028),C=t(41438),S=t(23720),z=t(78610),_=t(8836),P=function(e){var n,t=e.onClick,i=(0,k.h)(),s=i.plus,a=i.dataFlowScanning,u=(0,r.C)(C.bw),h=null!==(n=null===u||void 0===u?void 0:u.cluster_health)&&void 0!==n?n:"unknown",p=h===S.wW.HEALTHY;if(!s)return null;var f="The scanner will connect to your infrastructure to automatically scan and create a list of all systems available.";a?p||(f="Your cluster appears not to be healthy. Its status is ".concat(h,".")):f="The data flow scanner is not enabled, please check your configuration.";var m=!a||!p;return(0,d.jsxs)(o.Kq,{direction:"row",display:"flex",alignItems:"center",children:[(0,d.jsxs)(o.Ug,{position:"relative",children:[(0,d.jsx)(c.hU,{"aria-label":"Data flow scan",boxSize:z.kj,minW:z.kj,boxShadow:"base",variant:"ghost",icon:(0,d.jsx)(l.pt,{boxSize:"10"}),onClick:t,"data-testid":"data-flow-scan-btn",disabled:m}),a?(0,d.jsx)(O.Z,{connected:p,title:p?"Cluster is connected and healthy":"Cluster is ".concat(h),position:"absolute",left:z.kj-12,top:-1,"data-testid":"cluster-health-indicator"}):null]}),(0,d.jsx)(o.xv,{children:"Data Flow Scan"}),(0,d.jsx)(y.u,{fontSize:"md",label:f,placement:"right",children:(0,d.jsx)(l.UO,{boxSize:5,color:"gray.400"})})]})},A=function(){var e=(0,r.T)();return(0,d.jsx)(v.m$.form,{w:"100%","data-testid":"add-system-form",children:(0,d.jsxs)(o.Kq,{spacing:10,children:[(0,d.jsx)(o.X6,{as:"h3",size:"lg",children:"Add Systems"}),(0,d.jsx)(b.UQ,{allowToggle:!0,border:"transparent",children:(0,d.jsx)(b.Qd,{children:function(e){var n=e.isExpanded;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("h2",{children:["Systems describe any services that store or process data for your organization, including third-party APIs, web applications, databases, and data warehouses. System discovery allows Fides to identify and build a data map from the list of systems that exist within your organization.",(0,d.jsx)(b.KF,{display:"inline",padding:"0px",ml:"5px",width:"auto",color:"complimentary.500",children:n?"(show less)":"(show more)"})]}),(0,d.jsx)(b.Hk,{padding:"0px",mt:"20px",children:"Let\u2019s get started by adding systems that contain data in our organization. You can speed this up by using the automated scanners or adding your systems manually."})]})}})}),(0,d.jsx)(w.NI,{children:(0,d.jsxs)(o.Kq,{spacing:5,children:[(0,d.jsxs)(o.Kq,{direction:"row",display:"flex",alignItems:"center",children:[(0,d.jsx)(c.hU,{"aria-label":"AWS",boxSize:z.kj,minW:z.kj,boxShadow:"base",variant:"ghost",icon:(0,d.jsx)(l.bj,{boxSize:"full"}),onClick:function(){e((0,a.CQ)(S.GC.AWS)),e((0,a.sz)())},"data-testid":"aws-btn"}),(0,d.jsx)(o.xv,{children:"Infrastructure Scan (AWS)"}),(0,d.jsx)(y.u,{fontSize:"md",label:"Infrastructure scanning allows you to connect to your cloud infrastructure and automatically identify systems that should be on your data map.",placement:"right",children:(0,d.jsx)(l.UO,{boxSize:5,color:"gray.400"})})]}),(0,d.jsxs)(o.Kq,{direction:"row",display:"flex",alignItems:"center",children:[(0,d.jsx)(c.hU,{"aria-label":"Okta",boxSize:z.kj,minW:z.kj,boxShadow:"base",variant:"ghost",icon:(0,d.jsx)(l.tb,{boxSize:"full"}),onClick:function(){e((0,a.CQ)(S.GC.OKTA)),e((0,a.sz)())},"data-testid":"okta-btn"}),(0,d.jsx)(o.xv,{children:"System Scan (Okta)"})]}),(0,d.jsx)(P,{onClick:function(){e((0,a.sz)()),e((0,a.CQ)(_.D.DATA_FLOW))}}),(0,d.jsxs)(o.Kq,{direction:"row",display:"flex",alignItems:"center",children:[(0,d.jsx)(o.Ug,{children:(0,d.jsx)(c.hU,{"aria-label":"Manual setup",boxSize:z.kj,minW:z.kj,boxShadow:"base",variant:"ghost",icon:(0,d.jsx)(l.P$,{boxSize:"full"}),onClick:function(){e((0,a.sz)(5)),e((0,a.CQ)(_.D.MANUAL))}})}),(0,d.jsx)(o.xv,{children:"Add a system manually"}),(0,d.jsx)(y.u,{fontSize:"md",label:"If you prefer to, you can add systems manually by entering information about them directly.",placement:"right",children:(0,d.jsx)(l.UO,{boxSize:5,color:"gray.400"})})]})]})})]})})},D=t(50029),T=t(16835),E=t(87794),I=t.n(E),F=t(82175),q=t(74231),K=t(96016),W=t(65698),Z=t(70783),R=t(59499);function U(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var M=function(e){return(0,d.jsx)(o.rU,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?U(Object(t),!0).forEach((function(n){(0,R.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):U(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({isExternal:!0,color:"complimentary.500"},e))},L=function(e){return"system_type"in e},N=t(51625),Y=function(e){var n=e.message;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.iz,{}),(0,d.jsx)(o.W2,{maxH:"50vh",overflow:"auto",children:(0,d.jsx)(o.xv,{as:"pre","data-testid":"error-log",children:n})}),(0,d.jsx)(o.iz,{})]})},B=function(e){var n=e.error,t=e.scanType,r=void 0===t?"":t;return(0,d.jsxs)(o.Kq,{"data-testid":"scanner-error",spacing:"4",children:[(0,d.jsxs)(o.Ug,{children:[(0,d.jsx)(o.Ct,{color:"white",bg:"red.500",py:"2",children:"Error"}),(0,d.jsx)(o.X6,{color:"red.500",size:"lg",children:"Failed to Scan"})]}),403===n.status&&r===S.GC.AWS?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.xv,{"data-testid":"permission-msg",children:"Fides was unable to scan AWS. It appears that the credentials were valid to login but they did not have adequate permission to complete the scan."}),(0,d.jsxs)(o.xv,{children:["To fix this issue, double check that you have granted"," ",(0,d.jsx)(M,{href:z.zu,children:"the required permissions"})," ","to these credentials as part of your IAM policy. If you need more help in configuring IAM policies, you can read about them"," ",(0,d.jsx)(M,{href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/introduction_access-management.html",children:"here"}),"."]})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.xv,{"data-testid":"generic-msg",children:"Fides was unable to scan your infrastructure. Please ensure your credentials are accurate and inspect the error log below for more details."}),(0,d.jsx)(Y,{message:n.message}),(0,d.jsxs)(o.xv,{children:["If this error does not clarify why scanning failed, please"," ",(0,d.jsx)(M,{href:z.we,children:"create a new issue"}),"."]})]})]})},X=t(20650),$=t(46995),G=t(38351),H=t(23296),V=function(e){var n=e.handleConfirm,t=e.isOpen,r=e.onClose,i=e.title,s=e.message,a=e.confirmButtonText,o=void 0===a?"Continue":a,h=e.cancelButtonText,p=void 0===h?"Cancel":h,f=(0,u.useRef)(null);return(0,d.jsx)(H.aR,{isOpen:t,leastDestructiveRef:f,onClose:r,children:(0,d.jsx)(H.dh,{children:(0,d.jsxs)(H._T,{alignItems:"center",textAlign:"center",children:[(0,d.jsx)(l.aN,{marginTop:3}),(0,d.jsx)(H.fY,{fontSize:"lg",fontWeight:"bold",children:i}),(0,d.jsx)(H.iP,{pt:0,children:s}),(0,d.jsxs)(H.xo,{children:[(0,d.jsx)(c.zx,{"data-testid":"warning-modal-confirm-btn",onClick:function(){return n()},variant:"outline",children:o}),(0,d.jsx)(c.zx,{colorScheme:"primary",ref:f,onClick:r,ml:3,children:p})]})]})})})},Q=(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.xv,{color:"gray.500",mb:3,children:"Warning, you are about to cancel the scan!"}),(0,d.jsx)(o.xv,{color:"gray.500",mb:3,children:"If you cancel scanning, the scanner will stop and no systems will be returned."}),(0,d.jsx)(o.xv,{color:"gray.500",mb:3,children:"Are you sure you want to cancel?"})]}),J=function(e){var n=e.title,t=e.onClose,r=(0,X.qY)(),i=r.isOpen,s=r.onOpen,a=r.onClose;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(o.Kq,{spacing:8,"data-testid":"scanner-loading",children:[(0,d.jsxs)(o.Ug,{children:[(0,d.jsx)(o.xv,{alignItems:"center",as:"b",color:"gray.900",display:"flex",fontSize:"xl",children:n}),(0,d.jsx)($.P,{"data-testid":"close-scan-in-progress",display:"inline-block",onClick:s})]}),(0,d.jsx)(o.Kq,{alignItems:"center",children:(0,d.jsx)(G.$,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"green.300",size:"xl"})})]}),(0,d.jsx)(V,{isOpen:i,onClose:a,handleConfirm:t,title:"Cancel Scan!",message:Q,confirmButtonText:"Yes, Cancel",cancelButtonText:"No, Continue Scanning"})]})},ee={aws_access_key_id:"",aws_secret_access_key:"",region_name:""},ne=q.Ry().shape({aws_access_key_id:q.Z_().required().trim().matches(/^\w+$/,"Cannot contain spaces or special characters").label("Access Key ID"),aws_secret_access_key:q.Z_().required().trim().matches(/^[^\s]+$/,"Cannot contain spaces").label("Secret"),region_name:q.Z_().required().label("Default Region")}),te=function(){var e=(0,r.C)(a.De),n=(0,r.T)(),t=(0,Z.VY)().successAlert,i=(0,u.useState)(),s=i[0],l=i[1],h=function(e){var r=(null!==e&&void 0!==e?e:[]).filter(L);n((0,a.un)(r)),n((0,a.sz)()),t("Your scan was successfully completed, with ".concat(r.length," new systems detected!"),"Scan Successfully Completed",{isClosable:!0})},p=function(e){var n=(0,W.nU)(e,{status:500,message:"Our system encountered a problem while connecting to AWS."});l(n)},f=function(){n((0,a.sz)(2))},m=(0,N.f)(),x=(0,T.Z)(m,2),g=x[0],j=x[1].isLoading,y=function(){var n=(0,D.Z)(I().mark((function n(t){var r;return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l(void 0),n.next=3,g({organization_key:e,generate:{config:t,target:S.GC.AWS,type:S.j.SYSTEMS}});case 3:r=n.sent,(0,W.D4)(r)?p(r.error):h(r.data.generate_results);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,d.jsx)(F.J9,{initialValues:ee,validationSchema:ne,onSubmit:y,children:function(e){var n=e.isValid,t=e.isSubmitting,r=e.dirty;return(0,d.jsx)(F.l0,{"data-testid":"authenticate-aws-form",children:(0,d.jsxs)(o.Kq,{spacing:10,children:[t?(0,d.jsx)(J,{title:"System scanning in progress",onClose:f}):null,s?(0,d.jsx)(B,{error:s,scanType:"aws"}):null,t||s?null:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.X6,{size:"lg",children:"Authenticate Scanner"}),(0,d.jsx)(b.UQ,{allowToggle:!0,border:"transparent",children:(0,d.jsx)(b.Qd,{children:function(e){var n=e.isExpanded;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("h2",{children:["The scanner can be connected to your cloud infrastructure provider to automatically scan and create a list of all systems that may contain personal data.",(0,d.jsx)(b.KF,{display:"inline",padding:"0px",ml:"5px",width:"auto",color:"complimentary.500",children:n?"(show less)":"(show more)"})]}),(0,d.jsxs)(b.Hk,{padding:"0px",mt:"20px",children:["In order to run the scanner, please provide credentials for authenticating to AWS. Please note, the credentials must have the"," ",(0,d.jsx)(M,{href:z.zu,children:"minimum permissions listed in the support documentation here"}),". You can"," ",(0,d.jsx)(M,{href:z._p,children:"copy the sample IAM policy here"}),"."]})]})}})}),(0,d.jsxs)(o.Kq,{children:[(0,d.jsx)(K.j0,{name:"aws_access_key_id",label:"Access Key ID",tooltip:"AWS Access Key ID is the AWS ID associated with the account you want to use for scanning."}),(0,d.jsx)(K.j0,{type:"password",name:"aws_secret_access_key",label:"Secret",tooltip:"The secret access key is generated when you create your new access key ID."}),(0,d.jsx)(K.AP,{name:"region_name",label:"Default Region",tooltip:"Specify the default region in which your infrastructure is located. This is necessary for successful scanning.",options:z.xO})]})]}),t?null:(0,d.jsxs)(o.Ug,{children:[(0,d.jsx)(c.zx,{variant:"outline",onClick:f,children:"Cancel"}),(0,d.jsx)(c.zx,{type:"submit",variant:"primary",isDisabled:!r||!n,isLoading:j,"data-testid":"submit-btn",children:"Save and Continue"})]})]})})}})},re={orgUrl:"",token:""},ie=q.Ry().shape({orgUrl:q.Z_().required().trim().url().label("URL"),token:q.Z_().required().trim().matches(/^[^\s]+$/,"Cannot contain spaces").label("Token")}),se=function(){var e=(0,r.C)(a.De),n=(0,r.T)(),t=(0,Z.VY)().successAlert,i=(0,u.useState)(),s=i[0],l=i[1],h=function(e){var r=(null!==e&&void 0!==e?e:[]).filter(L);n((0,a.un)(r)),n((0,a.sz)()),t("Your scan was successfully completed, with ".concat(r.length," new systems detected!"),"Scan Successfully Completed",{isClosable:!0})},p=function(e){var n=(0,W.nU)(e,{status:500,message:"Our system encountered a problem while connecting to Okta."});l(n)},f=function(){n((0,a.sz)(2))},m=(0,N.f)(),x=(0,T.Z)(m,2),g=x[0],j=x[1].isLoading,y=function(){var n=(0,D.Z)(I().mark((function n(t){var r;return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l(void 0),n.next=3,g({organization_key:e,generate:{config:t,target:S.GC.OKTA,type:S.j.SYSTEMS}});case 3:r=n.sent,(0,W.D4)(r)?p(r.error):h(r.data.generate_results);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,d.jsx)(F.J9,{initialValues:re,validationSchema:ie,onSubmit:y,children:function(e){var n=e.isValid,t=e.isSubmitting,r=e.dirty;return(0,d.jsx)(F.l0,{"data-testid":"authenticate-okta-form",children:(0,d.jsxs)(o.Kq,{spacing:10,children:[t?(0,d.jsx)(J,{title:"System scanning in progress",onClose:f}):null,s?(0,d.jsx)(B,{error:s}):null,t||s?null:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.X6,{size:"lg",children:"Authenticate Scanner"}),(0,d.jsx)(b.UQ,{allowToggle:!0,border:"transparent",children:(0,d.jsx)(b.Qd,{children:function(e){var n=e.isExpanded;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("h2",{children:["The scanner can be connected to your sign-on provider to automatically scan and create a list of all systems that your team are using that may contain personal data.",(0,d.jsx)(b.KF,{display:"inline",padding:"0px",ml:"5px",width:"auto",color:"complimentary.500",children:n?"(show less)":"(show more)"})]}),(0,d.jsx)(b.Hk,{padding:"0px",mt:"20px",children:"Currently the scanner supports certain Okta. We will be adding support for other sign-on providers (e.g. Auth0,Microsoft, Google) shortly, please let us know if you have specific requests."})]})}})}),(0,d.jsx)(o.iz,{m:"20px 0px !important"}),(0,d.jsxs)(o.xv,{m:"0px !important",children:["In order to run the scanner, please provide your Okta token. You can find"," ",(0,d.jsxs)(M,{href:z.L5,children:["instructions here"," "]})," ","on how to retrieve a suitable token from your Okta administration"]}),"panel.",(0,d.jsxs)(o.Kq,{children:[(0,d.jsx)(K.j0,{name:"orgUrl",label:"Org URL:"}),(0,d.jsx)(K.j0,{name:"token",label:"Okta token:",type:"password"})]})]}),t?null:(0,d.jsxs)(o.Ug,{children:[(0,d.jsx)(c.zx,{variant:"outline",onClick:f,children:"Cancel"}),(0,d.jsx)(c.zx,{type:"submit",variant:"primary",isDisabled:!r||!n,isLoading:j,"data-testid":"submit-btn",children:"Save and Continue"})]})]})})}})},ae=t(9555),oe=t(10846),ce=t(26595),le=function(){var e=(0,r.T)(),n=(0,ae.pm)(),t=(0,C.J9)(),i=(0,T.Z)(t,1)[0],s=(0,C.KW)(),l=(0,T.Z)(s,2),h=l[0],p=l[1].data,f=(0,u.useState)(),m=f[0],x=f[1],g=(0,u.useState)(!1),j=g[0],y=g[1],v=function(e){var n=(0,W.nU)(e,{status:500,message:"Our system encountered a problem while scanning your infrastructure."});x(n)};(0,u.useEffect)((function(){var e=function(){var e=(0,D.Z)(I().mark((function e(){var n,t,r,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return n=e.sent,t=n.error,r=!!t&&(0,ce.isAPIError)(t)&&404===t.status,y(!r),e.next=8,h({classify:!0});case 8:s=e.sent,(0,W.D4)(s)&&v(s.error);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[h,i]),(0,u.useEffect)((function(){var t=function(){var t=(0,D.Z)(I().mark((function t(){var r,s,o;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!p){t.next=9;break}return t.next=3,i();case 3:r=t.sent,s=r.data,o=j?(null===s||void 0===s?void 0:s.added_systems)||[]:p.systems,n((0,oe.t)("Your scan was successfully completed, with ".concat(o.length," new systems detected!"))),e((0,a.un)(o)),e((0,a.sz)());case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[p,n,e,j,i]);var b=function(){e((0,a.sz)(2))};return m?(0,d.jsxs)(o.Kq,{children:[(0,d.jsx)(B,{error:m}),(0,d.jsx)(o.xu,{children:(0,d.jsx)(c.zx,{variant:"outline",onClick:b,"data-testid":"cancel-btn",children:"Cancel"})})]}):(0,d.jsx)(J,{title:"Infrastructure scanning in progress",onClose:b})},ue=function(){var e=(0,r.C)(a.Ll);return(0,d.jsxs)(d.Fragment,{children:[e===S.GC.AWS?(0,d.jsx)(te,{}):null,e===S.GC.OKTA?(0,d.jsx)(se,{}):null,e===_.D.DATA_FLOW?(0,d.jsx)(le,{}):null]})},de=t(7906),he=t(70889),pe=function(){var e=function(){var e,n,t=(0,r.T)(),i=function(e){t((0,a.nD)(e)),t((0,a.sz)())},s=(0,he.vz)(),o=(0,T.Z)(s,1)[0],c=(0,he.$f)(),l=(0,T.Z)(c,1)[0],d=(0,he.GQ)(he.Av),h=d.data,p=d.isLoading,f=(0,u.useState)(!1),m=f[0],x=f[1];(0,u.useEffect)((function(){p||m||null!==h&&void 0!==h&&h.name&&null!==h&&void 0!==h&&h.description&&t((0,a.sz)())}),[p,h,t,m]);var g=(0,ae.pm)(),j=(0,F.TA)({initialValues:{name:null!==(e=null===h||void 0===h?void 0:h.name)&&void 0!==e?e:"",description:null!==(n=null===h||void 0===h?void 0:h.description)&&void 0!==n?n:""},onSubmit:function(){var e=(0,D.Z)(I().mark((function e(n){var t,r,s,a,c,u,d,p;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(!0),a={name:null!==(t=n.name)&&void 0!==t?t:null===h||void 0===h?void 0:h.name,description:null!==(r=n.description)&&void 0!==r?r:null===h||void 0===h?void 0:h.description,fides_key:null!==(s=null===h||void 0===h?void 0:h.fides_key)&&void 0!==s?s:he.Av,organization_fides_key:he.Av},h){e.next=14;break}return e.next=5,o(a);case 5:if(c=e.sent,!(0,W.D4)(c)){e.next=10;break}return u=(0,W.e$)(c.error),g({status:"error",description:u}),e.abrupt("return");case 10:g.closeAll(),i(a),e.next=23;break;case 14:return e.next=16,l(a);case 16:if(d=e.sent,!(0,W.D4)(d)){e.next=21;break}return p=(0,W.e$)(d.error),g({status:"error",description:p}),e.abrupt("return");case 21:g.closeAll(),i(a);case 23:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),enableReinitialize:!0,validate:function(e){var n={};return e.name||(n.name="Organization name is required"),e.description||(n.description="Organization description is required"),n}});return j}(),n=e.errors,t=e.handleBlur,i=e.handleChange,s=e.handleSubmit,h=e.touched,p=e.values,f=e.isSubmitting;return(0,d.jsx)(v.m$.form,{onSubmit:s,w:"100%","data-testid":"organization-info-form",children:(0,d.jsxs)(o.Kq,{spacing:10,children:[(0,d.jsx)(o.X6,{as:"h3",size:"lg",children:"Create your Organization"}),(0,d.jsx)("div",{children:"Provide your organization information. This information is used to configure your organization in Fides for data map reporting purposes."}),(0,d.jsx)(o.Kq,{children:(0,d.jsxs)(w.NI,{children:[(0,d.jsxs)(o.Kq,{direction:"row",mb:5,justifyContent:"flex-end",children:[(0,d.jsx)(w.lX,{w:"100%",children:"Organization name"}),(0,d.jsx)(de.II,{type:"text",id:"name",name:"name",focusBorderColor:"gray.700",onChange:i,onBlur:t,value:p.name,isInvalid:h.name&&Boolean(n.name),minW:"65%",w:"65%","data-testid":"input-name"}),(0,d.jsx)(y.u,{fontSize:"md",label:"The legal name of your organization",placement:"right",children:(0,d.jsx)(l.UO,{boxSize:5,color:"gray.400"})})]}),(0,d.jsxs)(o.Kq,{direction:"row",justifyContent:"flex-end",children:[(0,d.jsx)(w.lX,{w:"100%",children:"Description"}),(0,d.jsx)(de.II,{type:"text",id:"description",name:"description",focusBorderColor:"gray.700",onChange:i,onBlur:t,value:p.description,isInvalid:h.description&&Boolean(n.description),minW:"65%",w:"65%","data-testid":"input-description"}),(0,d.jsx)(y.u,{fontSize:"md",label:"An explanation of the type of organization and primary activity.  For example \u201cAcme Inc. is an e-commerce company that sells scarves.\u201d",placement:"right",children:(0,d.jsx)(l.UO,{boxSize:5,color:"gray.400"})})]})]})}),(0,d.jsx)(c.zx,{type:"submit",variant:"primary",isDisabled:!p.name||!p.description,isLoading:f,"data-testid":"submit-btn",children:"Save and Continue"})]})})},fe=t(11163),me=t(16488),xe=t(63908),ge=t(37903),je=t(67087),ye=[{name:"Name",attribute:"name"},{name:"System type",attribute:"system_type"},{name:"Resource ID",attribute:"fidesctl_meta.resource_id"}],ve=function(){var e=(0,r.C)(a.j4),n=(0,r.T)(),t=(0,fe.useRouter)(),i=(0,xe.d)().systemOrDatamapRoute,s=(0,X.qY)(),l=s.isOpen,h=s.onOpen,p=s.onClose,f=(0,je.dB)(),m=(0,T.Z)(f,1)[0],x=(0,u.useState)(e),g=x[0],j=x[1],y=(0,u.useState)(ye),v=y[0],b=y[1],w=(0,r.C)(a.Ll),O=(0,Z.HK)().handleError,k=function(e){t.push(e).then((function(){n((0,a.mc)())}))},C=function(){var e=(0,D.Z)(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(g);case 2:if(t=e.sent,!(0,W.D4)(t)){e.next=5;break}return e.abrupt("return",O(t.error));case 5:if(w!==_.D.DATA_FLOW){e.next=8;break}return n((0,je.Wc)(g)),e.abrupt("return",k("/classify-systems"));case 8:return e.abrupt("return",k(i));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){n((0,a.sz)(2))},z=(0,d.jsxs)(o.xv,{color:"gray.500",mb:3,children:["You\u2019re registering ",g.length," of ",e.length," systems available. Do you want to continue with registration or cancel and register all systems now?"]});return(0,d.jsxs)(o.xu,{maxW:"full",children:[(0,d.jsxs)(o.Kq,{spacing:10,children:[(0,d.jsx)(o.X6,{as:"h3",size:"lg","data-testid":"scan-results",children:"Scan results"}),0===e.length?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.xv,{"data-testid":"no-results",children:"No results were found for your infrastructure scan."}),(0,d.jsx)(o.Ug,{children:(0,d.jsx)(c.zx,{variant:"outline",onClick:S,"data-testid":"back-btn",children:"Back"})})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(o.xu,{children:[(0,d.jsx)(o.xv,{children:"Below are the results of your infrastructure scan. To continue, select the systems you would like registered in your data map and reports."}),(0,d.jsx)(o.xu,{display:"flex",justifyContent:"end",children:(0,d.jsx)(me.s,{allColumns:ye,selectedColumns:v,onChange:b})})]}),(0,d.jsx)(ge.cK,{allSystems:e,checked:g,onChange:j,columns:v}),(0,d.jsxs)(o.Ug,{children:[(0,d.jsx)(c.zx,{variant:"outline",onClick:S,children:"Back"}),(0,d.jsx)(c.zx,{variant:"primary",isDisabled:0===g.length,"data-testid":"register-btn",onClick:function(){e.length>g.length?h():C()},children:"Register selected systems"})]})]})]}),(0,d.jsx)(V,{title:"Warning",message:z,handleConfirm:C,isOpen:l,onClose:p})]})},be=t(35922),we=function(e){var n,t=e.systemInReview,i=e.systemsForReview,s=e.onAddNextSystem,a=null!==(n=t.name)&&void 0!==n?n:t.fides_key,u=(0,r.T)(),h=(0,fe.useRouter)(),p=(0,xe.d)().systemOrDatamapRoute,f=i.findIndex((function(e){return e.fides_key===t.fides_key}));return(0,d.jsx)(v.m$.form,{w:"100%",children:(0,d.jsxs)(o.Kq,{spacing:10,children:[(0,d.jsxs)(o.X6,{as:"h3",color:"green.500",size:"lg","data-testid":"success-page-heading",children:[(0,d.jsx)(o.Ct,{fontSize:"16px",margin:"10px",padding:"10px",variant:"solid",colorScheme:"green",children:"Success"}),a," successfully registered!"]}),(0,d.jsxs)(o.xv,{children:[a," has been successfully added to the registry!"]}),(0,d.jsx)(be.xJ,{children:(0,d.jsxs)(be.iA,{variant:"simple",children:[(0,d.jsx)(be.hr,{children:(0,d.jsx)(be.Tr,{children:(0,d.jsx)(be.Th,{pl:0,children:"System Name"})})}),(0,d.jsx)(be.p3,{children:i.map((function(e,n){return(0,d.jsxs)(be.Tr,{children:[(0,d.jsx)(be.Td,{color:n===f?"green.500":void 0,pl:0,children:e.name}),(0,d.jsx)(be.Td,{children:n<=f?(0,d.jsx)(l.sc,{boxSize:5,"data-testid":"system-reviewed"}):(0,d.jsx)(l.cL,{boxSize:5,"data-testid":"system-needs-review"})})]},"".concat(e.fides_key,"-tr"))}))})]})}),(0,d.jsx)(o.xv,{children:"You can continue to add more systems now or finish."}),(0,d.jsxs)(o.xu,{children:[(0,d.jsx)(c.zx,{onClick:s,mr:2,size:"sm",variant:"outline","data-testid":"add-next-system-btn",children:"Add system manually"}),(0,d.jsx)(c.zx,{onClick:function(){u((0,je.db)(void 0)),h.push(p)},colorScheme:"primary",size:"sm","data-testid":"finish-btn",children:"Finish"})]})]})})},Oe=j.some((function(e){return"configWizardStepper"===e.name&&e.isActive})),ke=function(){var e=(0,r.C)(a.xx),n=(0,r.C)(a.tT),t=(0,r.T)(),i=(0,r.C)(a.Mu),s=(0,r.C)(a.j4),u=function(e){t((0,a.q_)(e)),t((0,a.NA)())};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.xu,{bg:"white",children:(0,d.jsxs)(c.zx,{bg:"transparent",fontWeight:"500",m:2,ml:6,onClick:function(){t((0,a.mc)())},children:[(0,d.jsx)(l.LG,{})," Cancel setup"]})}),(0,d.jsx)(o.iz,{orientation:"horizontal"}),(0,d.jsx)(o.Kq,{direction:["column","row"],children:(0,d.jsx)(o.Kq,{bg:"white",height:"100vh",width:"100%",children:(0,d.jsxs)(o.Kq,{mt:10,mb:10,direction:"row",spacing:"24px",justifyContent:Oe?void 0:"center",children:[(0,d.jsx)(o.xu,{flexShrink:0,children:(0,d.jsx)(f,{activeStep:e,setActiveStep:function(e){return t((0,a.sz)(e))},steps:z.Ss})}),(0,d.jsxs)(o.xu,{w:4===e?"100%":"40%",children:[1===e?(0,d.jsx)(pe,{}):null,2===e?(0,d.jsx)(A,{}):null,3===e?(0,d.jsx)(ue,{}):null,4===e?(0,d.jsx)(o.xu,{pr:10,children:(0,d.jsx)(ve,{})}):null,5===e?(0,d.jsxs)(o.Kq,{direction:"column",children:[n<=3?(0,d.jsx)(h,{activeStep:n,steps:z.M6}):null,1===n&&(0,d.jsx)(m.Z,{system:i,onSuccess:u,abridged:!0}),2===n&&i&&(0,d.jsx)(x.Z,{system:i,onSuccess:u,abridged:!0}),3===n&&i&&(0,d.jsx)(g.Z,{system:i,onSuccess:function(){return t((0,a.NA)())},abridged:!0}),4===n&&i&&(0,d.jsx)(we,{systemInReview:i,systemsForReview:s,onAddNextSystem:function(){t((0,a.aY)())}})]}):null]})]})})})]})},Ce=t(49198),Se=function(){var e=(0,fe.useRouter)(),n=(0,r.T)();return(0,d.jsxs)(o.Kq,{"data-testid":"setup",children:[(0,d.jsx)(o.W2,{height:"35vh",maxW:"100vw",padding:"0px",bg:"white",color:"white",children:(0,d.jsx)(Ce.Ee,{boxSize:"100%",objectFit:"cover",src:"/images/config_splash.svg",alt:"Data Map"})}),(0,d.jsx)("main",{children:(0,d.jsxs)(o.Kq,{px:9,py:10,spacing:6,position:"absolute",top:"10%",width:"50%",children:[(0,d.jsx)(o.X6,{as:"h3",size:"lg",children:"Generate your Data Map"}),(0,d.jsx)("div",{children:"Privacy engineering can seem like an endlessly complex confluence of legal and data engineering terminology - fear not; Fides is here to simplify this. This wizard will help you to very quickly configure Fidesctl and in doing so build your first data map. Along the way you'll learn the basic resources and concepts of privacy engineering with Fides so you can quickly apply in all your work."}),(0,d.jsx)("div",{children:"Let's get started!"}),(0,d.jsxs)(o.Kq,{direction:["column","row"],spacing:"24px",children:[(0,d.jsx)(c.zx,{variant:"primary",onClick:function(){return n((0,a.sz)())},"data-testid":"guided-setup-btn",children:"Generate a Map Automatically (recommended)"}),(0,d.jsx)(c.zx,{variant:"ghost",mr:4,colorScheme:"complimentary",onClick:function(){return e.push("/system")},children:"Skip (Power User)"})]})]})})]})},ze=function(){return 0===(0,r.C)(a.xx)?(0,d.jsx)(s.Z,{title:"Config Wizard",noPadding:!0,children:(0,d.jsx)(Se,{})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.Z,{}),(0,d.jsx)(ke,{})]})}},26595:function(e,n,t){"use strict";t.d(n,{isAPIError:function(){return r.Bw},isErrorResult:function(){return r.D4}});var r=t(27396)},82590:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/add-systems",function(){return t(87424)}])}},function(e){e.O(0,[8816,3296,2156,4231,7060,6912,3766,357,3275,7080,5056,9774,2888,179],(function(){return n=82590,e(e.s=n);var n}));var n=e.O();_N_E=n}]);